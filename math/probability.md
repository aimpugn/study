# Probability

- [Probability](#probability)
    - [확률의 곱셈 법칙](#확률의-곱셈-법칙)
    - [독립 시행의 확률](#독립-시행의-확률)
    - [Bloom Filter 확률 계산에서의 지수 설명](#bloom-filter-확률-계산에서의-지수-설명)
        - [k개의 해시 함수와 $(1 - 1/m)^k$](#k개의-해시-함수와-1---1mk)
        - [n개의 요소와 $((1 - 1/m)^k)^n$](#n개의-요소와-1---1mkn)

## 확률의 곱셈 법칙

독립적인 사건 A와 B가 동시에 모두 발생할 확률은 각 사건의 확률을 곱한 것과 같습니다.

$P(\text{A and B}) = P(A) * P(B)$

이 원리가 지수 형태로 표현됩니다.

## 독립 시행의 확률

동일한 확률 실험을 독립적으로 여러 번 반복할 때,
모든 시행에서 특정 결과가 나올 확률은 한 번의 시행에서 그 결과가 나올 확률의 거듭제곱과 같습니다.

지수 표현은 많은 독립적 사건이 모두 특정 조건을 만족해야 할 때 확률을 간단히 표현할 수 있게 해줍니다.

## Bloom Filter 확률 계산에서의 지수 설명

Bloom Filter의 확률 모델은 각 해시 함수와 각 요소가 독립적으로 작동한다고 가정합니다.
이는 수학적 모델링을 단순화하고 분석을 용이하게 합니다.

### k개의 해시 함수와 $(1 - 1/m)^k$

k제곱은 k개의 독립적인 해시 함수가 모두 특정 조건을 만족해야 함을 나타냅니다.

- 각 해시 함수는 독립적으로 작동한다고 가정합니다.
- 하나의 해시 함수가 특정 비트를 0으로 남길 확률: $(1 - 1/m)$
- k개의 해시 함수 모두가 그 비트를 0으로 남길 확률

    각 해시 함수가 독립적으로 그 비트를 0으로 남겨야 합니다.
    따라서, k개의 해시 함수 **모두**가 특정 비트를 0으로 남길 확률: $(1 - 1/m)$를 k번 곱함:

    $(1 - 1/m) \times (1 - 1/m) \times ... \times (1 - 1/m) = (1 - 1/m)^k$

    ```sh
    해시함수1: (1 - 1/m)
    해시함수2: (1 - 1/m)
    ...
    해시함수k: (1 - 1/m)
    -----------------------
    모든 함수: (1 - 1/m)^k
    ```

    즉 k제곱의 의미는 k개의 해시 함수가 **모두** 특정 조건(예: 특정 비트를 0으로 남기는 것)을 만족해야 할 때,
    각 해시 함수의 확률을 k번 곱하는 것을 간단히 k제곱으로 표현한 것입니다.

### n개의 요소와 $((1 - 1/m)^k)^n$

n제곱은 n개의 독립적인 요소가 모두 특정 조건을 만족해야 함을 나타냅니다.

- 각 요소는 독립적으로 추가된다고 가정합니다.
- 하나의 요소가 특정 비트를 0으로 남길 확률: $(1 - 1/m)^k$ (앞에서 계산)
- n개의 요소 모두가 그 비트를 0으로 남길 확률: $(1 - 1/m)^k$를 n번 곱함

    각 요소가 독립적으로 그 비트를 0으로 남겨야 합니다.
    따라서, n개의 요소 **모두**가 특정 비트를 0으로 남길 확률:

    $((1 - 1/m)^k) \times ((1 - 1/m)^k) \times ... \times ((1 - 1/m)^k) = ((1 - 1/m)^k)^n$

    ```sh
    요소1: (1 - 1/m)^k
    요소2: (1 - 1/m)^k
    ...
    요소n: (1 - 1/m)^k
    -----------------------
    모든 요소: ((1 - 1/m)^k)^n
    ```

    즉, n제곱의 의미는 n개의 요소가 **모두** 특정 조건을 만족해야 할 때,
    각 요소의 확률을 n번 곱하는 것을 간단히 n제곱으로 표현한 것입니다.

    $((1 - 1/m)^k)^n$과 같은 복합적인 확률 표현을 풀어서 말한다면,
    "k개의 해시 함수가 모두 특정 비트를 0으로 남길 확률"을 "n개의 요소에 대해 모두 적용"하는 것을 나타냅니다
