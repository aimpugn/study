/**
 * Generate colors using https://github.com/andreyvit/plist-to-json
 *
 * @format
 */

// const col = []; // run your .itermcolors file through the above parser and replace the array with the output
// plist-to-json ./mac/terminal/iterm2/230223_color.itermcolors
const col = [
    {
        "Ansi 0 Color": {
            "Alpha Component": 1,
            "Blue Component": 0.37297528982162476,
            "Color Space": "sRGB",
            "Green Component": 0.286213755607605,
            "Red Component": 0.11437974125146866,
        },
        "Ansi 1 Color": {
            "Alpha Component": 1,
            "Blue Component": 0.17981067299842834,
            "Color Space": "sRGB",
            "Green Component": 0.4013557434082031,
            "Red Component": 0.8614985346794128,
        },
        "Ansi 10 Color": {
            "Alpha Component": 1,
            "Blue Component": 0.6624459028244019,
            "Color Space": "sRGB",
            "Green Component": 0.6191124320030212,
            "Red Component": 0.45324236154556274,
        },
        "Ansi 11 Color": {
            "Alpha Component": 1,
            "Blue Component": 0.6841315627098083,
            "Color Space": "sRGB",
            "Green Component": 0.8567533493041992,
            "Red Component": 0.9967992901802063,
        },
        "Ansi 12 Color": {
            "Alpha Component": 1,
            "Blue Component": 0.8934585452079773,
            "Color Space": "sRGB",
            "Green Component": 0.7816599011421204,
            "Red Component": 0.04712028056383133,
        },
        "Ansi 13 Color": {
            "Alpha Component": 1,
            "Blue Component": 0.9486350417137146,
            "Color Space": "sRGB",
            "Green Component": 0.9115832448005676,
            "Red Component": 0.7786356806755066,
        },
        "Ansi 14 Color": {
            "Alpha Component": 1,
            "Blue Component": 0.756599485874176,
            "Color Space": "sRGB",
            "Green Component": 0.7272465825080872,
            "Red Component": 0.5955068469047546,
        },
        "Ansi 15 Color": {
            "Alpha Component": 1,
            "Blue Component": 0.8431317806243896,
            "Color Space": "sRGB",
            "Green Component": 0.9137072563171387,
            "Red Component": 1,
        },
        "Ansi 2 Color": {
            "Alpha Component": 1,
            "Blue Component": 0.671942412853241,
            "Color Space": "sRGB",
            "Green Component": 0.5585123896598816,
            "Red Component": 0,
        },
        "Ansi 3 Color": {
            "Alpha Component": 1,
            "Blue Component": 0.23600149154663086,
            "Color Space": "sRGB",
            "Green Component": 0.6873863339424133,
            "Red Component": 0.9965737462043762,
        },
        "Ansi 4 Color": {
            "Alpha Component": 1,
            "Blue Component": 0.3875561058521271,
            "Color Space": "sRGB",
            "Green Component": 0.35623055696487427,
            "Red Component": 0.14794689416885376,
        },
        "Ansi 5 Color": {
            "Alpha Component": 1,
            "Blue Component": 0.9569568037986755,
            "Color Space": "sRGB",
            "Green Component": 0.8614121079444885,
            "Red Component": 0.46866917610168457,
        },
        "Ansi 6 Color": {
            "Alpha Component": 1,
            "Blue Component": 0.7613871693611145,
            "Color Space": "sRGB",
            "Green Component": 0.6969193816184998,
            "Red Component": 0.37509751319885254,
        },
        "Ansi 7 Color": {
            "Alpha Component": 1,
            "Blue Component": 0.6206133961677551,
            "Color Space": "sRGB",
            "Green Component": 0.7693759202957153,
            "Red Component": 0.8985722064971924,
        },
        "Ansi 8 Color": {
            "Alpha Component": 1,
            "Blue Component": 0.398030161857605,
            "Color Space": "sRGB",
            "Green Component": 0.3676815330982208,
            "Red Component": 0.3308848440647125,
        },
        "Ansi 9 Color": {
            "Alpha Component": 1,
            "Blue Component": 0.5419628620147705,
            "Color Space": "sRGB",
            "Green Component": 0.6025019288063049,
            "Red Component": 0.8679236173629761,
        },
        "Background Color": {
            "Alpha Component": 1,
            "Blue Component": 0.1398269236087799,
            "Color Space": "sRGB",
            "Green Component": 0.10126025229692459,
            "Red Component": 0.02714584209024906,
        },
        "Badge Color": {
            "Alpha Component": 0.5,
            "Blue Component": 0,
            "Color Space": "sRGB",
            "Green Component": 0.14910027384757996,
            "Red Component": 1,
        },
        "Bold Color": {
            "Alpha Component": 1,
            "Blue Component": 0.8354057669639587,
            "Color Space": "sRGB",
            "Green Component": 0.9152947068214417,
            "Red Component": 1,
        },
        "Cursor Color": {
            "Alpha Component": 1,
            "Blue Component": 0.23600149154663086,
            "Color Space": "sRGB",
            "Green Component": 0.6873863339424133,
            "Red Component": 0.9965737462043762,
        },
        "Cursor Guide Color": {
            "Alpha Component": 0.25,
            "Blue Component": 1,
            "Color Space": "sRGB",
            "Green Component": 0.9268137812614441,
            "Red Component": 0.7021402716636658,
        },
        "Cursor Text Color": {
            "Alpha Component": 1,
            "Blue Component": 0.13725349307060242,
            "Color Space": "sRGB",
            "Green Component": 0.09803662449121475,
            "Red Component": 0.0235318373888731,
        },
        "Foreground Color": {
            "Alpha Component": 1,
            "Blue Component": 0.6206133961677551,
            "Color Space": "sRGB",
            "Green Component": 0.7693759202957153,
            "Red Component": 0.8985722064971924,
        },
        "Link Color": {
            "Alpha Component": 1,
            "Blue Component": 0.7342271208763123,
            "Color Space": "sRGB",
            "Green Component": 0.35915297269821167,
            "Red Component": 0,
        },
        "Selected Text Color": {
            "Alpha Component": 1,
            "Blue Component": 0.8431317806243896,
            "Color Space": "sRGB",
            "Green Component": 0.9137072563171387,
            "Red Component": 1,
        },
        "Selection Color": {
            "Alpha Component": 1,
            "Blue Component": 0.4622127413749695,
            "Color Space": "sRGB",
            "Green Component": 0.35736048221588135,
            "Red Component": 0.14969724416732788,
        },
    },
];

function componentToHex(c) {
    const hex = c.toString(16);
    return hex.length === 1 ? `0${hex}` : hex;
}

const mapping = {
    "terminal.background": "Background Color",
    "terminal.foreground": "Foreground Color",
    "terminalCursor.background": "Cursor Text Color",
    "terminalCursor.foreground": "Cursor Color",
    "terminal.ansiBlack": "Ansi 0 Color",
    "terminal.ansiBlue": "Ansi 4 Color",
    "terminal.ansiBrightBlack": "Ansi 8 Color",
    "terminal.ansiBrightBlue": "Ansi 12 Color",
    "terminal.ansiBrightCyan": "Ansi 14 Color",
    "terminal.ansiBrightGreen": "Ansi 10 Color",
    "terminal.ansiBrightMagenta": "Ansi 13 Color",
    "terminal.ansiBrightRed": "Ansi 9 Color",
    "terminal.ansiBrightWhite": "Ansi 15 Color",
    "terminal.ansiBrightYellow": "Ansi 11 Color",
    "terminal.ansiCyan": "Ansi 6 Color",
    "terminal.ansiGreen": "Ansi 2 Color",
    "terminal.ansiMagenta": "Ansi 5 Color",
    "terminal.ansiRed": "Ansi 1 Color",
    "terminal.ansiWhite": "Ansi 7 Color",
    "terminal.ansiYellow": "Ansi 3 Color",
};

console.log(
    JSON.stringify(
        Object.keys(mapping).reduce((obj, vsCodeKey) => {
            const itermKey = mapping[vsCodeKey];
            const red = componentToHex(
                Math.round(col[0][itermKey]["Red Component"] * 255)
            );
            const green = componentToHex(
                Math.round(col[0][itermKey]["Green Component"] * 255)
            );
            const blue = componentToHex(
                Math.round(col[0][itermKey]["Blue Component"] * 255)
            );

            obj[vsCodeKey] = `#${red}${green}${blue}`;
            return obj;
        }, {}),
        null,
        2
    )
);
