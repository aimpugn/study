# MySQL VARCHAR

## VARCHAR?

## `VARCHAR(1)` 은 1 byte와 동치인지

`VARCHAR(1)`이 1바이트와 동치인지 여부는 저장되는 데이터의 인코딩 방식에 따라 다릅니다. `VARCHAR`는 가변 길이 문자열을 저장하는 데 사용되며, 저장되는 문자열의 실제 길이와 인코딩 방식에 따라 필요한 바이트 수가 달라집니다.

### `VARCHAR`의 저장 방식

- **1바이트 길이 정보**: `VARCHAR` 필드는 저장되는 문자열의 길이를 나타내기 위해 1바이트 또는 2바이트의 길이 정보를 추가로 저장합니다. 문자열의 길이가 255바이트 이하인 경우 1바이트의 길이 정보가 사용되고, 그 이상인 경우 2바이트가 사용됩니다 [3][4].
- **문자열 데이터**: 실제 문자열 데이터는 인코딩 방식에 따라 바이트 수가 달라집니다. 예를 들어, ASCII 문자는 1바이트를 차지하지만, UTF-8 인코딩에서는 한 문자가 1~4바이트를 차지할 수 있습니다.

### 예시

- **ASCII 인코딩**: `VARCHAR(1)` 필드에 ASCII 문자를 저장하는 경우, 1바이트의 길이 정보와 1바이트의 데이터로 총 2바이트가 필요합니다.
- **UTF-8 인코딩**: `VARCHAR(1)` 필드에 UTF-8 문자를 저장하는 경우, 문자가 1바이트에서 4바이트를 차지할 수 있습니다. 예를 들어, 한글 문자는 3바이트를 차지합니다.

### 예시 코드

다음은 Python을 사용하여 문자열의 길이를 확인하는 예시입니다:

```python
# ASCII 문자열
ascii_string = 'A'
print(f"ASCII 문자열 길이: {len(ascii_string)} 바이트")

# UTF-8 문자열 (한글)
utf8_string = '가'
print(f"UTF-8 문자열 길이: {len(utf8_string.encode('utf-8'))} 바이트")
```

### 출력 결과

```plaintext
ASCII 문자열 길이: 1 바이트
UTF-8 문자열 길이: 3 바이트
```

### 결론

- `VARCHAR(1)` 필드는 최대 1문자를 저장할 수 있지만, 저장되는 문자의 인코딩 방식에 따라 실제로 필요한 바이트 수가 달라집니다.
- ASCII 문자를 저장하는 경우, 1바이트의 데이터와 1바이트의 길이 정보로 총 2바이트가 필요합니다.
- UTF-8 문자를 저장하는 경우, 문자의 바이트 수에 따라 최대 5바이트(1바이트 길이 정보 + 최대 4바이트 데이터)가 필요할 수 있습니다.

따라서, `VARCHAR(1)`이 항상 1바이트와 동치인 것은 아니며, 저장되는 데이터의 인코딩 방식에 따라 달라집니다.
