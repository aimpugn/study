# Swap memory

## Swap 메모리란?

Swap 메모리는 시스템의 RAM이 가득 찼을 때, 추가적인 메모리 공간을 제공하기 위해 하드 드라이브의 일부 공간을 사용하는 기술이다.
이는 시스템이 더 많은 프로그램을 동시에 실행할 수 있게 해주며, RAM이 부족할 때 시스템의 성능을 일정 수준 유지하도록 돕는다.

## Swap 메모리의 동작 방식

1. **메모리 할당**: 시스템은 RAM에서 사용되지 않는 페이지(메모리의 일부분)를 찾는다.
2. **스왑 아웃**: 선택된 페이지는 디스크의 스왑 공간으로 이동(스왑 아웃)된다. 이 과정은 시스템의 RAM이 가득 차 있을 때 발생한다.
3. **스왑 인**: 필요할 때, 디스크의 스왑 공간에 저장된 데이터는 다시 RAM으로 이동(스왑 인)된다.

## AWS 서버에서의 Swap 메모리와 IO 지표

AWS에서는 EBS(Elastic Block Store)와 같은 스토리지 서비스를 사용하여 스왑 공간을 구성할 수 있다.
IO 지표는 디스크의 읽기/쓰기 작업을 나타내며, 스왑 작업이 많아질수록 IO 부하가 증가한다.

- **Queue Length**: 디스크에 대기 중인 IO 요청의 수를 나타낸다. 스왑 작업이 많을 경우, 이 값이 증가할 수 있다.
- **IO 지표의 변동성**: 스왑 작업이 많아지면, 디스크의 읽기/쓰기 요청이 증가하여 IO 지표가 튈 수 있다. 이는 시스템의 성능 저하로 이어질 수 있다.

## 디스크 쓰기와 Swap의 영향

디스크 쓰기 작업이 많은 시스템에서는 스왑 공간을 사용하는 것이 성능에 부정적인 영향을 줄 수 있다.
스왑 작업은 디스크 쓰기 작업을 필요로 하기 때문에, 디스크의 쓰기 성능이 중요한 시스템에서는 스왑 공간의 사용을 최소화하는 것이 좋다.

## 실무적인 조언

- **스왑 공간 모니터링**: 시스템의 성능을 유지하기 위해, 스왑 사용량과 IO 지표를 주기적으로 모니터링하는 것이 중요합니다.
- **적절한 스왑 공간 설정**: 시스템의 메모리 용량과 작업 부하에 따라 적절한 크기의 스왑 공간을 설정해야 합니다.
- **성능 최적화**: 스왑 공간의 사용을 최소화하기 위해, 애플리케이션의 메모리 사용량을 최적화하고, 필요하지 않은 서비스를 종료하는 등의 조치를 취할 수 있습니다.
