# troubleshootings

- [troubleshootings](#troubleshootings)
    - [Unable to generate package graph, no `/path/to/.dart_tool/flutter_gen/pubspec.yaml` found](#unable-to-generate-package-graph-no-pathtodart_toolflutter_genpubspecyaml-found)
        - [ë¬¸ì œ](#ë¬¸ì œ)
        - [ì›ì¸](#ì›ì¸)
        - [í•´ê²°](#í•´ê²°)
    - [type 'Null' is not a subtype of type 'YamlMap' in type cast](#type-null-is-not-a-subtype-of-type-yamlmap-in-type-cast)
        - [ë¬¸ì œ](#ë¬¸ì œ-1)
        - [ì›ì¸](#ì›ì¸-1)
        - [í•´ê²°](#í•´ê²°-1)
    - [The class 'SomeThing' can't be extended, implemented, or mixed in outside of its library because it's a sealed class](#the-class-something-cant-be-extended-implemented-or-mixed-in-outside-of-its-library-because-its-a-sealed-class)
        - [ë¬¸ì œ](#ë¬¸ì œ-2)
        - [ì›ì¸](#ì›ì¸-2)
        - [í•´ê²°](#í•´ê²°-2)
    - [Error: Bad state: Future already completed](#error-bad-state-future-already-completed)
        - [ë¬¸ì œ](#ë¬¸ì œ-3)
        - [ì›ì¸](#ì›ì¸-3)
        - [í•´ê²°](#í•´ê²°-3)
    - [ìƒìœ„ í´ë˜ìŠ¤ë¡œ ìƒíƒœ ì •ì˜í•˜ê³  í•˜ìœ„ í´ë˜ìŠ¤ë¥¼ ê°’ìœ¼ë¡œ ë„£ì„ ë•Œ, ë‚˜ì¤‘ì— í•˜ìœ„ í´ë˜ìŠ¤ë¡œ ì¸ì§€í•˜ì§€ ëª»í•¨](#ìƒìœ„-í´ë˜ìŠ¤ë¡œ-ìƒíƒœ-ì •ì˜í•˜ê³ -í•˜ìœ„-í´ë˜ìŠ¤ë¥¼-ê°’ìœ¼ë¡œ-ë„£ì„-ë•Œ-ë‚˜ì¤‘ì—-í•˜ìœ„-í´ë˜ìŠ¤ë¡œ-ì¸ì§€í•˜ì§€-ëª»í•¨)
        - [ë¬¸ì œ](#ë¬¸ì œ-4)
        - [ì›ì¸](#ì›ì¸-4)
        - [í•´ê²°](#í•´ê²°-4)
    - [Flutter - 'initialValue == null || controller == null': is not true. error](#flutter---initialvalue--null--controller--null-is-not-true-error)
        - [ë¬¸ì œ](#ë¬¸ì œ-5)
        - [ì›ì¸](#ì›ì¸-5)
        - [í•´ê²°](#í•´ê²°-5)
    - [stateê°€ ì—…ë°ì´íŠ¸ ë˜ì§€ ì•ŠëŠ” ì´ìŠˆ](#stateê°€-ì—…ë°ì´íŠ¸-ë˜ì§€-ì•ŠëŠ”-ì´ìŠˆ)
        - [ë¬¸ì œ](#ë¬¸ì œ-6)
        - [ì›ì¸](#ì›ì¸-6)
        - [í•´ê²°](#í•´ê²°-6)
    - [`read` ì‚¬ìš©í•´ì•¼ í•  ê³³ì—ì„œ `watch` ì‚¬ìš© ì‹œ ì—ëŸ¬ ë°œìƒí•œë‹¤](#read-ì‚¬ìš©í•´ì•¼-í• -ê³³ì—ì„œ-watch-ì‚¬ìš©-ì‹œ-ì—ëŸ¬-ë°œìƒí•œë‹¤)
        - [ë¬¸ì œ](#ë¬¸ì œ-7)
        - [ì›ì¸](#ì›ì¸-7)
        - [í•´ê²°](#í•´ê²°-7)
    - [firebase firestore ì €ì¥ ì—ëŸ¬](#firebase-firestore-ì €ì¥-ì—ëŸ¬)
        - [ë¬¸ì œ](#ë¬¸ì œ-8)
        - [ì›ì¸](#ì›ì¸-8)
        - [í•´ê²°](#í•´ê²°-8)
    - [RenderFlex children have non-zero flex but incoming height constraints are unbounded](#renderflex-children-have-non-zero-flex-but-incoming-height-constraints-are-unbounded)
        - [ë¬¸ì œ](#ë¬¸ì œ-9)
        - [ì›ì¸](#ì›ì¸-9)
        - [í”ŒëŸ¬í„° ë ˆì´ì•„ì›ƒ ì´í•´](#í”ŒëŸ¬í„°-ë ˆì´ì•„ì›ƒ-ì´í•´)
        - [í•´ê²°](#í•´ê²°-9)
    - [Vertical viewport was given unbounded height](#vertical-viewport-was-given-unbounded-height)
        - [ë¬¸ì œ](#ë¬¸ì œ-10)
        - [ì›ì¸](#ì›ì¸-10)
        - [í•´ê²°](#í•´ê²°-10)
    - [`TextFormField`ì˜ `validator`ê°€ ë‘ ë²ˆ í˜¸ì¶œë¨](#textformfieldì˜-validatorê°€-ë‘-ë²ˆ-í˜¸ì¶œë¨)
        - [ë¬¸ì œ](#ë¬¸ì œ-11)
        - [ì›ì¸](#ì›ì¸-11)
            - [Key ë§¤ê°œë³€ìˆ˜ ì¶”ê°€í•´ë³´ê¸°](#key-ë§¤ê°œë³€ìˆ˜-ì¶”ê°€í•´ë³´ê¸°)
            - [ì™œ ë‚´ë¶€ `TextFormField`ì— ë³„ë„ì˜ `key`ë¥¼ í• ë‹¹í•˜ì§€ ì•Šì•„ë„ ë˜ëŠ”ê°€?](#ì™œ-ë‚´ë¶€-textformfieldì—-ë³„ë„ì˜-keyë¥¼-í• ë‹¹í•˜ì§€-ì•Šì•„ë„-ë˜ëŠ”ê°€)
        - [í•´ê²°](#í•´ê²°-11)
    - [The return type 'Null' isn't a 'AppUser', as required by the closure's context](#the-return-type-null-isnt-a-appuser-as-required-by-the-closures-context)
        - [ë¬¸ì œ](#ë¬¸ì œ-12)
        - [ì›ì¸](#ì›ì¸-12)
            - [`_` í•¨ìˆ˜](#_-í•¨ìˆ˜)
        - [í•´ê²°](#í•´ê²°-12)
    - [Error: MissingPluginException(No implementation found for method getAll on channel plugins.flutter.io/shared\_preferences)](#error-missingpluginexceptionno-implementation-found-for-method-getall-on-channel-pluginsflutterioshared_preferences)
        - [ë¬¸ì œ](#ë¬¸ì œ-13)
        - [ì›ì¸](#ì›ì¸-13)
        - [í•´ê²°](#í•´ê²°-13)
    - [ë¡œê·¸ê°€ ë‘ ë²ˆ ì°íˆëŠ” ë¬¸ì œ](#ë¡œê·¸ê°€-ë‘-ë²ˆ-ì°íˆëŠ”-ë¬¸ì œ)
        - [ë¬¸ì œ](#ë¬¸ì œ-14)
        - [ì›ì¸](#ì›ì¸-14)
            - [ìƒíƒœ ë³€ê²½ì— ì˜í•œ ì¬ë¹Œë“œ?](#ìƒíƒœ-ë³€ê²½ì—-ì˜í•œ-ì¬ë¹Œë“œ)
            - [Flutter í”„ë ˆì„ì›Œí¬ì˜ ìµœì í™” ë™ì‘?](#flutter-í”„ë ˆì„ì›Œí¬ì˜-ìµœì í™”-ë™ì‘)
            - [ì™¸ë¶€ ìš”ì¸ì— ì˜í•œ ì¬ë Œë”ë§?](#ì™¸ë¶€-ìš”ì¸ì—-ì˜í•œ-ì¬ë Œë”ë§)
            - [GoRouterì˜ í˜ì´ì§€ ë¹Œë” ë™ì‘?](#gorouterì˜-í˜ì´ì§€-ë¹Œë”-ë™ì‘)
        - [í•´ê²°](#í•´ê²°-14)
    - [The following ImageCodecException was thrown resolving an image codec](#the-following-imagecodecexception-was-thrown-resolving-an-image-codec)
        - [ë¬¸ì œ](#ë¬¸ì œ-15)
        - [ì›ì¸](#ì›ì¸-15)
        - [í•´ê²°](#í•´ê²°-15)
    - [Plugin \[id: 'com.android.application', version: '7.2.0', apply: false\] was not found in any of the following sources](#plugin-id-comandroidapplication-version-720-apply-false-was-not-found-in-any-of-the-following-sources)
        - [ë¬¸ì œ](#ë¬¸ì œ-16)
        - [ì›ì¸](#ì›ì¸-16)
        - [í•´ê²°](#í•´ê²°-16)
    - [Dependency 'androidx.activity:activity:1.8.0' requires libraries and applications that depend on it to compile against version 34 or later of the Android APIs](#dependency-androidxactivityactivity180-requires-libraries-and-applications-that-depend-on-it-to-compile-against-version-34-or-later-of-the-android-apis)
        - [ë¬¸ì œ](#ë¬¸ì œ-17)
        - [ì›ì¸](#ì›ì¸-17)
        - [í•´ê²°](#í•´ê²°-17)
    - [Querying the mapped value of provider(java.util.Set) before task ':app:processDebugGoogleServices' has completed is not supported](#querying-the-mapped-value-of-providerjavautilset-before-task-appprocessdebuggoogleservices-has-completed-is-not-supported)
        - [ë¬¸ì œ](#ë¬¸ì œ-18)
        - [ì›ì¸](#ì›ì¸-18)
        - [í•´ê²°](#í•´ê²°-18)
    - [The number of method references in a `.dex` file cannot exceed 64K](#the-number-of-method-references-in-a-dex-file-cannot-exceed-64k)
        - [ë¬¸ì œ](#ë¬¸ì œ-19)
        - [ì›ì¸](#ì›ì¸-19)
        - [í•´ê²°](#í•´ê²°-19)
    - [Unhandled Exception: Binding has not yet been initialized](#unhandled-exception-binding-has-not-yet-been-initialized)
        - [ë¬¸ì œ](#ë¬¸ì œ-20)
        - [ì›ì¸](#ì›ì¸-20)
        - [í•´ê²°](#í•´ê²°-20)
    - [PlatformException(sign\_in\_failed, com.google.android.gms.common.api.ApiException: 10: , null, null)](#platformexceptionsign_in_failed-comgoogleandroidgmscommonapiapiexception-10--null-null)
        - [ë¬¸ì œ](#ë¬¸ì œ-21)
        - [ì›ì¸](#ì›ì¸-21)
        - [í•´ê²°](#í•´ê²°-21)

## Unable to generate package graph, no `/path/to/.dart_tool/flutter_gen/pubspec.yaml` found

### ë¬¸ì œ

```log
â¯ flutter pub run build_runner watch
Deprecated. Use `dart run` instead.
Building package executable... (3.4s)
Built build_runner:build_runner.
Unhandled exception:
Bad state: Unable to generate package graph, no `/Users/rody/VscodeProjects/dilectio/dilectio_app/.dart_tool/flutter_gen/pubspec.yaml` found.
#0      _pubspecForPath (package:build_runner_core/src/package_graph/package_graph.dart:253:5)
#1      _parsePackageDependencies (package:build_runner_core/src/package_graph/package_graph.dart:227:21)
#2      PackageGraph.forPath (package:build_runner_core/src/package_graph/package_graph.dart:105:33)
<asynchronous suspension>
#3      main (file:///Users/rody/.pub-cache/hosted/pub.dev/build_runner-2.4.6/bin/build_runner.dart:27:30)
<asynchronous suspension>
```

### ì›ì¸

### í•´ê²°

- [github issue](https://github.com/dart-lang/build/issues/2835#issuecomment-697931824)

```shell
flutter clean

flutter packages pub get
```

## type 'Null' is not a subtype of type 'YamlMap' in type cast

### ë¬¸ì œ

```log
â¯ dart run build_runner watch
Building package executable... (3.6s)
Built build_runner:build_runner.
Unhandled exception:
type 'Null' is not a subtype of type 'YamlMap' in type cast
#0      _pubspecForPath (package:build_runner_core/src/package_graph/package_graph.dart:256:47)
#1      _parsePackageDependencies (package:build_runner_core/src/package_graph/package_graph.dart:227:21)
#2      PackageGraph.forPath (package:build_runner_core/src/package_graph/package_graph.dart:105:33)
<asynchronous suspension>
#3      main (file:///Users/rody/.pub-cache/hosted/pub.dev/build_runner-2.4.6/bin/build_runner.dart:27:30)
<asynchronous suspension>
```

### ì›ì¸

### í•´ê²°

ì§€ìš°ê³  ë‹¤ì‹œ ì‹¤í–‰í•˜ë©´ ëœë‹¤

```shell
flutter clean

dart run build_runner watch
```

## The class 'SomeThing' can't be extended, implemented, or mixed in outside of its library because it's a sealed class

### ë¬¸ì œ

```log
â¯ dart run build_runner watch
Resolving dependencies in /Users/rody/VscodeProjects/flutter_ddd_riverpod_example...
Got dependencies in /Users/rody/VscodeProjects/flutter_ddd_riverpod_example.
Building package executable... (3.5s)
Failed to build build_runner:build_runner:
../../.pub-cache/hosted/pub.dev/watcher-1.0.1/lib/src/constructable_file_system_event.dart:7:57: Error: The class 'FileSystemEvent' can't be extended, implemented, or mixed in outside of its library because it's a sealed class.
abstract class _ConstructableFileSystemEvent implements FileSystemEvent {
                                                        ^
../../.pub-cache/hosted/pub.dev/pub_semver-2.1.1/lib/src/version_constraint.dart:96:13: Error: Method not found: 'FallThroughError'.
      throw FallThroughError();
            ^^^^^^^^^^^^^^^^
Failed to build build_runner:build_runner:
../../.pub-cache/hosted/pub.dev/watcher-1.0.1/lib/src/constructable_file_system_event.dart:7:57: Error: The class 'FileSystemEvent' can't be extended, implemented, or mixed in outside of its library because it's a sealed class.
abstract class _ConstructableFileSystemEvent implements FileSystemEvent {
                                                        ^
../../.pub-cache/hosted/pub.dev/pub_semver-2.1.1/lib/src/version_constraint.dart:96:13: Error: Method not found: 'FallThroughError'.
      throw FallThroughError();
```

### ì›ì¸

### í•´ê²°

- [Watcher fails with class 'FileSystemEvent' can't be extended, for dart, not for flutter.](https://github.com/dart-lang/sdk/issues/52570#issuecomment-1570610278)

```shell
dart pub upgrade
```

## Error: Bad state: Future already completed

### ë¬¸ì œ

```log
Error: Bad state: Future already completed
dart-sdk/lib/_internal/js_dev_runtime/private/ddc_runtime/errors.dart 294:49     throw_
dart-sdk/lib/async/future_impl.dart 41:79                                        complete
packages/riverpod/src/async_notifier/base.dart 273:16                            onData
packages/riverpod/src/common.dart 324:16                                         map
packages/riverpod/src/async_notifier/base.dart 206:13                            set state
packages/riverpod/src/async_notifier.dart 56:14                                  set state
packages/dilectio_app/src/subprojects/user/domain/auth_domain_service.dart 45:9  <fn>
dart-sdk/lib/_internal/js_dev_runtime/patch/async_patch.dart 45:50               <fn>
dart-sdk/lib/async/zone.dart 1661:54                                             runUnary
dart-sdk/lib/async/future_impl.dart 156:18                                       handleValue
dart-sdk/lib/async/future_impl.dart 840:44                                       handleValueCallback
dart-sdk/lib/async/future_impl.dart 869:13                                       _propagateToListeners
dart-sdk/lib/async/future_impl.dart 641:5                                        [_completeWithValue]
dart-sdk/lib/async/future_impl.dart 715:7                                        callback
dart-sdk/lib/async/schedule_microtask.dart 40:11                                 _microtaskLoop
dart-sdk/lib/async/schedule_microtask.dart 49:5                                  _startMicrotaskLoop
dart-sdk/lib/_internal/js_dev_runtime/patch/async_patch.dart 181:15              <fn>
```

### ì›ì¸

```dart
part 'auth_domain_service.g.dart';
part 'auth_domain_service.freezed.dart';

@riverpod
class AuthDomainService extends _$AuthDomainService {
  final log = Logger('AuthDomainService');

  @override
  FutureOr<AuthDomainState> build() {
    return AuthDomainSuccess(loggedIn: false);
  }

  ReaderTask<AuthRepositoryInterface, void> loginByEmailAndPassword(
          SignInCommand cmd) =>
      ReaderTask<AuthRepositoryInterface, void>.Do((_) async {
        state = const AsyncValue.loading();

        final taskEither = await _(ReaderTask(
          (userRepo) async =>
              userRepo.signInByEmailAndPassword(cmd.email, cmd.password),
        ));

        final either = await taskEither.run();

        final signInState = either.fold(
          (l) => AuthDomainFailure.internalServerError(
            error: l.error,
            stackTrace: l.stackTrace,
          ),
          (r) => AuthDomainSuccess(
            loggedIn: true,
            appUser: r,
          ),
        );

        state = AsyncValue.data(signInState);
      });
}
```

1. `Future`ì™€ `FutureOr`:
    - `Future<T>`: Dartì—ì„œ ë¹„ë™ê¸° ì—°ì‚°ì˜ ê²°ê³¼ë¥¼ ë‚˜íƒ€ë‚´ëŠ” íƒ€ì…ì…ë‹ˆë‹¤. ì´ëŠ” ë¯¸ë˜ì— ì–´ë–¤ ê°’ì„ ìƒì„±í•  ê²ƒì´ë¼ëŠ” ì•½ì†ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.
    - `FutureOr<T>`: `T` í˜¹ì€ `Future<T>` íƒ€ì…ì˜ ê°’ì„ ê°€ì§ˆ ìˆ˜ ìˆëŠ” Dartì˜ íŠ¹ìˆ˜ íƒ€ì…ì…ë‹ˆë‹¤. ì´ëŠ” ë™ê¸° ë° ë¹„ë™ê¸° ì½”ë“œë¥¼ ë” ìœ ì—°í•˜ê²Œ ì‘ì„±í•  ìˆ˜ ìˆê²Œ ë•ìŠµë‹ˆë‹¤.
2. ì˜¤ë¥˜ì˜ ì›ì¸:
    - "Future already completed" ì˜¤ë¥˜ëŠ” ì¼ë°˜ì ìœ¼ë¡œ `Completer` ê°ì²´ì— ëŒ€í•´ `complete` ë©”ì„œë“œë¥¼ ë‘ ë²ˆ í˜¸ì¶œí•˜ê±°ë‚˜,
    - ì´ë¯¸ ì™„ë£Œëœ `Future` ê°ì²´ì— ëŒ€í•´ `complete` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ê²½ìš°ì— ë°œìƒí•©ë‹ˆë‹¤.
3. build ë©”ì„œë“œì™€ StateNotifierì˜ state í”„ë¡œí¼í‹°:
    - ì›ë³¸ build ë©”ì„œë“œì˜ ì‹œê·¸ë‹ˆì²˜ëŠ” `FutureOr<AuthDomainState> build()`ë¡œ, ì´ëŠ” `Future<AuthDomainState>` ë˜ëŠ” `AuthDomainState`ë¥¼ ë°˜í™˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    - `StateNotifier`ì˜ `state` í”„ë¡œí¼í‹°ëŠ” `AsyncValue<AuthDomainState>` íƒ€ì…ìœ¼ë¡œ, ì´ëŠ” ë¹„ë™ê¸° ì‘ì—…ì˜ í˜„ì¬ ìƒíƒœë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.
4. ë¬¸ì œ ë°œìƒ ìƒí™©:
    - `build` ë©”ì„œë“œê°€ `AuthDomainState`ë¥¼ ë™ê¸°ì ìœ¼ë¡œ ë°˜í™˜í•˜ê³ , ì´ í›„ì— `state` í”„ë¡œí¼í‹°ë¥¼ ì„¤ì •í•  ë•Œ, ì´ë¯¸ ì™„ë£Œëœ `Future` ê°ì²´ì— ì—°ê²°ë  ìˆ˜ ìˆì–´ì„œ ì˜¤ë¥˜ê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```dart
FutureOr<AuthDomainState> build() {
  // ë™ê¸°ì ìœ¼ë¡œ AuthDomainState ê°ì²´ë¥¼ ë°˜í™˜
  return AuthDomainSuccess(loggedIn: false);
}

void someMethod() {
  // state í”„ë¡œí¼í‹°ë¥¼ ì„¤ì •
  state = AsyncValue.data(build());
}
```

- ì—¬ê¸°ì„œ build ë©”ì„œë“œê°€ ë™ê¸°ì ìœ¼ë¡œ `AuthDomainState` ê°ì²´ë¥¼ ë°˜í™˜í•˜ë¯€ë¡œ, ì´ `AuthDomainState` ê°ì²´ëŠ” ì´ë¯¸ ì™„ë£Œëœ `Future` ê°ì²´ì— ì—°ê²°ë  ìˆ˜ ìˆë‹¤
- `state` í”„ë¡œí¼í‹°ëŠ” `AsyncValue<AuthDomainState>` íƒ€ì…ì´ë¯€ë¡œ, `AsyncValue.data` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ `AuthDomainState` ê°ì²´ë¥¼ `AsyncValue<AuthDomainState>` ê°ì²´ë¡œ ë³€í™˜
- ê·¸ëŸ¬ë‚˜ ì´ ë³€í™˜ ê³¼ì •ì—ì„œ Future already completed ì˜¤ë¥˜ê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤

### í•´ê²°

- `FutureOr<AuthDomainState> build()` ê°€ ì•„ë‹Œ `Future<AuthDomainState> build() async`ê°€ ë˜ì–´ì•¼ í•œë‹¤

## ìƒìœ„ í´ë˜ìŠ¤ë¡œ ìƒíƒœ ì •ì˜í•˜ê³  í•˜ìœ„ í´ë˜ìŠ¤ë¥¼ ê°’ìœ¼ë¡œ ë„£ì„ ë•Œ, ë‚˜ì¤‘ì— í•˜ìœ„ í´ë˜ìŠ¤ë¡œ ì¸ì§€í•˜ì§€ ëª»í•¨

### ë¬¸ì œ

### ì›ì¸

```log
AsyncData<AuthDomainState> (AsyncData<AuthDomainState>(value: Instance of 'AuthDomainSuccess'))
    error: null
    isLoading: false,
    stackTrace: null,
    value: AuthDomainSuccess
        appUser: _$36_AppUser (AppUser(defaultInfo: Instance of 'DefaultInfo', educations: null, workplaces: null))
        loggedin: true
```

ê·¼ë°, ì•„ë˜ì²˜ëŸ¼ ìˆ˜ì •í•˜ë©´ ëœë‹¤. ì™œ?

```dart
part 'auth_domain_service.g.dart';
part 'auth_domain_service.freezed.dart';

@Riverpod(keepAlive: true)
class AuthDomainService extends _$AuthDomainService {
  final _log = Logger();

  @override
  Future<AuthDomainState> build() async {
    return AuthDomainState();
  }

  ReaderTask<AuthRepositoryInterface, void> createUserByEmailAndPassword(
          CreateUserByEmailCommand cmd) =>
      authHandler(
        (userRepo) async => userRepo.createUserWithEmailAndPassword(cmd),
      );

  ReaderTask<AuthRepositoryInterface, void> loginByEmailAndPassword(
          SignInByEmailCommand cmd) =>
      authHandler(
        (userRepo) async => userRepo.signInByEmailAndPassword(cmd),
      );

  ReaderTask<AuthRepositoryInterface, void> authHandler(
          Future<TaskEither<AuthDomainFailure, AppUser>> Function(
                  AuthRepositoryInterface)
              authFunction) =>
      ReaderTask<AuthRepositoryInterface, void>.Do((_) async {
        state = const AsyncValue.loading();

        final taskEither = await _(ReaderTask(authFunction));

        final either = await taskEither.run();

        final result = either.match(
          (l) => AuthDomainFailure.internalServerError(
            error: l.error,
            stackTrace: l.stackTrace,
          ),
          (r) => AuthDomainSuccess(
            appUser: r,
          ),
        );
        _log.d(
            "result's type is AuthDomainSuccess? ${result is AuthDomainSuccess}");

        if (result is AuthDomainSuccess) {
          _log.d("[AuthDomainSuccess]");
          if (state.value?.changed != null) {
            _log.d("[AuthDomainSuccess] state.value?.changed != null");
            state = AsyncData(AuthDomainState(changed: true));
          }
          state = AsyncData(result);
          _log.d(
              "[AuthDomainSuccess] state.value.runtimeType is ${state.value.runtimeType}");
          _log.d(
              "[AuthDomainSuccess] state.value is AuthDomainSuccess? ${state.value is AuthDomainSuccess}");
          _log.d("[AuthDomainSuccess] state.value is ${state.value?.changed}");
        }
        if (result is AuthDomainFailure) {
          _log.d("[AuthDomainFailure]");
          state = AsyncError(result, result.stackTrace);
          _log.d(
              "[AuthDomainFailure] state.value.runtimeType is ${state.value.runtimeType}");
        }
      });
}

class AuthDomainState {
  final bool? changed;
  AuthDomainState({this.changed});
}

class AuthDomainSuccess extends AuthDomainState {
  final AppUser appUser;

  AuthDomainSuccess({
    required this.appUser,
  });
}

@freezed
class AuthDomainFailure extends AuthDomainState
    with _$AuthDomainFailure
    implements Exception {
  AuthDomainFailure._();
  @override
  // TODO: implement changed
  bool? get changed => super.changed;

  factory AuthDomainFailure(String message,
      {Object? error,
      required StackTrace stackTrace,
      bool? changed}) = _AuthDomainFailure;

  factory AuthDomainFailure.internalServerError(
          {Object? error, StackTrace? stackTrace}) =>
      _$_AuthDomainFailure(
        "Internal Server Error",
        error: error,
        stackTrace: stackTrace ?? StackTrace.current,
      );

  factory AuthDomainFailure.notFound({Object? error, StackTrace? stackTrace}) =>
      _$_AuthDomainFailure(
        "Not Found",
        error: error,
        stackTrace: stackTrace ?? StackTrace.current,
      );

  factory AuthDomainFailure.conflict({Object? error, StackTrace? stackTrace}) =>
      _$_AuthDomainFailure(
        "Conflict",
        error: error,
        stackTrace: stackTrace ?? StackTrace.current,
      );

  factory AuthDomainFailure.fromFirebase(String? message,
          {Object? error, StackTrace? stackTrace}) =>
      _$_AuthDomainFailure(
        message ?? "Error Form Firebase",
        error: error,
        stackTrace: stackTrace ?? StackTrace.current,
      );
}
```

ìƒìœ„ í´ë˜ìŠ¤ì˜ ìƒì„±ìë§Œ ë§Œë“¤ì–´ë„ ëœë‹¤. ìƒì„±ìë¥¼ ì§€ìš°ë©´?

```dart
class AuthDomainState {
  AuthDomainState();
}
```

### í•´ê²°

ê·¼ë° íƒ€ì… ì¶”ë¡  ê°™ì€ ë¬¸ì œê°€ ì•„ë‹ˆë¼, freezedë‚˜ riverpod_generator í†µí•´ì„œ ë§Œë“¤ì–´ì§„ ì½”ë“œì˜ ë¬¸ì œì˜€ë˜ ê±¸ë¡œ ë³´ì¸ë‹¤. íŠ¹íˆ `freezed`.

`flutter clean` í›„ì— ìƒˆë¡œ ìƒì„± í–ˆì„ ë•Œë„ ë¬¸ì œê°€ ì¬ë°œí–ˆì—ˆëŠ”ë°, ë‹¤ìŒê³¼ ê°™ì€ ìˆœì„œë¡œ State í´ë˜ìŠ¤ì˜ ì½”ë“œì— `changed` ì†ì„± ì¶”ê°€í•˜ê³  `AuthDomainFailure` í´ë˜ìŠ¤ë„ ìˆ˜ì •í•˜ë‹¤ ë³´ë‹ˆ ë¬¸ì œê°€ í•´ê²°ëë‹¤.
`const factory AuthDomainFailure` -> `factory AuthDomainFailure`ë¡œ ìˆ˜ì •í•´ë³´ê¸°ë„ í–ˆë‹¤. ê·¸ë˜ì„œ ì•„ë§ˆ `freezed` í†µí•´ì„œ ìƒì„±ëœ ì½”ë“œì— ë¬¸ì œê°€ ìˆë˜ ê²Œ ì•„ë‹ê¹Œ...

ì•„ë‹ˆë©´ ë‚˜ì¤‘ì—ëŠ” vscodeë¥¼ ì¬ì‹œì‘í•´ë³´ëŠ” ê²ƒë„ ì¢‹ì„ì§€ë„.

```dart
class AuthDomainState {
  final bool? changed;
  AuthDomainState({this.changed});
}

class AuthDomainSuccess extends AuthDomainState {
  final AppUser appUser;

  AuthDomainSuccess({
    required this.appUser,
  });
}

@freezed
class AuthDomainFailure extends AuthDomainState
    with _$AuthDomainFailure
    implements Exception {
  AuthDomainFailure._();
  @override
  // TODO: implement changed
  bool? get changed => super.changed;

  factory AuthDomainFailure(String message,
      {Object? error,
      required StackTrace stackTrace,
      bool? changed}) = _AuthDomainFailure;

  factory AuthDomainFailure.internalServerError(
          {Object? error, StackTrace? stackTrace}) =>
      _$_AuthDomainFailure(
        "Internal Server Error",
        error: error,
        stackTrace: stackTrace ?? StackTrace.current,
      );

  factory AuthDomainFailure.notFound({Object? error, StackTrace? stackTrace}) =>
      _$_AuthDomainFailure(
        "Not Found",
        error: error,
        stackTrace: stackTrace ?? StackTrace.current,
      );

  factory AuthDomainFailure.conflict({Object? error, StackTrace? stackTrace}) =>
      _$_AuthDomainFailure(
        "Conflict",
        error: error,
        stackTrace: stackTrace ?? StackTrace.current,
      );

  factory AuthDomainFailure.fromFirebase(String? message,
          {Object? error, StackTrace? stackTrace}) =>
      _$_AuthDomainFailure(
        message ?? "Error Form Firebase",
        error: error,
        stackTrace: stackTrace ?? StackTrace.current,
      );
}
```

## Flutter - 'initialValue == null || controller == null': is not true. error

### ë¬¸ì œ

```log
'initialValue == null || controller == null': is not true
```

### ì›ì¸

```dart
TextFormField(
    key: SignUpScreen.emailKey,
    // controller: _emailController, // TODO uncomment
    decoration: InputDecoration(
    labelText: l10n.labelEmail,
    hintText: l10n.hintEmail,
    ),
    autovalidateMode: AutovalidateMode.onUserInteraction,
    validator: _validateEmail,
    autocorrect: false,
    textInputAction: TextInputAction.next,
    keyboardType: TextInputType.emailAddress,
    keyboardAppearance: Brightness.light,
    inputFormatters: <TextInputFormatter>[
    defaultNoSpaceTextInputValidator
    ],
    initialValue: "test@test.com", // TODO delete
),
```

- `controller`ì™€ `initialValue`ë¥¼ ë™ì‹œì— ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤

```dart
class TextFormField extends FormField<String> {
  /// Creates a [FormField] that contains a [TextField].
  ///
  /// When a [controller] is specified, [initialValue] must be null (the
  /// default). If [controller] is null, then a [TextEditingController]
  /// will be constructed automatically and its `text` will be initialized
  /// to [initialValue] or the empty string.
  ///
  /// For documentation about the various parameters, see the [TextField] class
  /// and [TextField.new], the constructor.
  TextFormField({
    ... ìƒëµ ...
    bool canRequestFocus = true,
  }) : assert(initialValue == null || controller == null),
```

### í•´ê²°

- ì´ˆê¸°ê°’ ì‚¬ìš© ìœ„í•´ `controller`ë¥¼ ì£¼ì„ ì²˜ë¦¬

## stateê°€ ì—…ë°ì´íŠ¸ ë˜ì§€ ì•ŠëŠ” ì´ìŠˆ

### ë¬¸ì œ

```dart
@Riverpod()
class AuthDomainService extends _$AuthDomainService {
  final log = Logger();

  @override
  Future<AuthDomainState> build() async {
    return AuthDomainState();
  }

  ReaderTask<AuthRepositoryInterface, void> createUserByEmailAndPassword(
          CreateUserByEmailCommand cmd) =>
      ReaderTask.Do((_) async {
        state = const AsyncValue.loading();
        final taskEither = await _(ReaderTask(
          (userRepo) async => userRepo.createUserWithEmailAndPassword(cmd),
        ));

        final either = await taskEither.run();

        state = either.fold(
            (left) =>
                AsyncValue.error(AuthDomainFailure(left), left.stackTrace),
            (right) => AsyncValue.data(AuthDomainSuccess(appUser: right)));
      });
}
```

ì•„ì£¼ ì‹ ê¸°í•˜ê²Œë„ ìœ„ì™€ ê°™ì´ ë„ë©”ì¸ ë ˆì´ì–´ì— ë©”ì„œë“œë¥¼ ì •ì˜í•˜ê³ , ì•„ë˜ì™€ ê°™ì´ ì‚¬ìš©í•  ë•Œ,

```dart
  Future<void> signUp(SignUpInfo signUpInfoDTO) async {
    state = const AsyncValue.loading();

    final readerTask = ref
        .watch(authDomainServiceProvider.notifier)
        .createUserByEmailAndPassword(CreateUserByEmailCommand(
          name: signUpInfoDTO.name,
          email: signUpInfoDTO.email,
          phone: signUpInfoDTO.phone,
          phoneVerified: signUpInfoDTO.phoneVerified,
          password: signUpInfoDTO.password,
        ));

    await readerTask.run(ref.read(authRepositoryProvider));

    final currentState = ref.watch(authDomainServiceProvider);
    if (currentState.hasError) {
      final failState = currentState.error as AuthDomainFailure;
      state = AsyncError(failState.error, failState.error.stackTrace);
      return;
    }

    final successState = currentState.value as AuthDomainSuccess;
    //                                     ^^^^
    //                                     Error: Expected a value of type 'AuthDomainSuccess',
    //                                     but got one of type 'Null'
    final result = await ref
        .read(userRepositoryProvider)
        .upsertAppUser(successState.appUser)
        .run();

    state = result.fold(
      (left) => AsyncError(
        AuthApplicationFailure(ApplicationErrors.fromDomain(left)),
        left.stackTrace,
      ),
      (right) => AsyncData(
        AuthApplicationSuccess(appUserDTO: AppUserDTO.fromDomain(right)),
      ),
    );
  }
```

`currentState.value as AuthDomainSuccess;` íƒ€ì… ìºìŠ¤íŒ…ì´ ì‹¤íŒ¨í•œë‹¤

```log
Error: Expected a value of type 'AuthDomainSuccess', but got one of type 'Null'
dart-sdk/lib/_internal/js_dev_runtime/private/ddc_runtime/errors.dart 294:49        throw_
dart-sdk/lib/_internal/js_dev_runtime/private/ddc_runtime/errors.dart 127:3         castError
dart-sdk/lib/_internal/js_dev_runtime/private/ddc_runtime/operations.dart 742:12    cast
dart-sdk/lib/_internal/js_dev_runtime/private/ddc_runtime/classes.dart 660:14       as_C
packages/dilectio_app/src/subprojects/user/application/auth_application.dart 88:45  signUp
dart-sdk/lib/_internal/js_dev_runtime/patch/async_patch.dart 45:50                  <fn>
dart-sdk/lib/async/zone.dart 1661:54                                                runUnary
dart-sdk/lib/async/future_impl.dart 156:18                                          handleValue
dart-sdk/lib/async/future_impl.dart 840:44                                          handleValueCallback
dart-sdk/lib/async/future_impl.dart 869:13                                          _propagateToListeners
dart-sdk/lib/async/future_impl.dart 641:5                                           [_completeWithValue]
dart-sdk/lib/async/future_impl.dart 715:7                                           callback
dart-sdk/lib/async/schedule_microtask.dart 40:11                                    _microtaskLoop
dart-sdk/lib/async/schedule_microtask.dart 49:5                                     _startMicrotaskLoop
dart-sdk/lib/_internal/js_dev_runtime/patch/async_patch.dart 181:15                 <fn>
```

### ì›ì¸

- ì •í™•í•˜ì§„ ì•Šì§€ë§Œ, `read`ê°€ í˜„ì¬ ìƒíƒœë¥¼ ì½ê¸°ë§Œ í•˜ë¯€ë¡œ, ê·¸ ë‚´ë¶€ì ìœ¼ë¡œ `state`ë¥¼ ì—…ë°ì´íŠ¸í•  ë•Œ, ì‹¤ì œë¡œ ìˆ˜ì •ì´ ì´ë¤„ì§€ì§€ ì•ŠëŠ” ê±° ê°™ë‹¤

### í•´ê²°

```dart
  Future<void> signUp(SignUpInfo signUpInfoDTO) async {
    state = const AsyncValue.loading();

    final readerTask = ref
        //.read(authDomainServiceProvider.notifier) // convert `read` to `watch`
        .watch(authDomainServiceProvider.notifier)
        .createUserByEmailAndPassword(CreateUserByEmailCommand(
          name: signUpInfoDTO.name,
          email: signUpInfoDTO.email,
          phone: signUpInfoDTO.phone,
          phoneVerified: signUpInfoDTO.phoneVerified,
          password: signUpInfoDTO.password,
        ));
```

- `read`ê°€ ì•„ë‹Œ `watch`ë¡œ ë°”ê¾¸ë©´ ìƒíƒœê°€ ì—…ë°ì´íŠ¸ë˜ê³ , ì›í•˜ëŠ”ëŒ€ë¡œ ì‘ë™í•œë‹¤.

## `read` ì‚¬ìš©í•´ì•¼ í•  ê³³ì—ì„œ `watch` ì‚¬ìš© ì‹œ ì—ëŸ¬ ë°œìƒí•œë‹¤

- Providerì˜ ì˜ì¡´ì„±ì´ ë³€ê²½ë˜ì—ˆì§€ë§Œ ì•„ì§ Providerê°€ ë‹¤ì‹œ ë¹Œë“œë˜ì§€ ì•Šì•˜ì„ ë•Œ ref í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ ë°œìƒí•˜ëŠ” ì—ëŸ¬

### ë¬¸ì œ

ë¡œê·¸ì¸ í™”ë©´ì—ì„œ `state` ìƒíƒœê°€ ë³€ê²½ë˜ë©´ `account` í˜ì´ì§€ë¡œ ì´ë™ì‹œí‚¨ë‹¤. ì´ë•Œ `GoRouter`ì˜ `redirect` ì†ì„±ì—ì„œ `ref.watch` ì‚¬ìš©í•˜ë©´ ìµì…‰ì…˜ì´ ë°œìƒí•œë‹¤

```dart
class _SignInContentsState extends ConsumerState<SignInContents>
    with TextValidator {

  @override
  Widget build(BuildContext context) {
    ref.listen<AsyncValue>(
      signInControllerProvider,
      (_, state) => state.when(
        data: (data) {
          if (data is SignInSuccess) {
            GoRouter.of(context).goNamed(AppRoute.account.name);
          } else {
            state.showAlertDialogOnError(context);
          }
        },
        .. ìƒëµ ..
    );
```

```dart
final goRouterProvider = Provider<GoRouter>((ref) {
  return GoRouter(
    ... ìƒëµ ...
    redirect: (context, state) {
      final loggedInState = ref.watch(loggedInStateProvider);
      //                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
      ... ìƒëµ ...
      return null;
    }
```

```log
â•â•â•¡ EXCEPTION CAUGHT BY FOUNDATION LIBRARY â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
The following assertion was thrown while dispatching notifications for GoRouteInformationProvider:
Assertion failed:
file:///Users/rody/.pub-cache/hosted/pub.dev/riverpod-2.4.0/lib/src/framework/element.dart:673:7
!_didChangeDependency
"Cannot use ref functions after the dependency of a provider changed but before the provider
rebuilt"
```

### ì›ì¸

- Riverpodì˜ ProviderëŠ” ì£¼ì–´ì§„ BuildContextì— ëŒ€í•œ Providerì˜ í˜„ì¬ ìƒíƒœë¥¼ ì œê³µí•œë‹¤
- `watch`ë¥¼ ì‚¬ìš©í•˜ë©´ Providerì˜ ìƒíƒœê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ ì´ë¥¼ ê°ì§€í•˜ê³  ì—°ê²°ëœ ìœ„ì ¯ì„ ë‹¤ì‹œ ë¹Œë“œí•œë‹¤
- `watch`ë¥¼ `redirect`ì—ì„œ ì‚¬ìš©í•˜ë©´ ìƒíƒœ ë³€ê²½ì´ ì¼ì–´ë‚  ë•Œë§ˆë‹¤ ë¦¬ìŠ¤ë‹ì´ ë°œìƒí•œë‹¤.
    - ë¡œê·¸ì¸ ìƒíƒœê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ ë¼ìš°í„°ê°€ ë‹¤ì‹œ í‰ê°€í•œë‹¤.
    - ì¦‰, ë¡œê·¸ì¸ ìƒíƒœê°€ ë³€í•  ë•Œë§ˆë‹¤ í•´ë‹¹ Providerê°€ ê°ì§€í•˜ì—¬ redirect í•¨ìˆ˜ë¥¼ ë‹¤ì‹œ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤.
    - **ì´ë ‡ê²Œ ë˜ë©´ ë¼ìš°í„° ì„¤ì •ì´ ë³€ê²½ë˜ê¸° ì „ì— redirect í•¨ìˆ˜ê°€ ë‹¤ì‹œ í˜¸ì¶œë  ê°€ëŠ¥ì„±ì´ ë†’ë‹¤**
    - ë˜í•œ go_routeì˜ `redirect` í•¨ìˆ˜ëŠ” ë¼ìš°íŒ… ë¡œì§ì„ ì²˜ë¦¬í•˜ë©´ì„œ íŠ¹ì • ì¡°ê±´ì— ë”°ë¼ ë‹¤ë¥¸ ê²½ë¡œë¡œ ë¦¬ë””ë ‰ì…˜ì„ ìˆ˜í–‰í•œë‹¤. ì´ ê³¼ì •ì—ì„œ ìƒíƒœ ë³€ê²½ì„ íŠ¸ë¦¬ê±°í•  ìˆ˜ ìˆìœ¼ë©°, ì´ë¡œ ì¸í•´ Riverpodì˜ `watch` í•¨ìˆ˜ê°€ ë¬¸ì œë¥¼ ì¼ìœ¼í‚¬ ìˆ˜ ìˆë‹¤. ì´ë¯¸ **ì‹¤í–‰ ì¤‘ì¸ í•¨ìˆ˜ ìŠ¤íƒì´ ìˆì„ ë•Œ ìƒíƒœ ë³€ê²½**ì´ ì¼ì–´ë‚˜ê²Œ ëœë‹¤.
- ì¦‰, Riverpodì˜ `watch` ë©”ì„œë“œëŠ” ìƒíƒœê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ ì´ë¥¼ ê°ì§€í•˜ì—¬ ê´€ë ¨ëœ ìœ„ì ¯ì„ ì¬êµ¬ì„±(rebuild)í•˜ê²Œ ë˜ëŠ”ë°, ì´ëŸ¬í•œ ì¬êµ¬ì„±ì´ í•¨ìˆ˜(`redirect`)ì˜ ì‹¤í–‰ ì¤‘ê°„ì— ë°œìƒí•˜ë©´ ê·¸ í•¨ìˆ˜(`redirect`) ìŠ¤íƒì€ ì•„ì§ ì™„ë£Œë˜ì§€ ì•Šì€ ìƒíƒœê°€ ëœë‹¤. ì´ ë•Œ `watch` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´, "Cannot use ref functions after the dependency of a provider changed but before the provider rebuilt"(providerê°€ ì¬êµ¬ì„±ë˜ê¸° ì „ì— ref í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤)ëŠ” ì—ëŸ¬ê°€ ë°œìƒí•˜ê²Œ ëœë‹¤.

### í•´ê²°

`read`ê°€ ì•„ë‹Œ `watch`ë¥¼ ì‚¬ìš©

## firebase firestore ì €ì¥ ì—ëŸ¬

### ë¬¸ì œ

```dart
_hasValue: true
invalidValue: _$36_DefaultInfo (DefaultInfo(uid: eIMPZKK1h6Mf5SnP0Kw892D7gKt1, email: aimpugn@gmail.com, emailVerified: false, name: Some(ê¹€ìƒí˜„), phone: Some(01091851202), phoneVerified: Some(true), profileUris: None))
<error>: <Unexpected DWDS error for getObject: Unexpected error from chrome devtools:>
message: "Could not convert"
name: "dartObject"
```

```log
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚ #0   packages/dilectio_app/src/subprojects/user/application/auth_application.dart 80:19  <fn>
â”œâ”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„
â”‚ ğŸ’¡ result is Left(DomainErrors(message: Internal Server Error, error: Invalid argument (dartObject): Could not convert: Instance of '_$36_DefaultInfo', stackTrace: dart-sdk/lib/_internal/js_dev_runtime/private/ddc_runtime/errors.dart 294:49                            throw_
â”‚ ğŸ’¡ packages/firebase_core_web/src/interop/utils/utils.dart 95:5                                            jsify
â”‚ ğŸ’¡ packages/firebase_core_web/src/interop/utils/utils.dart 83:36                                           <fn>
â”‚ ğŸ’¡ dart-sdk/lib/_internal/js_dev_runtime/private/linked_hash_map.dart 21:13                                forEach
â”‚ ğŸ’¡ packages/firebase_core_web/src/interop/utils/utils.dart 82:15                                           jsify
â”‚ ğŸ’¡ packages/cloud_firestore_web/src/interop/utils/utils.dart 42:23                                         jsify
â”‚ ğŸ’¡ packages/cloud_firestore_web/src/interop/firestore.dart 370:46                                          set
â”‚ ğŸ’¡ packages/cloud_firestore_web/src/document_reference_web.dart 33:23                                      <fn>
â”‚ ğŸ’¡ packages/_flutterfire_internals/_flutterfire_internals.dart 112:21                                      guardWebExceptions
â”‚ ğŸ’¡ packages/cloud_firestore_web/src/internals.dart 12:20                                                   convertWebExceptions
â”‚ ğŸ’¡ packages/cloud_firestore_web/src/document_reference_web.dart 32:12                                      set
â”‚ ğŸ’¡ packages/cloud_firestore/src/document_reference.dart 168:22                                             set
â”‚ ğŸ’¡ packages/dilectio_app/src/subprojects/user/infrastructure/repositories/user_repository_impl.dart 29:27  <fn>
â”‚ ğŸ’¡ dart-sdk/lib/_internal/js_dev_runtime/patch/async_patch.dart 84:54                                      runBody
â”‚ ğŸ’¡ dart-sdk/lib/_internal/js_dev_runtime/patch/async_patch.dart 127:5                                      _async
â”‚ ğŸ’¡ packages/dilectio_app/src/subprojects/user/infrastructure/repositories/user_repository_impl.dart 26:9   <fn>
â”‚ ğŸ’¡ packages/fpdart/src/task_either.dart 280:39                                                             <fn>
â”‚ ğŸ’¡ dart-sdk/lib/_internal/js_dev_runtime/patch/async_patch.dart 84:54                                      runBody
â”‚ ğŸ’¡ dart-sdk/lib/_internal/js_dev_runtime/patch/async_patch.dart 127:5                                      _async
â”‚ ğŸ’¡ packages/fpdart/src/task_either.dart 278:24                                                             <fn>
â”‚ ğŸ’¡ packages/fpdart/src/task_either.dart 183:37                                                             run
â”‚ ğŸ’¡ packages/dilectio_app/src/subprojects/user/application/auth_application.dart 78:45                      <fn>
â”‚ ğŸ’¡ dart-sdk/lib/_internal/js_dev_runtime/patch/async_patch.dart 84:54                                      runBody
â”‚ ğŸ’¡ dart-sdk/lib/_internal/js_dev_runtime/patch/async_patch.dart 127:5                                      _async
â”‚ ğŸ’¡ packages/dilectio_app/src/subprojects/user/application/auth_application.dart 74:18                      <fn>
â”‚ ğŸ’¡ packages/riverpod/src/common.dart 686:16                                                                AsyncValueX.when
â”‚ ğŸ’¡ packages/dilectio_app/src/subprojects/user/application/auth_application.dart 73:41                      signUp
â”‚ ğŸ’¡ dart-sdk/lib/_internal/js_dev_runtime/patch/async_patch.dart 45:50                                      <fn>
â”‚ ğŸ’¡ dart-sdk/lib/async/zone.dart 1661:54                                                                    runUnary
â”‚ ğŸ’¡ dart-sdk/lib/async/future_impl.dart 156:18                                                              handleValue
â”‚ ğŸ’¡ dart-sdk/lib/async/future_impl.dart 840:44                                                              handleValueCallback
â”‚ ğŸ’¡ dart-sdk/lib/async/future_impl.dart 869:13                                                              _propagateToListeners
â”‚ ğŸ’¡ dart-sdk/lib/async/future_impl.dart 641:5                                                               [_completeWithValue]
â”‚ ğŸ’¡ dart-sdk/lib/async/future_impl.dart 715:7                                                               callback
â”‚ ğŸ’¡ dart-sdk/lib/async/schedule_microtask.dart 40:11                                                        _microtaskLoop
â”‚ ğŸ’¡ dart-sdk/lib/async/schedule_microtask.dart 49:5                                                         _startMicrotaskLoop
â”‚ ğŸ’¡ dart-sdk/lib/_internal/js_dev_runtime/patch/async_patch.dart 181:15                                     <fn>
â”‚ ğŸ’¡ ))
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Instance of 'AuthApplicationFailure', dart-sdk/lib/_internal/js_dev_runtime/private/ddc_runtime/errors.dart 294:49                            throw_
packages/firebase_core_web/src/interop/utils/utils.dart 95:5                                            jsify
packages/firebase_core_web/src/interop/utils/utils.dart 83:36                                           <fn>
dart-sdk/lib/_internal/js_dev_runtime/private/linked_hash_map.dart 21:13                                forEach
packages/firebase_core_web/src/interop/utils/utils.dart 82:15                                           jsify
packages/cloud_firestore_web/src/interop/utils/utils.dart 42:23                                         jsify
packages/cloud_firestore_web/src/interop/firestore.dart 370:46                                          set
packages/cloud_firestore_web/src/document_reference_web.dart 33:23                                      <fn>
packages/_flutterfire_internals/_flutterfire_internals.dart 112:21                                      guardWebExceptions
packages/cloud_firestore_web/src/internals.dart 12:20                                                   convertWebExceptions
packages/cloud_firestore_web/src/document_reference_web.dart 32:12                                      set
packages/cloud_firestore/src/document_reference.dart 168:22                                             set
packages/dilectio_app/src/subprojects/user/infrastructure/repositories/user_repository_impl.dart 29:27  <fn>
dart-sdk/lib/_internal/js_dev_runtime/patch/async_patch.dart 84:54                                      runBody
dart-sdk/lib/_internal/js_dev_runtime/patch/async_patch.dart 127:5                                      _async
packages/dilectio_app/src/subprojects/user/infrastructure/repositories/user_repository_impl.dart 26:9   <fn>
packages/fpdart/src/task_either.dart 280:39                                                             <fn>
dart-sdk/lib/_internal/js_dev_runtime/patch/async_patch.dart 84:54                                      runBody
dart-sdk/lib/_internal/js_dev_runtime/patch/async_patch.dart 127:5                                      _async
packages/fpdart/src/task_either.dart 278:24                                                             <fn>
packages/fpdart/src/task_either.dart 183:37                                                             run
packages/dilectio_app/src/subprojects/user/application/auth_application.dart 78:45                      <fn>
dart-sdk/lib/_internal/js_dev_runtime/patch/async_patch.dart 84:54                                      runBody
dart-sdk/lib/_internal/js_dev_runtime/patch/async_patch.dart 127:5                                      _async
packages/dilectio_app/src/subprojects/user/application/auth_application.dart 74:18                      <fn>
packages/riverpod/src/common.dart 686:16                                                                AsyncValueX.when
packages/dilectio_app/src/subprojects/user/application/auth_application.dart 73:41                      signUp
dart-sdk/lib/_internal/js_dev_runtime/patch/async_patch.dart 45:50                                      <fn>
dart-sdk/lib/async/zone.dart 1661:54                                                                    runUnary
dart-sdk/lib/async/future_impl.dart 156:18                                                              handleValue
dart-sdk/lib/async/future_impl.dart 840:44                                                              handleValueCallback
dart-sdk/lib/async/future_impl.dart 869:13                                                              _propagateToListeners
dart-sdk/lib/async/future_impl.dart 641:5                                                               [_completeWithValue]
dart-sdk/lib/async/future_impl.dart 715:7                                                               callback
dart-sdk/lib/async/schedule_microtask.dart 40:11                                                        _microtaskLoop
dart-sdk/lib/async/schedule_microtask.dart 49:5                                                         _startMicrotaskLoop
dart-sdk/lib/_internal/js_dev_runtime/patch/async_patch.dart 181:15                                     <fn>
```

```dart
// /Users/rody/.pub-cache/hosted/pub.dev/firebase_core_web-2.8.1/lib/src/interop/utils/utils.dart
/// Returns the JS implementation from Dart Object.
///
/// The optional [customJsify] function may return `null` to indicate,
/// that it could not handle the given Dart Object.
dynamic jsify(
  Object? dartObject, [
  Object? Function(Object? object)? customJsify,
]) {
  if (_isBasicType(dartObject)) {
    if (dartObject == null) {
      return null;
    }
    return dartObject;
  }

  if (dartObject is Iterable) {
    return jsifyList(dartObject, customJsify);
  }

  if (dartObject is Map) {
    var jsMap = util.newObject();
    dartObject.forEach((key, value) {
      util.setProperty(jsMap, key, jsify(value, customJsify));
    });
    return jsMap;
  }

  if (dartObject is Function) {
    return allowInterop(dartObject);
  }

  Object? value = customJsify?.call(dartObject);

  if (value == null) {
    throw ArgumentError.value(dartObject, 'dartObject', 'Could not convert');
  }

  return value;
}
```

### ì›ì¸

- [Datatype conversion of Dart "color" to "string" when in a "list" #1201](https://github.com/FlutterFlow/flutterflow-issues/issues/1201)

```dart
import 'package:fpdart/fpdart.dart';
import 'package:freezed_annotation/freezed_annotation.dart';

part 'default_info.freezed.dart';
part 'default_info.g.dart';

@freezed
class DefaultInfo with _$DefaultInfo {
  const factory DefaultInfo({
    required String uid,
    required String email,
    required bool emailVerified,
    required Option<String> name,
    required Option<String> phone,
    required Option<bool> phoneVerified,
    required Option<List<Uri>>? profileUris,
  }) = _DefaultInfo;

  factory DefaultInfo.fromJson(Map<String, dynamic> json) =>
      _$DefaultInfoFromJson(json);
}
```

- `DefaultInfo`ëŠ” nested ì˜¤ë¸Œì íŠ¸ `@JsonSerializable(explicitToJson: true)`ê°€ ì¶”ê°€ë˜ì–´ì•¼ í•œë‹¤

> Note:
> In order to serialize **nested** lists of freezed objects, you are supposed to either specify a `@JsonSerializable(explicitToJson: true)` or change `explicit_to_json` inside your `build.yaml` file (see the [documentation](https://github.com/google/json_serializable.dart/tree/master/json_serializable#build-configuration)).

### í•´ê²°

```dart
import 'package:fpdart/fpdart.dart';
import 'package:freezed_annotation/freezed_annotation.dart';

part 'default_info.freezed.dart';
part 'default_info.g.dart';

@freezed
class DefaultInfo with _$DefaultInfo {
  @JsonSerializable(explicitToJson: true)
  const factory DefaultInfo({
    required String uid,
    required String email,
    required bool emailVerified,
    required Option<String> name,
    required Option<String> phone,
    required Option<bool> phoneVerified,
    required Option<List<Uri>>? profileUris,
  }) = _DefaultInfo;

  factory DefaultInfo.fromJson(Map<String, dynamic> json) =>
      _$DefaultInfoFromJson(json);
}
```

## RenderFlex children have non-zero flex but incoming height constraints are unbounded

### ë¬¸ì œ

```log
... ì›ë˜ ì •ìƒì ì¸ ë¡œê·¸ ìƒëµ ...
â•â•â•¡ EXCEPTION CAUGHT BY RENDERING LIBRARY â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
The following assertion was thrown during performLayout():
RenderFlex children have non-zero flex but incoming height constraints are unbounded.
When a column is in a parent that does not provide a finite height constraint, for example if it is
in a vertical scrollable, it will try to shrink-wrap its children along the vertical axis. Setting a
flex on a child (e.g. using Expanded) indicates that the child is to expand to fill the remaining
space in the vertical direction.
These two directives are mutually exclusive. If a parent is to shrink-wrap its child, the child
cannot simultaneously expand to fit its parent.
Consider setting mainAxisSize to MainAxisSize.min and using FlexFit.loose fits for the flexible
children (using Flexible rather than Expanded). This will allow the flexible children to size
themselves to less than the infinite remaining space they would otherwise be forced to take, and
then will cause the RenderFlex to shrink-wrap the children rather than expanding to fit the maximum
constraints provided by the parent.
If this message did not help you determine the problem, consider using debugDumpRenderTree():
  https://flutter.dev/debugging/#rendering-layer
  http://api.flutter.dev/flutter/rendering/debugDumpRenderTree.html
The affected RenderFlex is:
  RenderFlex#3c228 relayoutBoundary=up27 NEEDS-LAYOUT NEEDS-PAINT NEEDS-COMPOSITING-BITS-UPDATE(creator: Column â† _FormScope â† WillPopScope â† Form-[LabeledGlobalKey<FormState>#e5ee0] â† _FocusInheritedScope â† Semantics â† FocusScope â† Padding â† Semantics â† DefaultTextStyle â† AnimatedDefaultTextStyle â† _InkFeatures-[GlobalKey#606ec ink renderer] â† â‹¯, parentData: <none> (can use size), constraints: BoxConstraints(w=528.0, 0.0<=h<=Infinity), size: MISSING, direction: vertical, mainAxisAlignment: start, mainAxisSize: max, crossAxisAlignment: stretch, verticalDirection: down)
The creator information is set to:
  Column â† _FormScope â† WillPopScope â† Form-[LabeledGlobalKey<FormState>#e5ee0] â†
  _FocusInheritedScope â† Semantics â† FocusScope â† Padding â† Semantics â† DefaultTextStyle â†
  AnimatedDefaultTextStyle â† _InkFeatures-[GlobalKey#606ec ink renderer] â† â‹¯
The nearest ancestor providing an unbounded width constraint is: _RenderSingleChildViewport#6ed73 relayoutBoundary=up14 NEEDS-LAYOUT NEEDS-PAINT NEEDS-COMPOSITING-BITS-UPDATE:
  needs compositing
  creator: _SingleChildViewport â† IgnorePointer-[GlobalKey#c8522] â† Semantics â† Listener â†
    _GestureSemantics â† RawGestureDetector-[LabeledGlobalKey<RawGestureDetectorState>#4929c] â†
    Listener â† _ScrollableScope â† _ScrollSemantics-[GlobalKey#e2ec0] â†
    NotificationListener<ScrollMetricsNotification> â† RepaintBoundary â† CustomPaint-[GlobalKey#c75d8]
    â† â‹¯
  parentData: <none> (can use size)
  constraints: BoxConstraints(0.0<=w<=1200.0, 0.0<=h<=744.0)
  size: MISSING
  offset: Offset(0.0, -0.0)
See also: https://flutter.dev/layout/
If none of the above helps enough to fix this problem, please don't hesitate to file a bug:
  https://github.com/flutter/flutter/issues/new?template=2_bug.yml
The relevant error-causing widget was:
  Column
Column:file:///Users/rody/VscodeProjects/dilectio/dilectio_app/lib/src/subprojects/user/presentation/sign_in/sign_in_screen.dart:140:18
When the exception was thrown, this was the stack:
... stack trace ...
```

- ìœ„ì˜ ì—ëŸ¬ëŠ” Flutter ë ˆì´ì•„ì›ƒ ì‹œìŠ¤í…œì—ì„œ ë°œìƒí•œ ê²ƒìœ¼ë¡œ, `RenderFlex` ê´€ë ¨ ì—ëŸ¬
- ì´ ì—ëŸ¬ì˜ ì£¼ìš” ì›ì¸ì€ `Column` ìœ„ì ¯ ë‚´ì— `Spacer` ë˜ëŠ” `Expanded` ê°™ì€ ìœ ì—°í•œ ìœ„ì ¯ì„ ì‚¬ìš©í–ˆìœ¼ë‚˜, `Column`ì´ ë¬´í•œ ë†’ì´(`unbounded height`)ë¥¼ ê°€ì§„ ë¶€ëª¨ ìœ„ì ¯(ì˜ˆ: `SingleChildScrollView`) ë‚´ì— ìˆê¸° ë•Œë¬¸

### ì›ì¸

- ìœ„ ì—ëŸ¬ëŠ” `Column`ì´ ë¬´í•œ ë†’ì´ë¥¼ ê°€ì§„ í™˜ê²½ì—ì„œ `Expanded` ë˜ëŠ” `Spacer`ì™€ ê°™ì€ ìœ ì—°í•œ ìœ„ì ¯ì´ ì‚¬ìš©ë˜ì—ˆìŒì„ ë‚˜íƒ€ë‚¸ë‹¤
- `Expanded`ë‚˜ `Spacer`ëŠ” ì‚¬ìš© ê°€ëŠ¥í•œ ê³µê°„ì„ ì±„ìš°ë ¤ê³  í•˜ì§€ë§Œ, `SingleChildScrollView`ì™€ ê°™ì€ ìŠ¤í¬ë¡¤ ê°€ëŠ¥í•œ ìœ„ì ¯ì€ ìì‹ì—ê²Œ ì œí•œ ì—†ëŠ” ë†’ì´ë¥¼ ì œê³µí•˜ê¸° ë•Œë¬¸ì—, `Expanded` ë˜ëŠ” `Spacer`ê°€ ì–¼ë§ˆë‚˜ ë§ì€ ê³µê°„ì„ ì°¨ì§€í•´ì•¼ í• ì§€ ê²°ì •í•  ìˆ˜ ì—†ë‹¤

### í”ŒëŸ¬í„° ë ˆì´ì•„ì›ƒ ì´í•´

- **ì œí•œ ì¡°ê±´ (Constraints):** ë¶€ëª¨ ìœ„ì ¯ì´ ìì‹ì—ê²Œ ì£¼ëŠ” í¬ê¸° ì œí•œ. ë¶€ëª¨ê°€ ë¬´í•œ ë†’ì´ë‚˜ ë„ˆë¹„ë¥¼ ì œê³µí•  ìˆ˜ë„ ìˆìŒ.
- **ìœ ì—°ì„± (Flexibility):** `Expanded`ì™€ `Flexible` ìœ„ì ¯ì€ ì£¼ì–´ì§„ ê³µê°„ ë‚´ì—ì„œ ìì‹ì˜ í¬ê¸°ë¥¼ ì–´ë–»ê²Œ ì¡°ì ˆí• ì§€ ê²°ì •í•œë‹¤
- **ìŠ¤í¬ë¡¤ ê°€ëŠ¥í•œ ì»¨í…ìŠ¤íŠ¸:** `SingleChildScrollView` ê°™ì€ ìŠ¤í¬ë¡¤ ê°€ëŠ¥í•œ ìœ„ì ¯ì€ ìì‹ì—ê²Œ ë¬´í•œ ë†’ì´ë¥¼ ì œê³µí•  ìˆ˜ ìˆìœ¼ë©°, ì´ëŠ” ë ˆì´ì•„ì›ƒ ë¬¸ì œë¥¼ ì¼ìœ¼í‚¬ ìˆ˜ ìˆë‹¤

### í•´ê²°

1. **`mainAxisSize` ì„¤ì •:**
   `Column`ì˜ `mainAxisSize` ì†ì„±ì„ `MainAxisSize.min`ìœ¼ë¡œ ì„¤ì •í•˜ì—¬, `Column`ì´ ìì‹ë“¤ì˜ í¬ê¸°ì— ë§ê²Œ í¬ê¸°ë¥¼ ì¡°ì ˆí•˜ë„ë¡ í•œë‹¤. ì´ë ‡ê²Œ í•˜ë©´ `Spacer`ë‚˜ `Expanded`ê°€ ë¬´í•œ ê³µê°„ì„ ì°¨ì§€í•˜ë ¤ëŠ” ì‹œë„ë¥¼ í•˜ì§€ ì•ŠëŠ”ë‹¤

   ```dart
   Column(
     mainAxisSize: MainAxisSize.min,
     children: [...],
   )
   ```

2. **`Flexible` ìœ„ì ¯ ì‚¬ìš©:**
   `Expanded` ëŒ€ì‹  `Flexible` ìœ„ì ‘ì„ ì‚¬ìš©í•˜ê³ , `fit` ì†ì„±ì„ `FlexFit.loose`ë¡œ ì„¤ì •í•œë‹¤. ì´ë ‡ê²Œ í•˜ë©´ ìì‹ ìœ„ì ¯ì´ ë” ìœ ì—°í•˜ê²Œ í¬ê¸°ë¥¼ ì¡°ì ˆí•  ìˆ˜ ìˆë‹¤

   ```dart
   Flexible(
     fit: FlexFit.loose,
     child: YourWidget(),
   )
   ```

3. **ë ˆì´ì•„ì›ƒ êµ¬ì¡° ì¬ê³ ë ¤:**
   í˜„ì¬ ë ˆì´ì•„ì›ƒ êµ¬ì¡°ê°€ ìŠ¤í¬ë¡¤ ê°€ëŠ¥í•œ ìœ„ì ¯ ë‚´ì— ìœ ì—°í•œ ìœ„ì ¯ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì í•©í•œì§€ ê³ ë ¤í•©ë‹ˆë‹¤. í•„ìš”ì— ë”°ë¼ ë‹¤ë¥¸ ë ˆì´ì•„ì›ƒ ìœ„ì ¯ì„ ì‚¬ìš©í•˜ê±°ë‚˜, ìŠ¤í¬ë¡¤ ë™ì‘ì„ ë‹¤ë¥´ê²Œ ì²˜ë¦¬í•˜ëŠ” ë°©ì‹ì„ ê³ ë ¤í•´ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## Vertical viewport was given unbounded height

### ë¬¸ì œ

```log
The following assertion was thrown during performResize():
Vertical viewport was given unbounded height.
Viewports expand in the scrolling direction to fill their container. In this case, a vertical
viewport was given an unlimited amount of vertical space in which to expand. This situation
typically happens when a scrollable widget is nested inside another scrollable widget.
If this widget is always nested in a scrollable widget there is no need to use a viewport because
there will always be enough vertical space for the children. In this case, consider using a Column
or Wrap instead. Otherwise, consider using a CustomScrollView to concatenate arbitrary slivers into
a single scrollable.
The relevant error-causing widget was:
  ListView
ListView:file:///Users/rody/VscodeProjects/dilectio/dilectio_app/lib/src/subprojects/user/presentation/sign_in/sign_in_screen.dart:140:18
sign_in_screen.dart:140
When the exception was thrown, this was the stack:
dart-sdk/lib/_internal/js_dev_runtime/private/ddc_runtime/errors.dart 294:49  throw_
```

### ì›ì¸

- ì´ ì—ëŸ¬ ë©”ì‹œì§€ëŠ” Flutter ë ˆì´ì•„ì›ƒ ì‹œìŠ¤í…œì—ì„œ `ListView` ìœ„ì ¯ì´ ë¬´ì œí•œ ë†’ì´ì˜ ê³µê°„ì— ë°°ì¹˜ë˜ì—ˆì„ ë•Œ ë°œìƒ
- íŠ¹íˆ "Vertical viewport was given unbounded height"ë¼ëŠ” ë¶€ë¶„ì´ í•µì‹¬
- ì´ëŠ” `ListView` (ë˜ëŠ” ë‹¤ë¥¸ ìŠ¤í¬ë¡¤ ê°€ëŠ¥í•œ ìœ„ì ¯)ê°€ **ìŠ¤í¬ë¡¤ ë°©í–¥ìœ¼ë¡œ ë¬´í•œí•œ ê³µê°„ì„ í™•ì¥í•˜ë ¤ê³  í•  ë•Œ ë°œìƒ**
- ì´ ë¬¸ì œëŠ” ì¼ë°˜ì ìœ¼ë¡œ ìŠ¤í¬ë¡¤ ê°€ëŠ¥í•œ ìœ„ì ¯ì´ ë‹¤ë¥¸ ìŠ¤í¬ë¡¤ ê°€ëŠ¥í•œ ìœ„ì ¯ ì•ˆì— ì¤‘ì²©ë˜ì—ˆì„ ë•Œ ë‚˜íƒ€ë‚œë‹¤
- **ë¬´í•œí•œ í™•ì¥:**
    - ìŠ¤í¬ë¡¤ ê°€ëŠ¥í•œ ìœ„ì ¯ë“¤ (`ListView`, `SingleChildScrollView` ë“±)ì€ ìì‹ ì´ ì°¨ì§€í•  ìˆ˜ ìˆëŠ” ê³µê°„ì„ ë¬´í•œëŒ€ë¡œ ê°€ì •í•œë‹¤
    - ì¦‰, ì´ë“¤ì€ ìì‹ ì„ í¬í•¨í•˜ëŠ” ë¶€ëª¨ ìœ„ì ¯ì´ ì œê³µí•˜ëŠ” ê³µê°„ì„ ê¸°ì¤€ìœ¼ë¡œ í¬ê¸°ë¥¼ ê²°ì •í•œë‹¤
- **ì¤‘ì²©ëœ ìŠ¤í¬ë¡¤:**
    - ë§Œì•½ `ListView`ê°€ ë‹¤ë¥¸ ìŠ¤í¬ë¡¤ ê°€ëŠ¥í•œ ìœ„ì ¯ ì•ˆì— ìœ„ì¹˜í•œë‹¤ë©´, `ListView`ëŠ” ì‚¬ìš© ê°€ëŠ¥í•œ ê³µê°„ì˜ í•œê³„ë¥¼ ì•Œ ìˆ˜ ì—†ìœ¼ë¯€ë¡œ, ì–¼ë§ˆë‚˜ ë§ì€ ê³µê°„ì„ ì°¨ì§€í•´ì•¼ í• ì§€ ê²°ì •í•  ìˆ˜ ì—†ë‹¤

### í•´ê²°

1. **ì¤‘ì²©ëœ ìŠ¤í¬ë¡¤ êµ¬ì¡° ì¬ê³ ë ¤:**
    - ë§Œì•½ `ListView`ê°€ ë‹¤ë¥¸ ìŠ¤í¬ë¡¤ ê°€ëŠ¥í•œ ìœ„ì ¯ ì•ˆì— ìˆì§€ ì•Šë„ë¡ êµ¬ì¡°ë¥¼ ë³€ê²½í•  ìˆ˜ ìˆë‹¤ë©´, ì´ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆë‹¤
    - ì˜ˆë¥¼ ë“¤ì–´, `ListView`ë¥¼ `Column`ì´ë‚˜ `Wrap` ê°™ì€ ì •ì ì¸ ë ˆì´ì•„ì›ƒ ìœ„ì ¯ìœ¼ë¡œ ëŒ€ì²´í•  ìˆ˜ ìˆë‹¤
2. **`CustomScrollView` ì‚¬ìš©:**
    - ì—¬ëŸ¬ ìŠ¤í¬ë¡¤ ê°€ëŠ¥í•œ ìœ„ì ¯ì„ ì—°ê²°í•´ì•¼ í•œë‹¤ë©´, `CustomScrollView`ë¥¼ ì‚¬ìš©í•˜ì—¬ ë‹¤ì–‘í•œ 'slivers' (ì˜ˆ: `SliverList`, `SliverAppBar` ë“±)ë¥¼ í•˜ë‚˜ì˜ ìŠ¤í¬ë¡¤ ê°€ëŠ¥í•œ ë·°ë¡œ ê²°í•©í•  ìˆ˜ ìˆë‹¤
    - `CustomScrollView`ëŠ” ì¤‘ì²©ëœ ìŠ¤í¬ë¡¤ ìƒí™©ì—ì„œ ë” ì˜ ë™ì‘í•œë‹¤
3. **ì œí•œëœ ê³µê°„ ì œê³µ:**
    - `ListView`ë¥¼ í¬í•¨í•˜ëŠ” ìœ„ì ¯ì— ëª…í™•í•œ ë†’ì´ ì œì•½ì„ ì œê³µí•œë‹¤
    - ì˜ˆë¥¼ ë“¤ì–´, `ListView`ë¥¼ `Container` ë˜ëŠ” `SizedBox`ë¡œ ê°ì‹¸ì„œ íŠ¹ì • ë†’ì´ë¥¼ ì§€ì •í•  ìˆ˜ ìˆë‹¤
4. **ì¤‘ì²©ëœ ìŠ¤í¬ë¡¤ ê°€ëŠ¥í•œ ìœ„ì ¯ í”¼í•˜ê¸°:**
    - ê°€ëŠ¥í•˜ë‹¤ë©´, ìŠ¤í¬ë¡¤ ê°€ëŠ¥í•œ ìœ„ì ¯ì„ ë‹¤ë¥¸ ìŠ¤í¬ë¡¤ ê°€ëŠ¥í•œ ìœ„ì ¯ ì•ˆì— ë„£ëŠ” ê²ƒì„ í”¼í•´ì•¼ í•œë‹¤.
    - ëŒ€ì‹ , ì „ì²´ í˜ì´ì§€ì— í•˜ë‚˜ì˜ ìŠ¤í¬ë¡¤ ê°€ëŠ¥í•œ ìœ„ì ¯ë§Œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤

## `TextFormField`ì˜ `validator`ê°€ ë‘ ë²ˆ í˜¸ì¶œë¨

### ë¬¸ì œ

### ì›ì¸

```dart
  const GrayFilledTextFormField({
    required this.textFormFieldKey,
    required this.controller,
    required this.keyboardType,
    this.textInputAction,
    this.labelName,
    this.labelText,
    this.obscureText,
    this.labelTextStyle,
    this.hintText,
    this.inputFormatters,
    this.validator,
    this.suffix,
    this.suffixIcon,
    this.decoration,
    this.autocorrect,
    this.enableSuggestions,
    this.inputDecorationEnabled,
    this.onEditingComplete,
  }) : super(key: textFormFieldKey);
```

- Flutterì—ì„œ ìœ„ì ¯ì˜ `key`ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì„ ë³´ë©´, `GrayFilledTextFormField` ìœ„ì ¯ì— ì „ë‹¬ëœ `textFormFieldKey`ëŠ” ë‘ ê°€ì§€ ìš©ë„ë¡œ ì‚¬ìš©ë˜ê³  ìˆë‹¤
    - í•˜ë‚˜ëŠ” `GrayFilledTextFormField`ì˜ ìƒì„±ìë¥¼ í†µí•´ `super(key: textFormFieldKey)`ë¡œ ì „ë‹¬
    - ë‹¤ë¥¸ í•˜ë‚˜ëŠ” ë‚´ë¶€ì˜ `TextFormField` ìœ„ì ¯ì—ë„ ë™ì¼í•œ `key`ê°€ í• ë‹¹
- Flutterì—ì„œ `key`ëŠ” íŠ¹ì • ìœ„ì ¯ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìœ ì¼í•˜ê²Œ ì‹ë³„í•˜ëŠ” ë° ì‚¬ìš©ëœë‹¤. ë”°ë¼ì„œ Flutter í”„ë ˆì„ì›Œí¬ê°€ ìœ„ì ¯ íŠ¸ë¦¬ì—ì„œ ìœ„ì ¯ì„ ì˜¬ë°”ë¥´ê²Œ ì‹ë³„í•˜ê³  ì¶”ì í•˜ëŠ” ë° í˜¼ë€ì„ ì¤„ ìˆ˜ ìˆê¸° ë•Œë¬¸ì—, í•˜ë‚˜ì˜ `key`ë¥¼ ì—¬ëŸ¬ ìœ„ì ¯ì— ë™ì‹œì— ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ê¶Œì¥ë˜ì§€ ì•ŠëŠ”ë‹¤.
- `GrayFilledTextFormField`ì˜ `super(key: textFormFieldKey)` í˜¸ì¶œì€ `GrayFilledTextFormField` ìœ„ì ¯ ìì²´ë¥¼ ì‹ë³„í•˜ëŠ” ë° ì‚¬ìš©ë˜ë©°, ì´ê²ƒì´ `TextFormField`ì—ë„ ë™ì¼í•˜ê²Œ ì‚¬ìš©ë˜ë©´, Flutter í”„ë ˆì„ì›Œí¬ëŠ” ë‘ ìœ„ì ¯ì„ ë™ì¼í•œ ê²ƒìœ¼ë¡œ ì˜¤ì¸í•  ìˆ˜ ìˆë‹¤. ì´ë¡œ ì¸í•´ ìœ„ì ¯ì˜ ìƒíƒœ ê´€ë¦¬, ë Œë”ë§, ê·¸ë¦¬ê³  íŠ¸ë¦¬ ì¬êµ¬ì„±(rebuilding) ê³¼ì •ì—ì„œ ì˜ˆê¸°ì¹˜ ì•Šì€ ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤.
- ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œëŠ” ê° ìœ„ì ¯ì— ê³ ìœ í•œ `key`ë¥¼ í• ë‹¹í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. ì˜ˆë¥¼ ë“¤ì–´, `GrayFilledTextFormField`ì™€ ë‚´ë¶€ì˜ `TextFormField`ì— ê°ê° ë‹¤ë¥¸ `key`ë¥¼ ì‚¬ìš©í•˜ë©´ ì´ëŸ¬í•œ ë¬¸ì œë¥¼ ë°©ì§€í•  ìˆ˜ ìˆë‹¤

#### Key ë§¤ê°œë³€ìˆ˜ ì¶”ê°€í•´ë³´ê¸°

- Key ë§¤ê°œë³€ìˆ˜ ì¶”ê°€í•˜ê¸°
    - Flutterì—ì„œ `key`ëŠ” ìœ„ì ¯ì˜ ê³ ìœ ì„±ì„ ë³´ì¥í•˜ê³ , ìœ„ì ¯ íŠ¸ë¦¬ì—ì„œ ìœ„ì ¯ì˜ ìœ„ì¹˜ë¥¼ ì¶”ì í•˜ëŠ” ë° ì‚¬ìš©ëœë‹¤.
    - `key`ì˜ ì£¼ìš” ëª©ì ì€ Flutter í”„ë ˆì„ì›Œí¬ê°€ ìœ„ì ¯ì„ ì˜¬ë°”ë¥´ê²Œ ì‹ë³„í•˜ê³ , ìƒíƒœ ê´€ë¦¬ ë° ë Œë”ë§ ìµœì í™”ë¥¼ ìœ„í•´ ìœ„ì ¯ì˜ ìƒëª… ì£¼ê¸°ë¥¼ ê´€ë¦¬í•˜ëŠ” ë° ìˆë‹¤.
    - ë”°ë¼ì„œ ìœ„ì ¯ì˜ ìƒì„±ìì— `Key` íƒ€ì…ì˜ ì„ íƒì (named) ë§¤ê°œë³€ìˆ˜ë¥¼ ì¶”ê°€í•˜ê³ , **ì´ ë§¤ê°œë³€ìˆ˜ëŠ” `super` í˜¸ì¶œì— ì „ë‹¬ë˜ì–´ì•¼** í•œë‹¤.
- ì¦‰ **ë‚´ë¶€ ìœ„ì ¯ì— Key ì „ë‹¬í•˜ì§€ ì•Šì•„ì•¼** í•œë‹¤. **ë‚´ë¶€ `TextFormField`ì—** ë‹¤ë¥¸ `key`ë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜, **ì•„ì˜ˆ `key`ë¥¼ í• ë‹¹í•˜ì§€ ì•Šì•„ì•¼** í•œë‹¤
- `GrayFilledTextFormField` ìœ„ì ¯ì€ `Key` ë§¤ê°œë³€ìˆ˜ë¥¼ ë°›ê³ , ì´ `key`ëŠ” ìœ„ì ¯ì„ ì‹ë³„í•˜ëŠ” ë° ì‚¬ìš©ë˜ë©°, ë‚´ë¶€ `TextFormField`ì—ëŠ” ë³„ë„ì˜ `key`ë¥¼ í• ë‹¹í•˜ì§€ ì•ŠëŠ”ë‹¤. ì´ë ‡ê²Œ í•˜ë©´ Flutter í”„ë ˆì„ì›Œí¬ê°€ ìœ„ì ¯ì˜ ìƒëª… ì£¼ê¸°ì™€ ìƒíƒœë¥¼ ì˜¬ë°”ë¥´ê²Œ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤. ì´ëŸ¬í•œ ì ‘ê·¼ ë°©ì‹ì€ Flutterì˜ ê¶Œì¥ì‚¬í•­ì„ ë”°ë¥´ë©°, ìœ„ì ¯ì˜ ê³ ìœ ì„±ì„ ë³´ì¥í•˜ëŠ” ë™ì‹œì—, ë‚´ë¶€ ìœ„ì ¯ ê°„ì˜ ì ì¬ì ì¸ ì¶©ëŒì„ ë°©ì§€í•œë‹¤

```dart
class GrayFilledTextFormField extends StatelessWidget {
  // ë‚˜ë¨¸ì§€ ë§¤ê°œë³€ìˆ˜ë“¤...

  // ìƒì„±ìì— Key ë§¤ê°œë³€ìˆ˜ ì¶”ê°€
  const GrayFilledTextFormField({
    Key? key, // Key ë§¤ê°œë³€ìˆ˜ ì¶”ê°€
    required this.controller,
    required this.keyboardType,
    // ë‚˜ë¨¸ì§€ ë§¤ê°œë³€ìˆ˜ë“¤...
  }) : super(key: key); // super í˜¸ì¶œì— key ì „ë‹¬

  @override
  Widget build(BuildContext context) {
    return Column(
      crossAxisAlignment: CrossAxisAlignment.start,
      children: [
        // ...
        Expanded(
          child: TextFormField(
            // key: textFormFieldKey, // ë‚´ë¶€ TextFormFieldì—ëŠ” ë³„ë„ì˜ keyë¥¼ í• ë‹¹í•˜ì§€ ì•ŠìŒ
            // ë‚˜ë¨¸ì§€ ì½”ë“œ...
          ),
        )
      ],
    );
  }
}
```

#### ì™œ ë‚´ë¶€ `TextFormField`ì— ë³„ë„ì˜ `key`ë¥¼ í• ë‹¹í•˜ì§€ ì•Šì•„ë„ ë˜ëŠ”ê°€?

- **ìœ„ì ¯ ì‹ë³„**
    - `TextFormField`ì™€ ê°™ì€ í¼ í•„ë“œ ìœ„ì ¯ì€ ëŒ€ë¶€ë¶„ì˜ ê²½ìš° ê³ ìœ í•œ `key`ê°€ í•„ìš”í•˜ì§€ ì•Šë‹¤.
    - ì´ëŠ” `TextFormField`ì˜ ìƒíƒœ(ì˜ˆ: ì…ë ¥ëœ í…ìŠ¤íŠ¸)ê°€ ì£¼ë¡œ `TextEditingController`ë¥¼ í†µí•´ ê´€ë¦¬ë˜ê¸° ë•Œë¬¸
    - ë”°ë¼ì„œ, ìœ„ì ¯ íŠ¸ë¦¬ì—ì„œ í•´ë‹¹ ìœ„ì ¯ì˜ ìœ„ì¹˜ë‚˜ ê³ ìœ ì„±ì„ ì‹ë³„í•  í•„ìš”ê°€ ê±°ì˜ ì—†ë‹¤
- **ìƒíƒœ ê´€ë¦¬**
    - `TextEditingController`ì™€ ê°™ì€ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°, ìœ„ì ¯ì˜ ìƒíƒœê°€ ì»¨íŠ¸ë¡¤ëŸ¬ì— ì˜í•´ ê´€ë¦¬ëœë‹¤
    - ì´ ê²½ìš° ìœ„ì ¯ ìì²´ì˜ `key`ë³´ë‹¤ëŠ” ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ì¤‘ìš”í•œ ì—­í• ì„ í•˜ê²Œ ëœë‹¤
- **ìœ„ì ¯ íŠ¸ë¦¬ì˜ ë³€í™”**
    - Flutterì—ì„œ ìœ„ì ¯ì˜ `key`ëŠ” ìœ„ì ¯ì´ ìœ„ì ¯ íŠ¸ë¦¬ì—ì„œ ì¬ë°°ì¹˜ë˜ê±°ë‚˜, ìœ„ì ¯ íŠ¸ë¦¬ ë‚´ì—ì„œ ë™ì¼í•œ ìœ í˜•ì˜ ë‹¤ë¥¸ ìœ„ì ¯ê³¼ êµ¬ë³„ë  í•„ìš”ê°€ ìˆì„ ë•Œ ì¤‘ìš”í•˜ë‹¤.
    - `TextFormField`ì™€ ê°™ì€ ë‹¨ìˆœí•œ í¼ í•„ë“œì˜ ê²½ìš°, ìœ„ì ¯ íŠ¸ë¦¬ì—ì„œ ìì£¼ ì¬ë°°ì¹˜ë˜ê±°ë‚˜, ê³ ìœ ì„±ì´ í•„ìˆ˜ì ì¸ ìƒí™©ì´ ë“œë¬¼ê¸° ë•Œë¬¸ì— `key`ê°€ í•„ìˆ˜ì ì´ì§€ ì•Šë‹¤
- **ì„±ëŠ¥ ìµœì í™”**
    - ëª¨ë“  ìœ„ì ¯ì— `key`ë¥¼ í• ë‹¹í•˜ë©´ Flutterì˜ ì„±ëŠ¥ ìµœì í™” ê¸°ëŠ¥ì„ ë°©í•´í•  ìˆ˜ ìˆë‹¤.
    - ë¶ˆí•„ìš”í•˜ê²Œ `key`ë¥¼ ì‚¬ìš©í•˜ë©´ Flutterê°€ ìœ„ì ¯ì˜ ë¶ˆí•„ìš”í•œ ì¬ìƒì„±ì„ í”¼í•˜ê¸° ìœ„í•´ ì¶”ê°€ì ì¸ ì‘ì—…ì„ ìˆ˜í–‰í•´ì•¼ í•  ìˆ˜ ìˆë‹¤

ì¦‰, `key`ëŠ” ìœ„ì ¯ì˜ ê³ ìœ ì„±ì„ ê´€ë¦¬í•˜ê³  ìœ„ì ¯ íŠ¸ë¦¬ì—ì„œì˜ ìœ„ì¹˜ ë³€í™”ë¥¼ ì¶”ì í•˜ëŠ” ë° ì¤‘ìš”í•˜ì§€ë§Œ, ëª¨ë“  ìœ„ì ¯ì— `key`ë¥¼ ì‚¬ìš©í•  í•„ìš”ëŠ” ì—†ë‹¤.
íŠ¹íˆ `TextFormField`ì™€ ê°™ì€ í¼ í•„ë“œì—ì„œëŠ” ìƒíƒœ ê´€ë¦¬ê°€ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ í†µí•´ ì´ë£¨ì–´ì§€ê¸° ë•Œë¬¸ì— `key`ì˜ ì‚¬ìš©ì´ í•„ìˆ˜ì ì´ì§€ ì•Šë‹¤.
`key`ì˜ ì‚¬ìš©ì€ ìœ„ì ¯ì˜ íŠ¹ì • ìš”êµ¬ì‚¬í•­ê³¼ ìƒí™©ì— ë”°ë¼ ê²°ì •ë˜ì–´ì•¼ í•˜ë©°, í•„ìš”í•˜ì§€ ì•Šì€ ê²½ìš°ì—ëŠ” ìƒëµí•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.

### í•´ê²°

ë¡œì§ì´ ì˜ëª»ëœ ê±°ì˜€ë‹¤

```diff
  Future<void> _login() async {
    setState(() => _submitted = true);
    // only submit the form if validation passes
    if (_signInFormKey.currentState!.validate()) {
      await ref
          .read(authApplicationProvider.notifier)
          .loginByEmail(email, password);
+     setState(() => _submitted = false);
    }
-   setState(() => _submitted = false);
  }
```

```dart
validator: (email) =>
    !_submitted ? null : emailErrorText(email),
```

`_submitted` ìƒíƒœê°€ loginì´ ë˜ì§€ë„ ì•Šì•˜ëŠ”ë° falseë¡œ ë°”ë€Œë©´ì„œ `!_submitted`ì€ trueê°€ ë˜ê³  nullì´ ë¦¬í„´ë˜ë©´ì„œ ì œëŒ€ë¡œ ì—ëŸ¬ ë©”ì‹œì§€ê°€ ì¶œë ¥ë˜ì§€ ì•Šì•˜ë˜ ê²ƒ

## The return type 'Null' isn't a 'AppUser', as required by the closure's context

### ë¬¸ì œ

```dart
  TaskEither<AuthDomainFailure, AuthDomainSuccess> createUserByEmailAndPassword(
          CreateUserByEmailCommand cmd) =>
      TaskEither.Do((_) async {
        // ì²« ë²ˆì§¸ ë‹¨ê³„: ê°€ëŠ¥í•œ ì‚¬ìš©ì IDì¸ì§€ í™•ì¸
        final isPossibleUserIDEither =
            await userRepo.isPossibleUserID(cmd.email).run();
        if (isPossibleUserIDEither.isLeft()) {
          return isPossibleUserIDEither;
        }
        final isPossibleUserID = isPossibleUserIDEither.getOrElse((_) => false);
        if (!isPossibleUserID) {
          return Left(DomainErrors.conflict(
              error: Object(), stackTrace: StackTrace.current));
        }

        // ë‘ ë²ˆì§¸ ë‹¨ê³„: ì‚¬ìš©ì ìƒì„±
        final createdUserEither =
            await authRepo.createUserWithEmailAndPassword(cmd).run();
        if (createdUserEither.isLeft()) {
          return createdUserEither.mapLeft(identity);
        }
        final appUser = createdUserEither.getOrElse((_) => null);
                                          ^^^^^^^^^^^^^^^^^^^^^^ Error!
        if (appUser == null) {
          return Left(DomainErrors.fromFirebase(
              error: Object(), stackTrace: StackTrace.current));
        }

        return Right(appUser);
      }).mapLeft(AuthDomainFailure.new).map(AuthDomainSuccess.new);
                                            ^^^^^^^^^^^^^^^^^^^^^^ Error!
```

ê·¸ë˜ì„œ ì•„ë˜ì™€ ê°™ì´ `TaskEither<DomainErrors, AppUser>.Do((_) async {` íƒ€ì…ì„ ëª…ì‹œí•˜ê³ , `Left`, `Right`ë¡œ ë¦¬í„´ì„ í•´ë´¤ë‹¤

```dart
  TaskEither<AuthDomainFailure, AuthDomainSuccess> createUserByEmailAndPassword(
          CreateUserByEmailCommand cmd) =>
      TaskEither<DomainErrors, AppUser>.Do((_) async {
        // ì²« ë²ˆì§¸ ë‹¨ê³„: ê°€ëŠ¥í•œ ì‚¬ìš©ì IDì¸ì§€ í™•ì¸
        final isPossibleUserIDEither =
            await userRepo.isPossibleUserID(cmd.email).run();

        final errorOrIsPossibleUserId =
            isPossibleUserIDEither.fold(identity, identity);
        if (errorOrIsPossibleUserId is DomainErrors) {
          return Left(errorOrIsPossibleUserId);
        }

        final isPossibleUserID = errorOrIsPossibleUserId as bool;
        if (!isPossibleUserID) {
          return Left(DomainErrors.conflict(
              error: Object(), stackTrace: StackTrace.current));
        }

        // ë‘ ë²ˆì§¸ ë‹¨ê³„: ì‚¬ìš©ì ìƒì„±
        final createdUserEither =
            await authRepo.createUserWithEmailAndPassword(cmd).run();

        final errorOrAppUser = createdUserEither.fold(identity, identity);
        if (errorOrAppUser is DomainErrors) {
          return Left(errorOrAppUser);
        }

        final appUser = errorOrAppUser as AppUser;

        final marked = await userRepo.upsertUserID(cmd.email).run();
        final errorOrmarked = marked.fold(identity, identity);
        if (errorOrmarked is DomainErrors) {
          return Left(errorOrmarked);
        }

        return appUser;
      }).mapLeft(AuthDomainFailure.new).map(AuthDomainSuccess.new);
```

ê·¸ë¬ë”ë‹ˆ `Left(errorOrIsPossibleUserId)`, `Left(DomainErrors.conflict(error: Object(), stackTrace: StackTrace.current))`, `Left(errorOrAppUser)`, `Left(errorOrmarked)`ì—ì„œ ì•„ë˜ì™€ ê°™ì€ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤

```log
The return type 'Left<DomainErrors, dynamic>' isn't a 'Future<AppUser>', as required by the closure's context.
```

Do í‘œê¸°ë²•ì—ì„œ ì‚¬ìš©ë˜ëŠ” í´ë¡œì € ì»¨í…ìŠ¤íŠ¸ì—ì„œ returnì€ `Future<AppUser>`ì´ê¸¸ ê¸°ëŒ€í•˜ëŠ” ê²ƒìœ¼ë¡œ ë³´ì´ëŠ”ë°,`TaskEither<DomainErrors, AppUser>.Do`ì—ì„œ LeftëŠ”`DomainErrors` íƒ€ì…ì´ë¼ê³  ì œê°€ ì§€ì •ì„ í–ˆë‹¤. ë­ê°€ ì˜ëª»ëœ ê±¸ê¹Œ?

### ì›ì¸

- `getOrElse` í•¨ìˆ˜ëŠ” `Either`ì˜ `Right` ê°’ì´ ì—†ì„ ê²½ìš° ì‚¬ìš©í•  ê¸°ë³¸ê°’ì„ ì œê³µí•˜ëŠ”ë°, ì´ ê¸°ë³¸ê°’ì€ `Right` íƒ€ì…ê³¼ ì¼ì¹˜í•´ì•¼ í•œë‹¤
- `createdUserEither`ì˜ `Right` ê°’ì€ `?`ê°€ ì—†ëŠ” `AppUser`ì¸ë°, ê¸°ë³¸ê°’ì´ `null`ë¡œ ë¦¬í„´ë˜ê¸° ë•Œë¬¸ì— dartì˜ íƒ€ì… ì‹œìŠ¤í…œì´ ì´ë¥¼ í—ˆìš©í•˜ì§€ ì•ŠëŠ” ê²ƒ
- ê·¸ë¦¬ê³  `Do` í‘œê¸°ë²• ë‚´ì—ì„œ `Left`, `Right`ë¡œ ë¦¬í„´í•˜ëŠ” ê²ƒì€ ë¬¸ì œ í•´ê²°ì´ ë˜ì§€ ì•ŠëŠ”ë‹¤. ì£¼ì–´ì§€ëŠ” `_` í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.

#### `_` í•¨ìˆ˜

- `_` í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë¬¸ì œë¥¼ í•´ê²°í•œ ì´ìœ ëŠ” ì´ í•¨ìˆ˜ê°€ `TaskEither`ì˜ ì œë„¤ë¦­ íƒ€ì…ì„ ìœ ì§€í•˜ë©´ì„œ `Future`ë¥¼ ë°˜í™˜í•˜ëŠ” ë° í•„ìš”í•œ **ë¸Œë¦¬ì§• ì—­í• **ì„ í•˜ê¸° ë•Œë¬¸ì´ë‹¤
- Dartì—ì„œëŠ” íƒ€ì…ì´ ë§¤ìš° ì—„ê²©í•˜ê²Œ ì ìš©ë˜ë¯€ë¡œ, `Future<A> Function<A>(TaskEither<DomainErrors, A>) _`ì™€ ê°™ì€ í•¨ìˆ˜ëŠ” `TaskEither`ë¥¼ `Future`ë¡œ ë³€í™˜í•˜ë©´ì„œë„ ì œë„¤ë¦­ íƒ€ì…ì„ ìœ ì§€í•˜ëŠ” ì—­í• í•œë‹¤
- ì´ í•¨ìˆ˜ì˜ ì‘ë™ ì›ë¦¬ëŠ”
    - **íƒ€ì… ìœ ì§€**
        - ì´ í•¨ìˆ˜ëŠ” `TaskEither<DomainErrors, A>`ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë°›ê³ , ê°™ì€ `TaskEither<DomainErrors, A>` íƒ€ì…ì„ ë°˜í™˜í•œë‹¤
        - ì´ëŠ” `TaskEither.Do` ë¸”ë¡ ì•ˆì—ì„œ ê° ë°˜í™˜ê°’ì´ `TaskEither<DomainErrors, AppUser>` íƒ€ì…ì„ ìœ ì§€í•´ì•¼ í•œë‹¤ëŠ” ìš”êµ¬ ì‚¬í•­ì„ ì¶©ì¡±ì‹œí‚¨ë‹¤
    - **`Future` ë°˜í™˜**
        - Dartì˜ `async` í•¨ìˆ˜ëŠ” í•­ìƒ `Future`ë¥¼ ë°˜í™˜í•´ì•¼ í•œë‹¤
        - ì´ í•¨ìˆ˜ëŠ” `TaskEither` ì¸ìŠ¤í„´ìŠ¤ë¥¼ `Future`ë¡œ ë˜í•‘í•˜ì—¬ ì´ ìš”êµ¬ ì‚¬í•­ì„ ì¶©ì¡±í•œë‹¤
        - ì¦‰, `TaskEither.Do` ë¸”ë¡ ì•ˆì˜ ê° ë‹¨ê³„ì—ì„œ `Future<TaskEither<DomainErrors, AppUser>>`ë¥¼ ë°˜í™˜í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤
    - **ì œë„¤ë¦­ íƒ€ì…**
        - í•¨ìˆ˜ì˜ ì œë„¤ë¦­ íƒ€ì… `A`ëŠ” `TaskEither`ì˜ `Right` ê°’ì˜ íƒ€ì…ì„ ë‚˜íƒ€ë‚¸ë‹¤
        - ì´ë¥¼ í†µí•´ `TaskEither`ì˜ `Left`ì™€ `Right` ê°’ ëª¨ë‘ì— ëŒ€í•œ íƒ€ì… ì•ˆì •ì„±ì„ ì œê³µí•œë‹¤
- ê²°ë¡ ì ìœ¼ë¡œ, `_` í•¨ìˆ˜ëŠ”
    - `TaskEither.Do` ë¸”ë¡ ë‚´ì—ì„œ `TaskEither`ì˜ íƒ€ì…ì„ ìœ ì§€í•˜ë©´ì„œ ë¹„ë™ê¸° í•¨ìˆ˜ê°€ ìš”êµ¬í•˜ëŠ” `Future`ë¥¼ ë°˜í™˜í•˜ëŠ” ì¤‘ê°„ì ì—­í• ì„ í•˜ê³ ,
    - ì´ë¥¼ í†µí•´ íƒ€ì… ì‹œìŠ¤í…œì˜ ìš”êµ¬ ì‚¬í•­ì„ ì¶©ì¡±ì‹œí‚¤ê³ ,
    - ì½”ë“œì˜ ì •í™•ì„±ê³¼ íƒ€ì… ì•ˆì •ì„±ì„ ë³´ì¥í•œë‹¤

ì´ëŸ¬í•œ í•¨ìˆ˜ëŠ” í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ì—ì„œ ìì£¼ ë³¼ ìˆ˜ ìˆëŠ” íŒ¨í„´ìœ¼ë¡œ, ë³µì¡í•œ íƒ€ì… ì²´ê³„ë¥¼ ê°€ì§„ ì–¸ì–´ì—ì„œ ë¹„ë™ê¸° ì‘ì—…ê³¼ íƒ€ì… ì•ˆì •ì„±ì„ ë™ì‹œì— ìœ ì§€í•˜ê¸° ìœ„í•´ ì‚¬ìš©ëœë‹¤

### í•´ê²°

```dart
  TaskEither<AuthDomainFailure, AuthDomainSuccess> createUserByEmailAndPassword(
          CreateUserByEmailCommand cmd) =>
      TaskEither<DomainErrors, AppUser>.Do((_) async {
        // ì²« ë²ˆì§¸ ë‹¨ê³„: ê°€ëŠ¥í•œ ì‚¬ìš©ì IDì¸ì§€ í™•ì¸
        final isPossibleUserIDEither =
            await userRepo.isPossibleUserID(cmd.email).run();

        final errorOrIsPossibleUserId =
            isPossibleUserIDEither.fold(identity, identity);
        if (errorOrIsPossibleUserId is DomainErrors) {
          return _(TaskEither.left(errorOrIsPossibleUserId));
        }

        final isPossibleUserID = errorOrIsPossibleUserId as bool;
        if (!isPossibleUserID) {
          return _(TaskEither.left(DomainErrors.conflict(
              error: Object(), stackTrace: StackTrace.current)));
        }

        // ë‘ ë²ˆì§¸ ë‹¨ê³„: ì‚¬ìš©ì ìƒì„±
        final createdUserEither =
            await authRepo.createUserWithEmailAndPassword(cmd).run();

        final errorOrAppUser = createdUserEither.fold(identity, identity);
        if (errorOrAppUser is DomainErrors) {
          return _(TaskEither.left(errorOrAppUser));
        }

        final appUser = errorOrAppUser as AppUser;

        final marked = await userRepo.upsertUserID(cmd.email).run();
        final errorOrmarked = marked.fold(identity, identity);
        if (errorOrmarked is DomainErrors) {
          return _(TaskEither.left(errorOrmarked));
        }

        return _(TaskEither.right(appUser));
      }).mapLeft(AuthDomainFailure.new).map(AuthDomainSuccess.new);
```

## Error: MissingPluginException(No implementation found for method getAll on channel plugins.flutter.io/shared_preferences)

### ë¬¸ì œ

```log
Error: MissingPluginException(No implementation found for method getAll on channel plugins.flutter.io/shared_preferences)
```

### ì›ì¸

ì•„ë§ˆë„ íŒ¨í‚¤ì§€ ë‹¤ìš´ë¡œë“œê°€ ì œëŒ€ë¡œ ì•ˆ ëë˜ ê²Œ ì•„ë‹Œê°€ ì‹¶ë‹¤

### í•´ê²°

- `flutter clean` í›„ ì¬ì‹¤í–‰

## ë¡œê·¸ê°€ ë‘ ë²ˆ ì°íˆëŠ” ë¬¸ì œ

### ë¬¸ì œ

```dart
class AccountScreen extends ConsumerStatefulWidget {
  const AccountScreen({super.key});

  @override
  ConsumerState<ConsumerStatefulWidget> createState() =>
      AccountScreenContents();
}

/// Simple user data table showing the uid and email
class AccountScreenContents extends ConsumerState<AccountScreen> {
  final log = Logger();

  @override
  Widget build(BuildContext context) {
    log.i("AccountScreenContents");
    final l10n = AppLocalizations.of(context)!;
    final state = ref.watch(userManageApplicationProvider);

    return Scaffold(
```

```dart
          GoRoute(
            path: AppRoute.account.path,
            name: AppRoute.account.name,
            pageBuilder: (context, state) => CustomTransitionPage(
              name: AppRoute.account.name,
              fullscreenDialog: true,
              child: const AccountScreen(),
```

```log
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚ #0   packages/dilectio_app/src/subprojects/user/presentation/account/account_screen.dart 32:9  build
â”‚ #1   packages/flutter/src/widgets/framework.dart 5409:27                                       build
â”œâ”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„
â”‚ ğŸ’¡ AccountScreenContents
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚ #0   packages/dilectio_app/src/subprojects/user/presentation/account/account_screen.dart 32:9  build
â”‚ #1   packages/flutter/src/widgets/framework.dart 5409:27                                       build
â”œâ”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„
â”‚ ğŸ’¡ AccountScreenContents
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
```

ì´ë ‡ê²Œ ë¡œê·¸ê°€ ë‘ë²ˆ ì¶œë ¥ë˜ëŠ”ë°... `AccountScreenContents`ëŠ” í•œë²ˆë§Œ ìƒì„±í•˜ê³  ìˆê³ , `AccountScreen`ë„ constë¡œ í•œë²ˆë§Œ ìƒì„±ë˜ê³  ìˆë‹¤

### ì›ì¸

ë””ë²„ê¹… ë°©ë²•

- ìƒíƒœ ê´€ë¦¬ ë¡œì§ ê²€í† : `userManageApplicationProvider`ì™€ ê´€ë ¨ëœ ìƒíƒœ ê´€ë¦¬ ë¡œì§ì„ ê²€í† í•˜ì—¬, ìƒíƒœ ë³€í™”ê°€ ì˜ë„ëŒ€ë¡œ ì´ë£¨ì–´ì§€ëŠ”ì§€ í™•ì¸
- ë¶€ëª¨ ìœ„ì ¯ì˜ ì˜í–¥ ë¶„ì„: `AccountScreenContents`ì˜ ë¶€ëª¨ ìœ„ì ¯ì´ ì–´ë–»ê²Œ êµ¬ì„±ë˜ì–´ ìˆëŠ”ì§€ ê²€í† í•˜ì—¬, ë¶€ëª¨ ìœ„ì ¯ì˜ ìƒíƒœ ë³€í™”ê°€ í•˜ìœ„ ìœ„ì ¯ì— ì–´ë–¤ ì˜í–¥ì„ ë¯¸ì¹˜ëŠ”ì§€ íŒŒì•…
- Flutter ìœ„ì ¯ ë¼ì´í”„ì‚¬ì´í´ ì´í•´: Flutterì˜ ìœ„ì ¯ ë¼ì´í”„ì‚¬ì´í´ê³¼ ë¹Œë“œ ê³¼ì •ì„ ì´í•´í•˜ê³ , ì–´ë–¤ ë‹¨ê³„ì—ì„œ `build` ë©”ì„œë“œê°€ í˜¸ì¶œë˜ëŠ”ì§€ ë¶„ì„
- ë¼ìš°íŒ… ë¡œì§ í™•ì¸: `GoRouter`ì™€ ê´€ë ¨ëœ ì½”ë“œë¥¼ ê²€í† í•˜ì—¬, ë¼ìš°íŒ… ê³¼ì •ì—ì„œ ìœ„ì ¯ì˜ ë¹Œë“œê°€ ì–´ë–»ê²Œ ê´€ë¦¬ë˜ëŠ”ì§€ í™•ì¸

#### ìƒíƒœ ë³€ê²½ì— ì˜í•œ ì¬ë¹Œë“œ?

`ref.watch(userManageApplicationProvider)` í˜¸ì¶œë¡œ ì¸í•´, `userManageApplicationProvider`ì˜ ìƒíƒœê°€ ë³€ê²½ë˜ë©´ `AccountScreenContents` ìœ„ì ¯ì€ ë‹¤ì‹œ ë¹Œë“œë©ë‹ˆë‹¤. ìƒíƒœê°€ ì´ˆê¸°í™”ë˜ê±°ë‚˜ ì—…ë°ì´íŠ¸ë  ë•Œ `build` ë©”ì„œë“œê°€ ì—¬ëŸ¬ ë²ˆ í˜¸ì¶œë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#### Flutter í”„ë ˆì„ì›Œí¬ì˜ ìµœì í™” ë™ì‘?

Flutter í”„ë ˆì„ì›Œí¬ëŠ” ì„±ëŠ¥ ìµœì í™”ë¥¼ ìœ„í•´ ìœ„ì ¯ íŠ¸ë¦¬ì˜ ë¹Œë“œ ê³¼ì •ì—ì„œ ë•Œë•Œë¡œ ìœ„ì ¯ì„ ë¶ˆí•„ìš”í•˜ê²Œ ì¬ë¹Œë“œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. íŠ¹íˆ, ë³µì¡í•œ ìœ„ì ¯ íŠ¸ë¦¬ë‚˜ ìƒíƒœ ê´€ë¦¬ ë¡œì§ì´ ìˆëŠ” ê²½ìš°, FlutterëŠ” ë” ë‚˜ì€ ì‚¬ìš©ì ê²½í—˜ì„ ìœ„í•´ ì¶”ê°€ì ì¸ ë¹Œë“œë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#### ì™¸ë¶€ ìš”ì¸ì— ì˜í•œ ì¬ë Œë”ë§?

ì™¸ë¶€ ìš”ì¸, ì˜ˆë¥¼ ë“¤ì–´ ë„¤íŠ¸ì›Œí¬ ìš”ì²­, íƒ€ì´ë¨¸, ì‚¬ìš©ì ìƒí˜¸ì‘ìš© ë“±ìœ¼ë¡œ ì¸í•´ `AccountScreenContents`ê°€ ë¶€ëª¨ ìœ„ì ¯ì— ì˜í•´ ì¬ë¹Œë“œë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë¶€ëª¨ ìœ„ì ¯ì˜ ìƒíƒœ ë³€í™”ê°€ í•˜ìœ„ ìœ„ì ¯ì˜ ì¬ë¹Œë“œë¥¼ ìœ ë°œí•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.

#### GoRouterì˜ í˜ì´ì§€ ë¹Œë” ë™ì‘?

`GoRoute`ì—ì„œ ì‚¬ìš©í•˜ëŠ” `CustomTransitionPage` ë˜ëŠ” `GoRouter`ì˜ í˜ì´ì§€ ë¹Œë” ë¡œì§ì— ì˜í•´ `AccountScreen`ì´ ì¬ìƒì„±ë˜ê³ , ê²°ê³¼ì ìœ¼ë¡œ `AccountScreenContents`ê°€ ì¬ë¹Œë“œë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë¼ìš°íŒ… ë¡œì§ì´ í˜ì´ì§€ì˜ ë¹Œë“œ íƒ€ì´ë°ì— ì˜í–¥ì„ ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### í•´ê²°

## The following ImageCodecException was thrown resolving an image codec

### ë¬¸ì œ

```log
â•â•â•¡ EXCEPTION CAUGHT BY IMAGE RESOURCE SERVICE â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
The following ImageCodecException was thrown resolving an image codec:
Failed to detect image file format using the file header.
File header was [0x3c 0x21 0x44 0x4f 0x43 0x54 0x59 0x50 0x45 0x20].
Image source: encoded image bytes
When the exception was thrown, this was the stack:
dart-sdk/lib/_internal/js_dev_runtime/private/ddc_runtime/errors.dart 294:3  throw_
lib/_engine/engine/canvaskit/image_web_codecs.dart 37:7                      create
dart-sdk/lib/_internal/js_dev_runtime/patch/async_patch.dart 84:54           runBody
dart-sdk/lib/_internal/js_dev_runtime/patch/async_patch.dart 127:5           _async
lib/_engine/engine/canvaskit/image_web_codecs.dart 22:46                     create
lib/_engine/engine/canvaskit/image.dart 13:34                                skiaInstantiateImageCodec
lib/_engine/engine/canvaskit/renderer.dart 198:15                            instantiateImageCodec
dart-sdk/lib/_internal/js_dev_runtime/patch/async_patch.dart 84:54           runBody
dart-sdk/lib/_internal/js_dev_runtime/patch/async_patch.dart 127:5           _async
lib/_engine/engine/canvaskit/renderer.dart 193:41                            instantiateImageCodec
lib/ui/painting.dart 493:28                                                  instantiateImageCodecWithSize
dart-sdk/lib/_internal/js_dev_runtime/patch/async_patch.dart 84:54           runBody
dart-sdk/lib/_internal/js_dev_runtime/patch/async_patch.dart 127:5           _async
lib/ui/painting.dart 488:44                                                  instantiateImageCodecWithSize
packages/flutter/src/painting/binding.dart 141:15                            instantiateImageCodecWithSize
packages/flutter/src/painting/_network_image_web.dart 164:20                 _loadAsync
dart-sdk/lib/_internal/js_dev_runtime/patch/async_patch.dart 45:50           <fn>
```

### ì›ì¸

- ì›¹ ì´ë¯¸ì§€ í”¼ì»¤ì˜ `XFile`ì´ ì œëŒ€ë¡œ ì²˜ë¦¬ê°€ ì•ˆ ëë‹¤

### í•´ê²°

```dart
class WebImagePickerService implements ImagePickerService {
  @override
  ImagePicker picker = ImagePicker();

  // imagePath: blob:http://localhost:57167/6460f49e-46cb-4501-9afd-a130cf69b5a7
  @override
  Widget getImageWidget(String imagePath) => Image.network(imagePath);

  @override
  Future<XFile?> pickImage() async =>
      await picker.pickImage(source: ImageSource.gallery);
}
```

## Plugin [id: 'com.android.application', version: '7.2.0', apply: false] was not found in any of the following sources

### ë¬¸ì œ

```log
Launching lib/main.dart on sdk gphone64 arm64 in debug mode...
main.dart:1

FAILURE: Build failed with an exception.

* Where:
Build file '/Users/rody/VscodeProjects/dilectio/dilectio_app/android/build.gradle' line: 18

* What went wrong:
Plugin [id: 'com.android.application', version: '7.2.0', apply: false] was not found in any of the following sources:

- Gradle Core Plugins (plugin is not in 'org.gradle' namespace)
- Plugin Repositories (could not resolve plugin artifact 'com.android.application:com.android.application.gradle.plugin:7.2.0')
  Searched in the following repositories:
    Gradle Central Plugin Repository

* Try:
> Run with --stacktrace option to get the stack trace.
> Run with --info or --debug option to get more log output.
> Run with --scan to get full insights.

* Get more help at https://help.gradle.org

BUILD FAILED in 737ms
Exception: Gradle task assembleDebug failed with exit code 1
Exited (1)
```

### ì›ì¸

- ë¬¸ì œëŠ” plugins ì„¹ì…˜ì—ì„œ ë°œìƒ. Flutter í”„ë¡œì íŠ¸ì˜ Android ë¹Œë“œ êµ¬ì„±ì—ì„œ `com.android.application` í”ŒëŸ¬ê·¸ì¸ì„ ì„ ì–¸í•˜ëŠ” ë°©ì‹ì— ë¬¸ì œ
- `com.android.application` í”ŒëŸ¬ê·¸ì¸ì€ ì¼ë°˜ì ìœ¼ë¡œ `build.gradle`ì˜ `plugins` ì„¹ì…˜ì— `id 'com.android.application'` í˜•íƒœë¡œ ì„ ì–¸ë˜ë©°, ë³„ë„ì˜ ë²„ì „ ì§€ì •ì€ í•„ìš” ì—†ë‹¤.
- í”ŒëŸ¬ê·¸ì¸ ë²„ì „ì€ `buildscript` ì„¹ì…˜ì—ì„œ `classpath`ë¥¼ í†µí•´ ì§€ì •ëœ `com.android.tools.build:gradle`ì˜ ë²„ì „ì— ì˜í•´ ê²°ì •ëœë‹¤

### í•´ê²°

ë£¨íŠ¸ í”„ë¡œì íŠ¸ ìˆ˜ì¤€ì—ì„œëŠ” `plugins`ì„ ì œê±°í•œë‹¤

```diff
-plugins {
-    id 'com.android.application' version '7.2.0' apply false
-    id 'com.google.gms.google-services' version '4.4.0' apply false
-}
```

`com.android.application` í”ŒëŸ¬ê·¸ì¸ì€ ê° ëª¨ë“ˆì˜ `build.gradle` íŒŒì¼ì—ì„œ ì ìš©í•œë‹¤.
ì˜ˆë¥¼ ë“¤ì–´, `android/app/build.gradle` íŒŒì¼ì—ëŠ” ë‹¤ìŒê³¼ ê°™ì´ í”ŒëŸ¬ê·¸ì¸ì„ ì ìš©

```diff
+plugins {
+    id 'com.android.application'
+    id 'kotlin-android'
+}
+
+android {
+    // ì•ˆë“œë¡œì´ë“œ ì„¤ì •
+}
+
+dependencies {
+    // ì¢…ì†ì„±
+}
```

- `com.android.application` í”ŒëŸ¬ê·¸ì¸ì„ ë£¨íŠ¸ ìˆ˜ì¤€ì˜ `build.gradle` íŒŒì¼ì— ì§ì ‘ ë²„ì „ì„ ì§€ì •í•˜ì—¬ ì„ ì–¸í•˜ëŠ” ë°©ì‹ì€ Flutterì˜ í‘œì¤€ êµ¬ì„± ë‹¤ë¥´ë‹¤.
- Flutter í”„ë¡œì íŠ¸ì—ì„œì˜ ì¼ë°˜ì ì¸ êµ¬ì„±ì€
    1. `com.android.application` í”ŒëŸ¬ê·¸ì¸
        - Flutter í”„ë¡œì íŠ¸ì—ì„œ ì´ í”ŒëŸ¬ê·¸ì¸ì€ ë³´í†µ **ì•± ìˆ˜ì¤€**ì˜ `build.gradle` íŒŒì¼(`android/app/build.gradle`)ì—ì„œ ì„ ì–¸ëœë‹¤
        - ë£¨íŠ¸ ìˆ˜ì¤€ì—ì„œëŠ” ë²„ì „ì„ ëª…ì‹œì ìœ¼ë¡œ ì§€ì •í•˜ì§€ ì•ŠëŠ”ë‹¤
        - `com.android.application` í”ŒëŸ¬ê·¸ì¸ ë²„ì „ì€ ì•ˆë“œë¡œì´ë“œ ê·¸ë˜ë“¤ í”ŒëŸ¬ê·¸ì¸(`com.android.tools.build:gradle`)ì˜ ë²„ì „ì— ì˜í•´ ê²°ì •
        - ì¼ë°˜ì ìœ¼ë¡œ ì•± ìˆ˜ì¤€ì—ì„œ ì ìš©ë˜ë©°, ë£¨íŠ¸ ìˆ˜ì¤€ì—ì„œ `apply false`ì™€ í•¨ê»˜ ì„ ì–¸í•˜ëŠ” ê²ƒì€ ì¼ë°˜ì ì¸ Flutter í”„ë¡œì íŠ¸ êµ¬ì„±ì´ ì•„ë‹ˆë‹¤
    2. `com.google.gms.google-services` í”ŒëŸ¬ê·¸ì¸:
        - ì´ í”ŒëŸ¬ê·¸ì¸ì€ Firebaseì™€ ê°™ì€ Google ì„œë¹„ìŠ¤ë¥¼ ì‚¬ìš©í•  ë•Œ í•„ìš”í•˜ë‹¤
        - ì¼ë°˜ì ìœ¼ë¡œ ë£¨íŠ¸ ìˆ˜ì¤€ì˜ `build.gradle` íŒŒì¼ì—ì„œ ì¢…ì†ì„±ì„ ì¶”ê°€(`classpath` í‚¤ì›Œë“œ ì‚¬ìš©)
        - ì•± ìˆ˜ì¤€ì˜ `build.gradle` íŒŒì¼ì—ì„œ ì‹¤ì œë¡œ ì ìš©(`apply plugin` ë˜ëŠ” `plugins` ë¸”ë¡ ì‚¬ìš©)
- ì¢‹ì€ í”„ë™í‹°ìŠ¤?
    - ë£¨íŠ¸ ìˆ˜ì¤€ì˜ `build.gradle`:
        - `buildscript` ë¸”ë¡ì—ì„œ ì•ˆë“œë¡œì´ë“œ ê·¸ë˜ë“¤ í”ŒëŸ¬ê·¸ì¸ê³¼ í•„ìš”í•œ ë‹¤ë¥¸ í”ŒëŸ¬ê·¸ì¸ì˜ ì¢…ì†ì„±ì„ ì„ ì–¸
        - `allprojects` ë¸”ë¡ì—ì„œ ë¦¬í¬ì§€í† ë¦¬ë¥¼ ì •ì˜
    - ì•± ìˆ˜ì¤€ì˜ `build.gradle`:
        - `plugins` ë˜ëŠ” `apply plugin`ì„ ì‚¬ìš©í•˜ì—¬ í•„ìš”í•œ í”ŒëŸ¬ê·¸ì¸ì„ ì ìš©
        - ì•±ì˜ SDK ë²„ì „, ì¢…ì†ì„±, ë¹Œë“œ ì„¤ì • ë“±ì„ ì •ì˜

## Dependency 'androidx.activity:activity:1.8.0' requires libraries and applications that depend on it to compile against version 34 or later of the Android APIs

### ë¬¸ì œ

```log
Launching lib/main.dart on sdk gphone64 arm64 in debug mode...

FAILURE: Build failed with an exception.

* What went wrong:
Execution failed for task ':app:checkDebugAarMetadata'.
> A failure occurred while executing com.android.build.gradle.internal.tasks.CheckAarMetadataWorkAction
   > An issue was found when checking AAR metadata:

       1.  Dependency 'androidx.activity:activity:1.8.0' requires libraries and applications that
           depend on it to compile against version 34 or later of the
           Android APIs.

           :app is currently compiled against android-33.

           Also, the maximum recommended compile SDK version for Android Gradle
           plugin 7.3.0 is 33.

           Recommended action: Update this project's version of the Android Gradle
           plugin to one that supports 34, then update this project to use
           compileSdkVerion of at least 34.

           Note that updating a library or application's compileSdkVersion (which
           allows newer APIs to be used) can be done separately from updating
           targetSdkVersion (which opts the app in to new runtime behavior) and
           minSdkVersion (which determines which devices the app can be installed
           on).

* Try:
> Run with --stacktrace option to get the stack trace.
> Run with --info or --debug option to get more log output.
> Run with --scan to get full insights.

* Get more help at https://help.gradle.org

BUILD FAILED in 4s
Exception: Gradle task assembleDebug failed with exit code 1
Exited (1)

```

### ì›ì¸

ë„ˆë¬´ ë†’ì€ ë²„ì „ì˜ material ë¼ì´ë¸ŒëŸ¬ë¦¬ ë²„ì „ì„ ì‚¬ìš©í–ˆê¸° ë•Œë¬¸

```gradle
dependencies {
  // Import the Firebase BoM
  implementation platform('com.google.firebase:firebase-bom:32.6.0')
  implementation 'com.google.android.material:material:1.10.0'
                                                       ^^^^^^
                                                       ë²„ì „ì´ ë„ˆë¬´ ë†’ìœ¼ë©´ activity ê´€ë ¨ ì—ëŸ¬ ë°œìƒ
```

### í•´ê²°

- `1.8.0` ì •ë„ë¡œ ë‚®ì¶¤

## Querying the mapped value of provider(java.util.Set) before task ':app:processDebugGoogleServices' has completed is not supported

### ë¬¸ì œ

```log
Launching lib/main.dart on sdk gphone64 arm64 in debug mode...
main.dart:1

FAILURE: Build failed with an exception.

* What went wrong:
Execution failed for task ':app:mapDebugSourceSetPaths'.
> Error while evaluating property 'extraGeneratedResDir' of task ':app:mapDebugSourceSetPaths'
   > Failed to calculate the value of task ':app:mapDebugSourceSetPaths' property 'extraGeneratedResDir'.
      > Querying the mapped value of provider(java.util.Set) before task ':app:processDebugGoogleServices' has completed is not supported

* Try:
> Run with --stacktrace option to get the stack trace.
> Run with --info or --debug option to get more log output.
> Run with --scan to get full insights.

* Get more help at https://help.gradle.org

BUILD FAILED in 4s
Exception: Gradle task assembleDebug failed with exit code 1
Exited (1)
```

### ì›ì¸

[ìŠ¤íƒì˜¤ë²„í”Œë¡œìš° ë‹µë³€](https://stackoverflow.com/a/73774667)ì— ë”°ë¥´ë©´, ì´ ë¬¸ì œëŠ” `com.android.tools.build:gradle` ë²„ì „ì„ `7.3.0`ìœ¼ë¡œ ì—…ë°ì´íŠ¸ í•œ í›„ì— ë°œìƒí–ˆê³ , `com.google.gms:google-services` ë²„ì „ì„ `4.3.14`ë¡œ ì—…ë°ì´íŠ¸ í•œ ì´í›„ í•´ê²° ëë‹¤ê³  í•œë‹¤

### í•´ê²°

[ë©”ì´ë¸ ë¦¬íŒŒì§€í† ë¦¬](https://mvnrepository.com/artifact/com.google.gms/google-services/4.4.0) í™•ì¸í•´ë³´ë©´ ìµœì‹ ì´ `4.4.0`ì´ì–´ì„œ ì´ê±°ë¡œ ì‚¬ìš©

## The number of method references in a `.dex` file cannot exceed 64K

### ë¬¸ì œ

```log
RROR:D8: Cannot fit requested classes in a single dex file (# methods: 149621 > 65536)
com.android.builder.dexing.DexArchiveMergerException: Error while merging dex archives:
The number of method references in a .dex file cannot exceed 64K.
Learn how to resolve this issue at https://developer.android.com/tools/building/multidex.html
    at com.android.builder.dexing.D8DexArchiveMerger.getExceptionToRethrow(D8DexArchiveMerger.java:151)
    at com.android.builder.dexing.D8DexArchiveMerger.mergeDexArchives(D8DexArchiveMerger.java:138)
    at com.android.build.gradle.internal.tasks.DexMergingWorkAction.merge(DexMergingTask.kt:859)
    at com.android.build.gradle.internal.tasks.DexMergingWorkAction.run(DexMergingTask.kt:805)
    at com.android.build.gradle.internal.profile.ProfileAwareWorkAction.execute(ProfileAwareWorkAction.kt:74)
    at org.gradle.workers.internal.DefaultWorkerServer.execute(DefaultWorkerServer.java:63)
    at org.gradle.workers.internal.NoIsolationWorkerFactory$1$1.create(NoIsolationWorkerFactory.java:66)
    at org.gradle.workers.internal.NoIsolationWorkerFactory$1$1.create(NoIsolationWorkerFactory.java:62)
    at org.gradle.internal.classloader.ClassLoaderUtils.executeInClassloader(ClassLoaderUtils.java:100)
    at org.gradle.workers.internal.NoIsolationWorkerFactory$1.lambda$execute$0(NoIsolationWorkerFactory.java:62)
    at org.gradle.workers.internal.AbstractWorker$1.call(AbstractWorker.java:44)
    at org.gradle.workers.internal.AbstractWorker$1.call(AbstractWorker.java:41)
    ... ìƒëµ ...
FAILURE: Build completed with 2 failures.

1: Task failed with an exception.
-----------
* What went wrong:
Execution failed for task ':app:compileDebugKotlin'.
> A failure occurred while executing org.jetbrains.kotlin.compilerRunner.GradleCompilerRunnerWithWorkers$GradleKotlinCompilerWorkAction
   > Compilation error. See log for more details

* Try:
> Run with --stacktrace option to get the stack trace.
> Run with --info or --debug option to get more log output.
> Run with --scan to get full insights.
==============================================================================

2: Task failed with an exception.
-----------
* What went wrong:
Execution failed for task ':app:mergeExtDexDebug'.
> A failure occurred while executing com.android.build.gradle.internal.tasks.DexMergingTaskDelegate
   > There was a failure while executing work items
      > A failure occurred while executing com.android.build.gradle.internal.tasks.DexMergingWorkAction
         > com.android.builder.dexing.DexArchiveMergerException: Error while merging dex archives:
           The number of method references in a .dex file cannot exceed 64K.
           Learn how to resolve this issue at https://developer.android.com/tools/building/multidex.html

* Try:
> Run with --stacktrace option to get the stack trace.
> Run with --info or --debug option to get more log output.
> Run with --scan to get full insights.
==============================================================================

* Get more help at https://help.gradle.org

BUILD FAILED in 1m 2s
â”Œâ”€ Flutter Fix â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [!] Your project requires a newer version of the Kotlin Gradle plugin.                     â”‚
â”‚ Find the latest version on https://kotlinlang.org/docs/releases.html#release-details, then â”‚
â”‚ update /Users/rody/VscodeProjects/dilectio/dilectio_app/android/build.gradle:              â”‚
â”‚ ext.kotlin_version = '<latest-version>'                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì›ì¸

[ë©”ì„œë“œê°€ 64Kê°œë¥¼ ì´ˆê³¼í•˜ëŠ” ì•±ì— ê´€í•´ ë©€í‹°ë±ìŠ¤ ì‚¬ìš© ì„¤ì •](https://developer.android.com/build/multidex?hl=ko)ì„ ì°¸ê³ í•˜ë¼ëŠ”ë°...

ì•±ì— API 20 ì´í•˜ minSdkê°€ ìˆê³  ì•±ê³¼ ì•±ì—ì„œ ì°¸ì¡°í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ 65,536ê°œ ë©”ì„œë“œë¥¼ ì´ˆê³¼í•˜ë©´ ì•±ì´ Android ë¹Œë“œ ì•„í‚¤í…ì²˜ì˜ ì œí•œì— ë„ë‹¬í–ˆìŒì„ ë‚˜íƒ€ë‚´ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë¹Œë“œ ì˜¤ë¥˜ê°€ ë°œìƒ

```log
trouble writing output:
Too many field references: 131000; max is 65536.
You may try using --multi-dex option.
```

ë˜ëŠ”

```log
Conversion to Dalvik format failed:
Unable to execute dex: method ID not in [0, 0xffff]: 65536
```

### í•´ê²°

> minSdkVersionì´ 21 ì´ìƒìœ¼ë¡œ ì„¤ì •ë˜ë©´ ë©€í‹°ë±ìŠ¤ê°€ ê¸°ë³¸ì ìœ¼ë¡œ ì‚¬ìš© ì„¤ì •ë˜ë©° ë©€í‹°ë±ìŠ¤ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ í•„ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

`minSdkVersion` ë²„ì „ì„ 21ë¡œ ì§€ì •í–ˆë‹¤

```gradle
    defaultConfig {
        // TODO: Specify your own unique Application ID (https://developer.android.com/studio/build/application-id.html).
        applicationId "com.bmd.dilectio"
        // You can update the following values to match your application needs.
        // For more information, see: https://docs.flutter.dev/deployment/android#reviewing-the-gradle-build-configuration.
        // minSdkVersion flutter.minSdkVersion
        minSdkVersion 21
        ^^^^^^^^^^^^^^^^ ë²„ì „ì„ ì§€ì •
        targetSdkVersion flutter.targetSdkVersion
        versionCode flutterVersionCode.toInteger()
        versionName flutterVersionName
    }
```

## Unhandled Exception: Binding has not yet been initialized

### ë¬¸ì œ

```log
E/flutter ( 7024): [ERROR:flutter/runtime/dart_vm_initializer.cc(41)] Unhandled Exception: Binding has not yet been initialized.
E/flutter ( 7024): The "instance" getter on the ServicesBinding binding mixin is only available once that binding has been initialized.
E/flutter ( 7024): Typically, this is done by calling "WidgetsFlutterBinding.ensureInitialized()" or "runApp()" (the latter calls the former). Typically this call is done in the "void main()" method. The "ensureInitialized" method is idempotent; calling it multiple times is not harmful. After calling that method, the "instance" getter will return the binding.
E/flutter ( 7024): In a test, one can call "TestWidgetsFlutterBinding.ensureInitialized()" as the first line in the test's "main()" method to initialize the binding.
E/flutter ( 7024): If ServicesBinding is a custom binding mixin, there must also be a custom binding class, like WidgetsFlutterBinding, but that mixes in the selected binding, and that is the class that must be constructed before using the "instance" getter.
```

### ì›ì¸

```dart
void main() async {
  await Firebase.initializeApp(
    options: DefaultFirebaseOptions.currentPlatform,
  );

  Logger.root.level = Level.ALL; // defaults to Level.INFO
  Logger.root.onRecord.listen((record) {
    if (kDebugMode) {
      print('${record.level.name}: ${record.time}: ${record.message}');
    }
  });

  final bootstrap = Bootstrap();
  final providerContainer = await bootstrap.createProviderContainer();

  WidgetsFlutterBinding.ensureInitialized();

  runApp(
    bootstrap.rootWidget(
      container: providerContainer,
    ),
  );
}
```

- `Firebase.initializeApp`ì„ í˜¸ì¶œí•˜ê¸° ì „ì— `WidgetsFlutterBinding.ensureInitialized()`ë¥¼ í˜¸ì¶œí•˜ì§€ ì•Šì•„ì„œ ë°œìƒ
- Flutter ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ `main` í•¨ìˆ˜ëŠ” ì•±ì˜ ì§„ì…ì ì´ë©°, ì—¬ê¸°ì„œ í•„ìš”í•œ ì´ˆê¸°í™” ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤. ë”°ë¼ì„œ Flutter í”„ë ˆì„ì›Œí¬ì™€ Firebase ë“±ì˜ ì™¸ë¶€ í”ŒëŸ¬ê·¸ì¸ì„ ì‚¬ìš©í•˜ê¸° ì „ì— ë°˜ë“œì‹œ í•„ìš”í•œ ì´ˆê¸°í™” ì‘ì—…ì„ ì™„ë£Œí•´ì•¼ í•œë‹¤.
- ì¦‰, `Firebase.initializeApp`ì€ **Flutterì˜ ì„œë¹„ìŠ¤ ë°”ì¸ë”©ì´ ì´ˆê¸°í™”ëœ í›„ì— í˜¸ì¶œ**ë˜ì–´ì•¼ í•œë‹¤. ê·¸ë ‡ì§€ ì•Šìœ¼ë©´, **ì•±ì´ í•„ìš”í•œ Flutter ì„œë¹„ìŠ¤**ì— ì ‘ê·¼í•  ìˆ˜ ì—†ì–´ì„œ ìœ„ì™€ ê°™ì€ ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤.
- `WidgetsFlutterBinding.ensureInitialized()`
    - Flutter í”„ë ˆì„ì›Œí¬ê°€ ê°ì¢… ì„œë¹„ìŠ¤ì™€ ë°”ì¸ë”©ì„ ì´ˆê¸°í™”í•˜ëŠ” ë° í•„ìš”í•˜ë‹¤
    - íŠ¹íˆ, ë¹„ë™ê¸° ì‘ì—…ì„ ìˆ˜í–‰í•˜ê¸° ì „ì´ë‚˜ ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬(ì˜ˆ: Firebase)ë¥¼ ì´ˆê¸°í™”í•˜ê¸° ì „ì— ì´ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•´ì•¼ í•œë‹¤

### í•´ê²°

```dart
void main() async {
  WidgetsFlutterBinding.ensureInitialized();
  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ ìœ„ì¹˜ë¥¼ ê°€ì¥ ìƒë‹¨ìœ¼ë¡œ ì´ë™

  await Firebase.initializeApp(
    options: DefaultFirebaseOptions.currentPlatform,
  );

  Logger.root.level = Level.ALL; // defaults to Level.INFO
  Logger.root.onRecord.listen((record) {
    if (kDebugMode) {
      print('${record.level.name}: ${record.time}: ${record.message}');
    }
  });

  final bootstrap = Bootstrap();
  final providerContainer = await bootstrap.createProviderContainer();


  runApp(
    bootstrap.rootWidget(
      container: providerContainer,
    ),
  );
}
```

## PlatformException(sign_in_failed, com.google.android.gms.common.api.ApiException: 10: , null, null)

### ë¬¸ì œ

```log
I/flutter (26524): response.message is PlatformException(sign_in_failed, com.google.android.gms.common.api.ApiException: 10: , null, null)
I/flutter (26524): id from _getUser is null
D/OpenGLRenderer(26524): setSurface called with nullptr
D/OpenGLRenderer(26524): setSurface() destroyed EGLSurface
D/OpenGLRenderer(26524): destroyEglSurface
I/ViewRootImpl@fb4bfb8[SignInHubActivity](26524): dispatchDetachedFromWindow
D/InputTransport(26524): Input channel destroyed: '7a75c9d', fd=128
E/flutter (26524): [ERROR:flutter/runtime/dart_vm_initializer.cc(41)] Unhandled Exception: 'package:cloud_firestore/src/collection_reference.dart': Failed assertion: line 116 pos 14: 'path.isNotEmpty': a document path must be a non-empty string
E/flutter (26524): #0      _AssertionError._doThrowNew (dart:core-patch/errors_patch.dart:51:61)
E/flutter (26524): #1      _AssertionError._throwNew (dart:core-patch/errors_patch.dart:40:5)
E/flutter (26524): #2      _JsonCollectionReference.doc (package:cloud_firestore/src/collection_reference.dart:116:14)
E/flutter (26524): #3      FirebaseDatabaseSource.getUser (package:soltalk/data/db/remote/firebase_database_source.dart:63:49)
E/flutter (26524): #4      UserProvider._getUser (package:soltalk/data/provider/user_provider.dart:121:63)
E/flutter (26524): <asynchronous suspension>
E/flutter (26524): #5      UserProvider.loginUserGoogle (package:soltalk/data/provider/user_provider.dart:82:21)
E/flutter (26524): <asynchronous suspension>
E/flutter (26524): #6      LoginScreenState.loginGooglePressed.<anonymous closure> (package:soltalk/ui/screens/login_screen.dart:56:60)
E/flutter (26524): <asynchronous suspension>
E/flutter (26524): #7      LoginScreenState.loginGooglePressed (package:soltalk/ui/screens/login_screen.dart:56:5)
E/flutter (26524): <asynchronous suspension>
E/flutter (26524):
```

### ì›ì¸

- [Firebase í”„ë¡œì íŠ¸ ì„¤ì •ì—ì„œ ì•ˆë“œë¡œì´ë“œì•± ì¤‘ SHA-1 ì¶”ê°€í•´ì£¼ì§€ ì•Šì•„ì„œ](https://kyungsnim.net/200)ë¼ê³  í•œë‹¤
- ë¬´ì‹í•˜ê²Œ ê¸°ì¡´ ì•±ì˜ SHA-1 ê°’ì„ ê·¸ëŒ€ë¡œ ë¶™ì—¬ ë„£ì—ˆëŠ”ë°, ê·¸ íƒ“ì¸ê°€...

### í•´ê²°
