# Entity

## entity란?

데이터베이스의 테이블과 직접적으로 매핑되는 데이터 타입을 일반적으로 "Entity"라고 한다.
이 용어는 주로 ORM (Object-Relational Mapping) 프레임워크에서 사용되며, 데이터베이스의 테이블 구조와 1:1로 매핑되는 클래스나 구조체를 지칭한다. Entity는 데이터베이스의 행(row)을 객체 지향 언어에서 사용할 수 있는 객체로 표현한 것이다.

- **정의**: Entity는 데이터베이스의 테이블에 저장된 데이터를 객체 지향 프로그래밍 언어에서 사용하기 위해 클래스나 구조체로 표현한 것입니다. 각 Entity 인스턴스는 테이블의 한 행(row)에 해당하며, 엔티티의 속성은 테이블의 열(column)과 매핑됩니다.
- **용도**: 엔티티는 데이터베이스와의 상호작용을 추상화하고, 어플리케이션 내에서 사용될 데이터의 구조를 정의합니다. CRUD (Create, Read, Update, Delete) 작업을 객체 지향 방식으로 수행할 수 있게 해줍니다. 즉, 개발자는 데이터베이스 쿼리보다는 객체와 그 메소드를 사용하여 데이터를 처리할 수 있게 됩니다.
- **ORM과의 관계**: ORM 프레임워크는 Entity를 사용하여 프로그래밍 언어의 객체와 데이터베이스의 테이블 간의 매핑을 관리합니다. 이를 통해 개발자는 데이터베이스 작업을 보다 직관적으로 수행할 수 있습니다.
- **예시**: ORM을 사용하는 Java 어플리케이션에서, `@Entity` 어노테이션을 클래스에 적용하여 해당 클래스가 데이터베이스 테이블에 매핑되는 엔티티임을 나타낼 수 있습니다.

## Entity vs DTO

- **DTO(Data Transfer Object)**: DTO는 계층 간 데이터 전송을 위해 사용되는 객체로, 특정 작업을 위해 최적화된 데이터 집합을 전달하는 데 사용됩니다. DTO는 엔티티와 달리 데이터베이스의 구조와 직접적으로 매핑되지 않으며, 복잡한 엔티티 구조를 간소화하여 서비스 또는 API 계층 간에 전달하기 위한 데이터 구조를 정의하는 데 주로 사용됩니다.

엔티티는 데이터의 영속적인 저장과 관리에 초점을 맞추며, 데이터베이스의 구조를 반영하는 도메인 모델의 역할을 합니다. 반면, DTO는 특정 작업이나 API 요청에 최적화된 데이터 전송을 위한 구조로 사용되어, 어플리케이션의 다른 계층 간에 데이터를 운반하는 역할을 수행합니다.

Go 언어에서 데이터베이스 테이블과 직접적으로 매핑되는 데이터 타입을 주로 "Entity" 또는 "Model"이라고 합니다. 이 용어의 사용은 어플리케이션의 구조나 설계 패턴, 팀의 선호도에 따라 다를 수 있습니다.

## Entity vs Model

"Model"은 더 넓은 개념으로 사용될 수 있으며, 비즈니스 로직과 데이터의 구조를 포함할 수 있습니다. Model은 Entity를 포함한 더 큰 개념으로 볼 수 있으며, 어플리케이션에서 데이터를 처리하고 관리하는 데 사용되는 모든 규칙과 연산을 정의합니다. 때로는 Model이 Entity 역할도 수행하기도 합니다.

## Go에서의 패키지 관리

- **entity 패키지**: 데이터베이스의 테이블과 직접적으로 매핑되는 구조체를 정의합니다. ORM 사용 시 해당 패키지에서 구조체에 태그를 추가하여 테이블 매핑을 설정할 수 있습니다.

- **model 패키지**: 어플리케이션의 비즈니스 로직과 관련된 데이터 구조를 정의합니다. 이는 entity를 포함하거나 비즈니스 로직을 수행하는 메소드를 포함할 수 있습니다.

- **dto 패키지**: 외부 API와의 통신이나 다른 서비스와의 데이터 교환을 위한 데이터 전송 객체를 정의합니다. 이는 요청과 응답 포맷을 명확히 정의하는 데 사용됩니다.
