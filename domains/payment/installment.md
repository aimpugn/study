# 할부

- [할부](#할부)
    - [할부?](#할부-1)
    - [종류](#종류)
    - [정리](#정리)
    - [참고](#참고)
    - [용어](#용어)
    - [PG사](#pg사)
        - [KCP](#kcp)
        - [KG 이니시스](#kg-이니시스)
        - [Nice](#nice)
        - [Tosspayments](#tosspayments)
    - [기타](#기타)

## 할부?

- 할부는 상품이나 서비스의 대금을 시간을 두고 분할하여 여러 차례에 걸쳐 지불하는 결제 방식
- 고객은 상품이나 서비스를 즉시 이용할 수 있으며, 판매자는 분할 지불을 통해 상품이나 서비스를 판매할 수 있다
- 할부 거래의 주요 구성 요소는
    - 매수인: 상품이나 서비스를 필요로 하는 고객으로, 즉시 전액을 지불하지 않고 시간을 두고 분할하여 지불
    - 매도인: 상품이나 서비스를 제공하며, 할부 계약을 통해 안정적인 수입을 확보할 수 있음
    - 그리고 경우에 따라 신용을 제공하는 금융 기관: 할부 서비스를 제공하고 이자를 통해 수익을 얻음
- 할부 거래는 대개 두 가지 방식으로 이루어진다
    - 첫째, 매수인이 매도인에게 2개월 이상의 기간에 걸쳐 3회 이상 분할하여 지급하고, 물품이나 서비스의 제공을 받는 방식
    - 둘째, 매수인이 금융 기관에게 대금을 분할 지급하고, 금융 기관은 매도인에게 대금을 지급하며, 매수인은 금융 기관에 대한 채무를 지니게 되는 방식
- 할부의 종류. 각각의 할부 형태는 계약 조건, 지불 기간, 이자율 등에서 차이를 보인다
    - 무이자 할부: 추가 비용 없이 분할하여 지불
    - 유이자 할부: 분할 지불 시 이자가 부과되는 방식
    - 임대 구매
    - 리스
    - 조건부 판매 계약 등

## 종류

각 카드사에 대해 다음과 같은 다양한 할부 옵션이 있을 수 있다

- **프로모션 할부**: 특정 기간 동안 또는 특정 제품에 대해 제공되는 할부.
- **표준 할부**: 일반적으로 제공되는 할부 옵션.
- **특별 할부**: VIP 고객이나 특정 조건을 충족하는 고객에게 제공되는 할부.
- **업종별 할부**: 특정 업종에서만 제공되는 할부 옵션.

## 정리

|        | 일반 할부                | 부분 무이자 | 무이자                          |
|--------|----------------------|--------|------------------------------|
| Inicis | quotabase 카드사별 설정 불가 |        | nointerest 카드사별 설정 가능(상점 부담) |
| kcp    |                      |        | kcp_noint_quota 카드사별 설정 가능   |

- 할부 종류
    - 무이자
        - 상점부담
        - 카드사 부담
        - 업종
    - 부분 무이자
    - 이자
- 기간
- 카드사
- 할부 개월수
- 면제

## 참고

- 카드 이벤트 적용 코드

    | 코드 | 설명                               |
    |----|----------------------------------|
    | 1  | 당사&카드사부담 일반 무이자 할부 이벤트           |
    | 12 | 카드사부담 일반 무이자 + 상점 일반 할인 이벤트      |
    | 14 | 카드사부담 일반 무이자 + 카드번호별 할인 이벤트      |
    | 24 | 카드사부담 일반 무이자 + 카드 Prefix별 할인 이벤트 |
    | A1 | 상점부담 일반 무이자 할부 이벤트               |
    | A2 | 상점 일반 할인 이벤트                     |
    | A3 | 상점 무이자 + 상점 일반 할인 이벤트            |
    | A4 | 상점 무이자 + 카드번호별 할인 이벤트            |
    | A5 | 카드번호별 할인 이벤트                     |
    | B4 | 상점 무이자 + 카드 Prefix별 할인 이벤트       |
    | B5 | 카드 Prefix별 할인 이벤트                |
    | C0 | 당사&카드사부담 특별 무이자 할부 이벤트           |
    | C1 | 상점부담 특별 무이자 할부 이벤트               |
- 무이자 할부?
    - **카드사 부담 무이자 할부**
        - 원래 고객이 부담했을 이자를 카드사에서 대신 부담
        - 월마다 카드사 정책에 따라 개월 수, 제외 업종이 변경될 수 있으니 카드사에 확인할 필요 있다
    - **카드사 부분 무이자 할부**
        - 카드사와 고객이 개월 수, 회차별로 나누어 할부 이자 수수료를 부담하는 서비스
        - 고객은 할부 개월 수에서 일부만 무이자 혜택을 받고, 일부는 이자를 지불해야 한다
        - 부분 무이자는 '다이어트 할부' 또는 '슬림 할부'라고 부르기도 한다
    - **상점 부담 무이자 할부**
        - 원래 고객이 부담했을 이자를 상점에서 부담하여 고객에게 제공하는 무이자 할부 서비스
        - 가격이 높은 물건을 구매하는 고객의 부담을 낮춰 거래액을 늘릴 수 있는 방법
    - **특별 분담 무이자 할부**
        - **카드사와 상점**에서 이자를 함께 부담하여 고객에게는 무이자로 제공하는 할부 서비스
        - 상점의 업종, 거래액 등에 따라 카드사와 협의가 필요한 서비스

## 용어

- 상점부담 무이자 할부
- 업종 무이자 할부
- 카드사 무이자 할부
- 부분 무이자 할부(일정 기간 할부를 면제)

## PG사

### KCP

- 파라미터
    - `quotaopt`

        > 50,000원 이상 거래에 대한 할부
        옵션기본값은 12개월. 0~12의 값을 설정하면 결제
        창에 할부 개월 수가 최대값까지 표기됨
        >
    - `kcp_noint`

        > 무이자할부 표시기능
        >
        > - “” : 상점관리자 설정에 따름
        > - “Y” : `kcp_noint_quota` 값에 따라 무이자표시(단, 상점관리자에 설정이 되어야 함)
        > - “N” : 상점관리자 값을 무시하고 일반할부로 처리됨
    - `kcp_noint_quota`

        > 무이자할부 표시기능(`kcp_noint`)이 `Y` 일 경우 무이자 설정 값을 결제 창에 표기
        >
        > - 무이자 설정은 **카드사 별로 설정 가능**.
        > - 설정 간은 `,` 으로 구분, 카드와 할부는 `-`로 구분, 할부 개월수는 `:`로 구분
        >
        >     **CCBC-02:03:06,CCLG-03:06**
        >
    - `quotaopt_add`

        > 부분할부개월수. 카드사 할부 일괄 12개월 사용이 일반적인 경우이나 `quotaopt_add` 파라미터 사용하여 특정 카드사에 대해서만 카드사별 할부 개월수 설정 가능([슬랙 쓰레드](https://chai-finance.slack.com/archives/C03QSM375RU/p1697442968201359?thread_ts=1697437728.369899&cid=C03QSM375RU))
        >
        > - {카드코드}`-`{할부개월수} 형식
        >
        >     예) “CCSS-03” 입력 시, 삼성카드의 경우 3개월 할부만 노출.
        >           CCSS 외 다른 카드는 `quotaopt`옵션 값에 따라 노출.
        >
    - `quotaopt_add_YN`

        > 부분할부개월수 사용여부 옵션. `Y` 요청 시 특정 카드사의 특정 할부개월만 선택적으로 노출 가능
        >

### KG 이니시스

- [[13] 결제창에 할부개월수가 노출되지 않습니다.](https://www.inicis.com/blog/archives/121222)

    > 결제요청페이지 소스 내 할부개월 수 옵션이 세팅되어 있어야 합니다.
    >
    >
    > <할부개월 수 옵션>
    >
    > PC웹표준 모듈 (12개월까지 할부노출 시)
    >
    > <input name=”quotabase” value=”1:2:3:4:5:6:7:8:9:10:11:12″ >
    >
    > - default 일시불만 노출
    >
    > 모바일 모듈 (12개월까지 할부노출 시)
    >
    > <input name=”P_QUOTABASE” value=”01:02:03:04:05:06:07:08:09:10:11:12″ >
    >
    > - default 일시불~12개월 노출
    >
    > 참고로, nointerest(상점부담무이자) 필드는 상점부담무이자 계약이 된 경우에만 세팅하며, 계약하지 않은 경우 카드사 업종무이자 만 “무” 표시 됩니다.
    >
    > (카드사 무이자할부 이벤트 확인 –> [https://www.inicis.com  소식/알림](https://www.inicis.com/blog/archives/category/news?action=search&search=%EC%B9%B4%EB%93%9C%EC%82%AC) 에서 확인)

- 파라미터
    - `quotabase`: PC 할부개월 수 옵션

        > 할부 개월. 5만원 이상시에만 동작
        >
        > - 개월수를 `:` 로 구분된 값
        > “2:3:4”, “2:0”
        > - 생략시 일시불
    - `P_QUOTABASE`: 모바일 할부개월 수
    - `nointerest`: 상점부담무이자

        > 가맹점 부담 무이자 할부설정. 5만원 이상시에만 동작. 카드사 무이자와 무관
        >
        > - **카드사코드-할부개월:할부개월**.여러카드는 공백없이 `,`로 구분
        >
        >     “11-2:3:5:6,34-2:6”, “04-2:6”
        >
    - 상점부담무이자 계약이 안 된 경우, 업종무이자 만 “무” 표시

### Nice

- 정리
    - 일반 할부의 경우에는 카드별로 할부 개월 지정 불가능해 보인다
    - 근데 상점무이자의 경우에는 카드별로 가능
- 파라미터
    - `SelectQuota`

        > 할부개월 설정 옵션
        >
        > - `,`를 구분자로 할부개월 나열
        > - 2 자리의 할부기간 설정 (일시불:00, 2 개월:02 ,3 개월:03 …으로 설정)
        > Ex) SelectQuota=03 (3 개월 할부)
        >     - 최소금액 : 50,000 원 이상
        >     - 모바일 : SelectCardCode & SelectQuota 가 함께 요청된 경우에만 SelectQuota 가 유효
        >     - 웹표준 : SelectQuota 단독 처리.
    - `SelectCardCode`

        > 특정카드사 선택옵션
        >
        > - `,`를 구분자로 카드코드 나열
        > 예시)
        > SelectCardCode=02 (국민 카드만 이용할 수 있도록 제한)
        > SelectCardCode=02,04,07(국민, 삼성, 현대 세 카드사만을 이용할 수 있도록 제한)
        > - SSG페이, SSG페이+SSG머니 복합결제의 경우 아래와 같이 필수 적용
        > SelectCardCode=SSG (SSG페이),
        > SelectCardCode=SSGPAY_MONEY(SSG페이+SSG머니 복합결제)
    - `ShopInterest`

        > 상점무이자 사용여부
        (0:미사용, 1:사용, 미입력(null):MID에 등록된 상점 무이자 전체 이용)
        >
    - `QuotaInterest`

        > 상점무이자 카드 정보, 기준정보에 등록된 무이자 중 사용할 정보 설정
        >
        > - ShopInterest=1 인 경우 적용됨
        > - `|`를 구분자로 하여 카드코드 나열
        > - `:`를 구분자로 하여 카드코드와 할부개월 구분
        > FORMAT
        > - CardCode:할부개월,할부개월|CardCode:할부개월,할부개월
        > 예시)
        > - 무이자정보 : 01:06,07|02:06,07
        > 설명) 비씨카드 6,7개월 무이자와 국민카드 6,7개월 무이자 사용 설정

### Tosspayments

- 정리
    - 파라미터 넘기는 방식 아님

        > 토스페이먼츠 결제창은 다양한 카드, 간편결제를 지원해요. 카드 결제에 적용되는 무이자 할부, 즉시 할인 프로모션도 토스페이먼츠에서 자동으로 설정
        >

- 파라미터
    - `card.installmentPlanMonths`

        > 할부 개월 수입니다. 일시불이면 `0`입니다.
        >
    - `card.isInterestFree`

        > 무이자 할부의 적용 여부
        >
    - `card.interestPayer`

        > 할부가 적용된 결제에서 할부 수수료를 부담하는 주체입니다. `BUYER`, `CARD_COMPANY`, `MERCHANT` 중 하나입니
        >
        > - `BUYER`: 상품을 구매한 고객이 할부 수수료를 부담합니다. 일반적인 할부 결제입니다.
        > - `CARD_COMPANY`: 카드사에서 할부 수수료를 부담합니다. 무이자 할부 결제입니다.
        > - `MERCHANT`: 상점에서 할부 수수료를 부담합니다. 무이자 할부 결제입니다.
- 샘플 데이터
    - card

        ```json
        {
            "card": {
                "issuerCode": "61",
                "acquirerCode": "31",
                "number": "12345678****789*",
                "installmentPlanMonths": 0,
                "isInterestFree": false,
                "interestPayer": null,
                "approveNo": "00000000",
                "useCardPoint": false,
                "cardType": "신용",
                "ownerType": "개인",
                "acquireStatus": "READY",
                "amount": 15000
            }
        }
        ```

## 기타

- [토스페이먼츠 개발자센터](https://docs.tosspayments.com/common/glossary/card-installment)
