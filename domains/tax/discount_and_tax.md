# 할인과 세금

- [할인과 세금](#할인과-세금)
    - [용어](#용어)
    - [주의사항](#주의사항)
    - [부가세 및 과세공급가액 계산식](#부가세-및-과세공급가액-계산식)
    - [할인시 면세공급가액과 부가세](#할인시-면세공급가액과-부가세)
        - [안분(비례 적용, 또는 분배)의 근거](#안분비례-적용-또는-분배의-근거)
        - [시나리오1: 원래 금액 8,000원, 면세 3,000원, 할인 1,000원](#시나리오1-원래-금액-8000원-면세-3000원-할인-1000원)
        - [시나리오2: 원래 금액 100,000원, 면세 30,000원, 할인 10,000원](#시나리오2-원래-금액-100000원-면세-30000원-할인-10000원)
    - [할인되어도 원래 과세 대상은 유지되어야 하는 게 아닌지?](#할인되어도-원래-과세-대상은-유지되어야-하는-게-아닌지)
    - [제휴할인에 대한 부가가치세 과세제도 연구](#제휴할인에-대한-부가가치세-과세제도-연구)
        - [제휴할인 과세제도 등](#제휴할인-과세제도-등)
            - [제3자 지급할인 과세제도](#제3자-지급할인-과세제도)
            - [소결](#소결)
            - [연구 결과에 기반한 재검토](#연구-결과에-기반한-재검토)
    - [할인, 면세공급가액, 부가세 등](#할인-면세공급가액-부가세-등)
        - [순차적인 계산과 정리된 수식이 동치임을 증명](#순차적인-계산과-정리된-수식이-동치임을-증명)
    - [외국 결제와 세금](#외국-결제와-세금)

## 용어

- "결제 금액":
    일반적으로 "공급대가" 또는 "총 거래금액"으로 표현됩니다.
    최종 소비자가 지불하는 금액입니다.

- "면세공급가액"
    tax_free
    즉 결제 금액에서 부가가치세가 부과되지 않는 금액

- "과세 대상"(과세표준)
    결제 금액(공급대가) - 면세공급가액

- "부가세":
    "부가가치세"입니다.
    과세 대상(과세표준)에 대해 부과되는 세금.

- "과세공급가액":
    과세 대상 금액에서 부가세를 뺀 금액.
    과세 대상 - 부가세

## 주의사항

- 소수점 처리: 정확한 계산을 위해 소수점 처리에 주의가 필요합니다.
- 반올림 규칙: 회사의 회계 정책에 따라 반올림 규칙을 적용해야 합니다.
- 세법 준수: 특정 산업이나 상품에 따라 다른 규칙이 적용될 수 있으므로 회사의 재무팀, 세무사, 또는 관련 세무 당국의 자문을 받는 것이 좋습니다.

## 부가세 및 과세공급가액 계산식

부가가치세율이 10%일 때

- `부가세 금액 = (합계금액 - 면세공급가액) × 10 ÷ 110`
- `과세공급가액 = (합계금액 - 면세공급가액) - 부가세 금액`

## 할인시 면세공급가액과 부가세

"자체 할인을 적용할 때는 할인 금액을 비례적으로 분배하여 면세공급가액과 과세대상을 조정하는 것이 가장 올바른 방법"이며,
"실질과세의 원칙에 부합"하며 "경제적 실질을 가장 잘 반영하는 방법"입니다.

---

시나리오:
- 할인을 적용해서 결제가 되는 시스템이 있습니다. 그런데 할인은 적용이 실패할 수도 있습니다.
- 그리고 결제는 면세공급가액(tax_free)나 부가세(vat)를 지정할 수 있습니다.
- 상품
    - 합계금액: 8,000원
    - 과세 대상인 금액: 5,000원
    - 면세공급가액: 3,000원
    - 부가세: 454.54545...

근데 이게 할인 때문에 실결제는 7000원이 된다고 할때,
그래도 과세 대상이 여전히 5000원일지 아니면 할인된 비율만큼 과세 대상도 차감이 되는지?

가령 1000원 할인될 경우:

```plaintext
7000 * 3/8(원래 tax_free의 비율) = 2,625 -> 7,000 - 2,625 = 4,375처럼 과세 금액
```

4,375이 과세 대상이 되는 걸까?

---

현실 세계의 법리와 판례에 따르면, *할인 금액을 면세와 과세 항목에 비례적으로 분배*하는 방법이
- 실질과세의 원칙에 부합합니다.
- 경제적 실질을 가장 잘 반영하는 방법입니다.
이를 통해 세금 중립성을 유지하면서도 실제 거래의 본질을 정확히 반영할 수 있습니다.

한국의 경우, 국세청의 지침을 따라야 하며, 일반적으로 다음과 같은 원칙이 적용됩니다:

1. 할인 적용 원칙:
   할인은 과세 대상 금액과 면세 금액에 비례하여 적용되어야 합니다.

2. 계산 방법:
   a) 전체 할인 금액을 계산합니다.
   b) 할인 전 금액 중 과세 대상 비율을 계산합니다.
   c) 할인 금액을 과세 대상 비율에 따라 분배합니다.

할인이 적용될 때, 면세공급가액과 과세대상(과세공급가액)의 처리는 다음과 같이 하는 것이 가장 적절합니다:

1. 할인 금액을 면세공급가액과 과세공급가액에 *비례적으로 분배*합니다.
2. 분배된 할인 금액을 각각 면세공급가액과 과세공급가액에서 차감합니다.

### 안분(비례 적용, 또는 분배)의 근거

1. 실질과세의 원칙:
   실질과세의 원칙은 거래의 실제 경제적 실질에 따라 과세해야 한다는 것입니다.
   할인이 적용된 후, *고객이 실제로 지불한 금액이 거래의 진정한 경제적 가치*를 반영합니다.

   예를 들어, 8,000원짜리 상품을 7,000원에 판매했다면, 실제 거래 가치는 7,000원입니다.

2. 비례 분배의 논리:
   *원래 가격에서 과세 대상과 면세 부분의 비율은 상품의 본질적 구성*을 나타냅니다.
   할인을 적용할 때 이 비율을 유지하는 것이 상품의 본질을 가장 잘 반영합니다.

   가령 8,000원 중 5,000원이 과세 대상이었다면, 이는 상품 가치의 62.5%가 과세 대상임을 의미합니다.
   할인 후에도 이 비율을 유지하는 것이 합리적입니다.

3. 공정성:
   할인을 과세 부분과 면세 부분에 동일한 비율로 적용함으로써, 어느 한 쪽에 유리하거나 불리하지 않게 처리할 수 있습니다.

4. 경제적 실질 반영:
   할인은 전체 상품 가치에 대한 것이지, 단순히 과세 부분이나 면세 부분 중 하나에만 적용되는 것이 아닙니다.
   따라서 전체적으로 비례 배분하는 것이 경제적 실질에 부합합니다.

5. 비례 분배 방식 경우 할인 전후의 과세/면세 비율이 항상 유지:
    과세 대상 유지 방식과 비례 분배 방식 모두 일관성이 있지만, 그 일관성의 기준과 결과가 다릅니다.
    어떤 방식을 선택할지는 적용하는 상황, 법적 요구사항, 그리고 기업의 정책에 따라 달라질 수 있습니다.

    1. 과세 대상 유지 방식의 일관성:
        1. 과세 대상 금액이 항상 일정하게 유지됩니다.
        2. 할인은 항상 면세 부분에서 먼저 적용됩니다.
        3. 계산 방식이 단순하고 예측 가능합니다.

        > - 원칙: 할인 금액에 관계없이 원래의 과세 대상 금액을 항상 유지합니다.
        > - 적용: 할인 금액의 크기와 상관없이 과세 대상은 항상 동일합니다.

        예시:
        원래 가격: 10,000원 (과세 8,000원, 면세 2,000원)

        **500원 할인 시**:
        결과: 과세 8,000원, 면세 1,500원

        **3,000원 할인 시**:
        결과: 과세 8,000원, 면세 -1,000원 (실제로는 0원으로 처리)

    2. 비례 분배 방식의 일관성:
        1. 할인 전후의 과세/면세 비율이 항상 유지됩니다.
        2. 할인 금액의 크기에 관계없이 동일한 계산 원칙이 적용됩니다.

        > - 원칙: 할인 금액을 과세와 면세 부분의 원래 비율에 따라 분배합니다.
        > - 적용: 할인 금액의 크기에 관계없이 동일한 비율로 분배됩니다.

        같은 예시로:

        **500원 할인 시**:
        - 과세 할인: 400원 (500 *8000/10000)
        - 면세 할인: 100원 (500* 2000/10000)
        - 결과: 과세 7,600원, 면세 1,900원

        **3,000원 할인 시**:
        - 과세 할인: 2,400원 (3000 *8000/10000)
        - 면세 할인: 600원 (3000* 2000/10000)
        - 결과: 과세 5,600원, 면세 1,400원

    두 방식 모두 각자의 방식으로 일관성을 가지고 있습니다.
    차이점은 다음과 같습니다:

    1. 과세 대상 유지 방식:
        - 과세 금액의 절대값이 일관되게 유지됩니다.
        - 할인이 커질수록 면세 부분이 더 많이 감소합니다.

    2. 비례 분배 방식:
        - 과세와 면세의 비율이 일관되게 유지됩니다.
        - 할인이 커질수록 과세와 면세 부분이 비례적으로 감소합니다.

6. 세금 중립성:
    세금 중립성은 할인으로 인해 *과세 대상과 면세 대상의 비율이 변하지 않아야 한다*는 원칙입니다.
    비례 분배 방식은 할인으로 인해 과세 비율이 변하지 않도록 보장합니다.
    이는 할인이 세금 부담에 불균형한 영향을 미치지 않도록 합니다.

    예를 들어 설명하겠습니다:

    - 원래 가격: 100,000원 (과세 80,000원, 면세 20,000원)
    - 과세 비율: 80%, 면세 비율: 20%

    20,000원 할인 시:
    비례 분배 방식:
    - 과세 부분 할인: 16,000원 (20,000 * 80%)
    - 면세 부분 할인: 4,000원 (20,000 * 20%)
    - 결과: 과세 64,000원, 면세 16,000원
    - 할인 후 비율: 과세 80%, 면세 20% (변화 없음)

    만약 할인을 과세 부분에만 적용한다면:
    - 결과: 과세 60,000원, 면세 20,000원
    - 할인 후 비율: 과세 75%, 면세 25% (비율 변화)

    세금 중립성의 중요성:
    1. 공정성 유지: 할인이 세금 부담의 비율을 변화시키지 않습니다.
    2. 예측 가능성: 기업과 소비자 모두 할인 전후의 세금 부담을 쉽게 예측할 수 있습니다.
    3. 조세 정책의 일관성: 정부의 의도된 과세 정책이 할인으로 인해 왜곡되지 않습니다.
    4. 시장 왜곡 방지: 할인이 세금 때문에 특정 상품이나 서비스에 유리하게 작용하는 것을 방지합니다.

7. 법적 해석의 일치:
   많은 국가의 세법에서는 이러한 비례 분배 방식을 권장하거나 요구합니다.
   이는 법률 전문가들이 이 방식이 가장 공정하고 정확하다고 판단했기 때문입니다.

   예를 들어, 한국의 경우:
    - 부가가치세법 제29조(과세표준)는 "과세표준은 공급한 재화 또는 용역의 공급가액"으로 정의합니다.
    - 국세청은 여러 유권해석을 통해 할인된 금액을 기준으로 과세표준을 계산해야 함을 명시했습니다.

8. 극단적 상황 고려:
   만약 할인을 과세 부분에만 적용한다면, 대규모 할인의 경우 과세 대상 금액이 실제 결제 금액보다 커질 수 있는 모순이 발생할 수 있습니다.

### 시나리오1: 원래 금액 8,000원, 면세 3,000원, 할인 1,000원

- 원래 금액: 8,000원
- 면세 금액: 3,000원
- 과세 대상 금액: 5,000원
- 할인 금액: 1,000원
- 할인 후 금액: 7,000원

1. 과세 대상 비율 계산:
    5,000 / 8,000 = 0.625 (62.5%)

2. 할인 금액 분배:
    과세 대상 할인: 1,000 *0.625 = 625원
    면세 대상 할인: 1,000* 0.375 = 375원

3. 할인 후 금액 계산:
    과세 대상 금액: 5,000 - 625 = 4,375원
    면세 금액: 3,000 - 375 = 2,625원

    4,375 + 2,625 = 7,000(할인 후 결제 금액)

4. 부가가치세(VAT) 계산:
    VAT는 과세 대상 금액에 대해서만 계산됩니다.
    4,375원에 대한 VAT (10% 가정): 4,375 * 10/110 ≈ 397.73원

이 방식은 원래의 과세/면세 비율(62.5% : 37.5%)을 그대로 유지하면서 전체 금액을 정확히 반영합니다.

이러한 방식으로 계산하면, 할인 적용 후에도 과세 대상과 면세 대상의 비율이 유지되며,
세금 계산의 정확성과 일관성을 보장할 수 있습니다.

반면, 과세 금액을 그대로 유지하는 방식 (5,000원 과세, 2,000원 면세)은 할인이 전적으로 면세 부분에만 적용된 것처럼 보이며, 이는 실제 거래의 경제적 실질을 정확히 반영하지 못할 수 있습니다.

### 시나리오2: 원래 금액 100,000원, 면세 30,000원, 할인 10,000원

- 원래 금액: 100,000원
- 면세공급가액: 30,000원
- 과세대상: 70,000원
- 할인 금액: 10,000원
- 할인 후 금액: 90,000원

1. 과세 대상 비율 계산:
    70,000 / 100,000 = 0.7 (70%)

2. 할인 금액 분배:
    과세 대상 할인: 10,000 *0.7 = 7,000원
    면세 대상 할인: 10,000* 0.3 = 3,000원

3. 할인 후 금액 계산:
    과세 대상 금액: 70,000원 - 7,000원 = 63,000원
    면세 금액: 30,000원 - 3,000원 = 27,000원

    63,000 + 27,000 = 90,000(할인 후 결제 금액)

4. 부가가치세(VAT) 계산:
    VAT는 과세 대상 금액에 대해서만 계산됩니다.
    63,000원에 대한 VAT (10% 가정): 63,000 * 10/110 ≈ 5,727.27원

이 방식의 장점:
1. 할인이 면세와 과세 항목에 공평하게 적용됩니다.
2. 부가세는 실제 받은 과세대상 금액에 대해서만 계산됩니다.
3. 총 금액, 면세공급가액, 과세공급가액, 부가세의 합계가 정확히 일치합니다.

이 방법은 할인을 적용한 후의 실제 거래 금액에 기반하여 세금을 계산하므로, 경제적 실질을 가장 잘 반영하는 방법입니다. 또한 세금 중립성을 유지하면서도 실제 거래의 본질을 정확히 반영하여 과세하는 실질과세의 원칙에도 부합합니다.

이 방법은 다음과 같은 이유로 가장 적절합니다:

1. 실질과세의 원칙을 준수합니다: 할인이 면세와 과세 항목에 공평하게 적용됩니다.
2. 세금 중립성을 유지합니다: 할인으로 인해 세금 부담의 비율이 변하지 않습니다.
3. 경제적 실질을 반영합니다: 실제 거래 금액에 기반하여 세금이 계산됩니다.
4. 법규 준수: 대부분의 국가에서 이러한 방식의 계산을 권장하거나 요구합니다.

따라서, 자체 할인을 적용할 때는 할인 금액을 비례적으로 분배하여 면세공급가액과 과세대상을 조정하는 것이 가장 올바른 방법입니다.

---

귀하의 질문에 대해 정확하고 전문적인 답변을 드리겠습니다.

"실질과세를 위해"라는 표현은 세법상 중요한 개념을 언급하고 있지만, 이 맥락에서 사용하기에는 부적절할 수 있습니다. 이에 대해 상세히 설명드리겠습니다:

1. "실질과세의 원칙"의 의미:
    - 실질과세의 원칙은 국세기본법 제14조에 명시된 중요한 세법 원칙입니다.

        "세법 중 과세표준의 계산에 관한 규정은 소득, 수익, 재산, 행위 또는 거래의 명칭이나 형식에 관계없이 그 실질 내용에 따라 적용한다"

    - 이 원칙은 "과세의 대상이 되는 거래의 형식이나 외관보다는 그 경제적 실질에 따라 과세해야 한다"는 의미입니다.

2. 현 맥락에서의 부적절성:
   - 할인액을 면세와 과세 항목에 안분하는 것은 실질과세의 원칙을 직접적으로 적용하는 사례라고 보기 어렵습니다.
   - 이는 오히려 과세표준의 계산 방법이나 공급가액의 조정에 관한 문제에 가깝습니다.

3. 더 적절한 표현:
   - "과세표준의 정확한 산정을 위해" 또는 "공급가액의 적절한 조정을 위해"라는 표현이 더 적절할 수 있습니다.
   - 이는 부가가치세법상 과세표준 계산의 정확성을 강조하는 의미를 더 잘 전달합니다.

4. 법적 근거:
   - 부가가치세법 제29조(과세표준)와 동법 시행령 제61조(공급가액의 계산)에서 관련 내용을 다루고 있습니다.
   - 그러나 할인액의 안분에 대한 명시적인 규정은 없으며, 이는 해석의 영역일 수 있습니다.

5. 주의점:
   - 세법 해석과 적용은 복잡하고 상황에 따라 다를 수 있습니다.
   - 구체적인 사례에 대해서는 국세청 질의나 전문 세무사의 자문을 받는 것이 안전합니다.

결론적으로, "실질과세를 위해"라는 표현보다는 "과세표준의 정확한 산정을 위해" 또는 "공급가액의 적절한 조정을 위해"라는 표현이 이 맥락에서 더 정확하고 적절할 것입니다. 이는 해당 처리가 부가가치세 계산의 정확성과 관련된 것임을 더 명확히 전달합니다.

## 할인되어도 원래 과세 대상은 유지되어야 하는 게 아닌지?

> 근데 원래 8000원에 대해 과세 대상이 5000원이었다면, 할인으로 7000원이 되었어도 과세 대상은 안 바뀌는 거 아닌지?

실제로 많은 경우, 특히 소매 거래에서는 할인이 적용되어도 과세 대상 금액이 변하지 않는 경우가 많습니다.
이는 다음과 같은 이유로 정당화될 수 있습니다:

1. 단순성: 할인 전 과세 대상 금액을 유지하는 것이 계산과 관리가 더 간단합니다.
2. 원가 기준: 할인은 마케팅 비용으로 간주될 수 있으며, 원래의 과세/면세 구분에 영향을 주지 않습니다.
3. 규제 준수: 일부 국가나 산업에서는 할인 후에도 원래의 과세 기준을 유지하도록 규정할 수 있습니다.

- 원래 금액: 8,000원
- 할인 후 금액: 7,000원
- 과세 대상 금액: 5,000원 (변동 없음)
- 면세 금액: 2,000원 (8,000 - 7,000 = 1,000원 할인 적용)
- 부가가치세(VAT) 계산:
    5,000원에 대한 VAT (10% 가정): 5,000 * 10/110 ≈ 454.55원

이 접근 방식은 다음과 같은 장점이 있습니다:
1. 계산이 단순합니다.
2. 할인이 과세 대상 금액에 영향을 주지 않아 세금 징수의 일관성을 유지합니다.
3. 시스템 구현이 더 간단해질 수 있습니다.

하지만 이 방법도 몇 가지 고려해야 할 점이 있습니다:
1. 대규모 할인의 경우, 과세 금액이 실제 지불 금액보다 클 수 있습니다.
2. 일부 국가나 특정 상황에서는 이 방법이 허용되지 않을 수 있습니다.

결론적으로, 두 가지 접근 방식(비례 할인 vs 과세 금액 유지) 모두 상황에 따라 사용될 수 있습니다.
올바른 방법의 선택은 다음 요소에 따라 달라집니다:

1. 적용되는 세법과 회계 규정
2. 산업 표준 및 관행
3. 거래의 성격 (예: B2B vs B2C)
4. 회사의 회계 정책

## 제휴할인에 대한 부가가치세 과세제도 연구

### 제휴할인 과세제도 등

제휴할인 과세제도는 제3자 지급할인과 제3자 적립마일리지로 구분하여 살펴봄

#### 제3자 지급할인 과세제도

- 「부가가치세법」은 할인해 주는 금액, 즉 에누리액은 공급가액에 포함하지 않음

    「부가가치세법」 제29조 제3항은 어떤 명목이든 상관없이 재화 또는 용역을 공급받는 자로부터 받는 금전적 가치가 있는 모든 것은 공급가액에 포함하도록 규정하면서 동조 제5항에서 에누리액은 공급가액에 포함하지 않는다고 규정함

- 「부가가치세법」상 에누리액은 재화나 용역을 공급할 때 그 품질이나 수량, 인도조건 또는 공급대가의 결제방법이나 그 밖의 공급조건에 따라 통상의 대가에서 일정액을 직접 깎아 주는 금액으로 정의됨
    - 「부가가치세법」 제29조 제5항 제1호
        현행 「부가가치세법」은 ‘에누리액’이라는 단어를 사용하고 있지 않지만, 「(구)부가가치세법」(2011. 12. 31. 법률 제11129호로 개정되기 전의 것) 제13조 제2항 제1호에서는 에누리액을 과세표준에 포함하지 않도록 하면서 동법 시행령 제52조 제2항에서 에누리액은 재화 또는 용역의 공급에 있어서 그 품질·수량 및 인도·공급대가의 결제 기타 공급조건에 따라 그 재화 또는 용역의 공급당시의 통상의 공급가액에서 일정액을 직접 공제하는 금액이라고 규정하고 있어, 현행 규정은 에누리액을 정의하고 있다고 볼 수 있음

    「(구)부가가치세법」은 에누리액을 재화 또는 용역의 공급에 있어서 그 품질·수량 및 인도·공급대가의 결제 기타 공급조건에 따라 그 재화 또는 용역의 공급당시의 통상의 공급가액에서 일정액을 직접 공제하는 금액이라고 정의함

    에누리액은, 재화 또는 용역의 품질·수량이나 인도 등에 관한 공급조건이 원인이 되어 공급가액에서 공제 또는 차감되는 금액은 거래상대방으로부터 실제로 받은 금액이 아니므로 부가가치세 과세표준에서 제외하는 것임24)

- 즉 「부가가치세법」상 에누리액에 해당하기 위해서는 다음의 요건을 충족해야 함
    1. 공급거래(재화 또는 용역의 공급에 있어서)
    2. 공급조건(그 품질·수량 및 인도·공급대가의 결제 기타 공급조건에 따라)
    3. 공급당시(그 재화 또는 용역의 공급당시의 통상의 공급가액에서)
    4. 직접공제(일정액을 직접 공제하는 금액)

    그러나 에누리액에 대한 정의, 특히 3 공급당시 및 4 직접공제에 대한 「부가가치세법」상 명확한 정의가 없어 다양한 해석이 있었음
    - 공급당시란 사전에 약정된 것에 한하는 것인지 사후에라도 공급조건에 따라 공제 하기로 하면 되는지 여부(사전약정 여부)
    - 직접 깎아 주는 금액이란 거래당사자 간 거래에 한정하는 것인지 공급자와 고객 사이에 제3자가 있을 경우(제3자 지급할인)에도 할인에 대한 명시적·묵시적 약정이 있으면 재화 또는 용역에서 직접 깎아 주는 것으로 볼 수 있을지 여부

- 제3자 지급할인의 경우 판례는 직접 깎아 주는 금액을 동일 거래사슬 내 여부와 상관없이 제3자 지급할인에 대한 명시적 또는 묵시적 약정이 있는 경우에는 에누리액으로 판단하고 있음
    동일 거래사슬 외 제3자 지급할인의 경우에도 공급조건에 따라 직접 공제되는 에누리액으로 봄

    동일 거래사슬 외 제3자 지급할인:
    > 홈쇼핑업체는 판매자와의 약정에 따라 할인쿠폰을 발행하고 고객은 할인쿠폰을 사용하여 할인된 금액으로 상품을 구매하고, 판매자들은 홈쇼핑업체에 지급할 판매수수료 중 할인쿠폰에 해당된 금액을 차감하여 지급하는 경우, 그 할인액은 상품의 공급조건에 따라 그 재화의 공급대가인 통상의 상품가격에서 직접 공제되는 에누리액에 해당함

    동일 거래사슬 내 제3자 지급할인:
    > 이동통신사업자가 대리점에 단말기를 판매하고 대리점은 일정한 기간 동안 이동통신용역을 이용하기로 약정한 가입자에게 단 말기 구입 보조금을 지원하는 경우, 이는 단말기의 공급가액 에서 보조금 상당액을 감액하여 결제하기로 하는 약정이 있었 다고 볼 수 있으므로, 보조금 상당액은 이동통신사업자의 대 리점에 대한 단말기 공급가액에서 직접 공제되는 가액에 해당함

#### 소결

즉,직접공제의범위는할인제도의취지,사업자간계약관계등에따라그판단이 달라질 수밖에 없으므로, 사실관계 등을 고려해 개별적으로 판단해야 할 것으로 보임 ­당사자 사이에 계약을 둘러싸고 의사표시의 해석이 문제되는 경우에는, 그 의사표시의 내용, 그러한 의사표시가 이루어진 동기와 경위, 그 의사표시에 의하여 달성하려는 목적, 당사자의 진정한 의사 등을 종합적으로 고찰하여 논리와 경험칙에
따라 합리적으로 해석하여야 할 것임

#### 연구 결과에 기반한 재검토

1. 내용 설명:

    a) 제3자 지급할인 과세제도:
        - 부가가치세법은 에누리액(할인액)을 공급가액에 포함하지 않습니다.
        - 에누리액의 정의: 재화나 용역 공급 시 품질, 수량, 인도조건, 결제방법 등에 따라 통상 대가에서 직접 깎아주는 금액입니다.

    b) 에누리액의 요건:
        1. 공급거래에서 발생
        2. 공급조건에 따라 적용
        3. 공급 당시 적용
        4. 직접 공제되는 금액

    c) 제3자 지급할인의 경우:
        - 판례는 제3자 지급할인도 명시적 또는 묵시적 약정이 있으면 에누리액으로 인정합니다.
        - 이는 동일 거래사슬 내부나 외부의 제3자 지급할인 모두에 적용됩니다.

    d) 결론:
        - 직접 공제의 범위는 할인제도의 취지, 사업자 간 계약관계 등을 고려해 개별적으로 판단해야 합니다.
        - 당사자 간의 의사표시, 계약 내용, 목적 등을 종합적으로 고려하여 합리적으로 해석해야 합니다.

2. 할인 케이스 재검토:

    이 내용을 바탕으로 앞서 논의한 할인 케이스를 재검토해보겠습니다.

    시나리오: 원래 가격 8,000원 (과세 5,000원, 면세 3,000원), 1,000원 할인 적용

    a) 비례 분배 방식: 할인액을 과세와 면세 부분에 비례적으로 분배합니다.
        - 과세 부분 할인: 625원 ($1,000 \times \frac{5,000}{8,000}$)
        - 면세 부분 할인: 375원 ($1,000 \times \frac{3,000}{8,000}$)
    결과: 과세 4,375원, 면세 2,625원

    b) 과세 대상 유지 방식: 과세 대상 금액을 유지하고 할인을 면세 부분에만 적용합니다.
    결과: 과세 5,000원, 면세 2,000원

재검토 결과:

1. 에누리액의 정의에 따르면, 할인은 "공급 당시의 통상의 공급가액에서 일정액을 직접 공제하는 금액"입니다. 이는 할인이 전체 거래 금액에 적용되어야 함을 시사합니다.

2. 판례는 제3자 지급할인의 경우에도 에누리액으로 인정하고 있습니다. 이는 할인의 출처보다는 그 적용 방식과 약정에 초점을 맞추고 있음을 보여줍니다.

3. "직접 공제의 범위는 할인제도의 취지, 사업자 간 계약관계 등에 따라 그 판단이 달라질 수밖에 없다"는 점을 고려할 때, 할인의 적용 방식은 개별 상황에 따라 달라질 수 있습니다.

결론:
이 연구 내용을 바탕으로 볼 때, *비례 분배 방식이 더 적절할 수* 있습니다. 그 이유는:

1. 할인이 전체 거래 금액에 대해 적용되는 것으로 볼 수 있기 때문입니다.
2. 이 방식이 *할인의 효과를 과세 부분과 면세 부분에 공평하게 분배*하여, 거래의 경제적 실질을 더 잘 반영합니다.
3. 그러나 최종적인 판단은 구체적인 계약 조건, 거래의 성격, 당사자 간의 약정 등을 종합적으로 고려하여 이루어져야 합니다.

따라서, 이전의 답변에서 비례 분배 방식만을 옳다고 단정 지은 것은 적절치 않았습니다.
실제로는 개별 상황에 따라 적절한 방식이 달라질 수 있으며, 관련 법규와 계약 조건을 세밀히 검토해야 합니다.

## 할인, 면세공급가액, 부가세 등

원래 아래와 같은 의견을 누가 제안하였고,

> 면세공급가액을 지정한 경우는 원래 요청 금액과 면세공급가액의 비율이 원래 요청한 것과 동일하도록 면세공급가액 값을 줄이려고 하고,
> 부가세를 지정한 경우는 프로모션이 적용되어도 사용자가 넣어준 값을 신뢰하고 그대로 고정하려고 하는데 괜찮을까요?

위 내용에 기반하여 할인과 면세공급가액과 부가세 등에 대해 정리를 해봤습니다.

> [!NOTE]  
> 할인 전 결제 요청 금액이 8,000원이고 면세공급가액가 3,000원인 경우
> 8,000원에서 과세와 면세가 차지하는 비율을 다음과 같습니다
>
> - 원래 과세 비율: 8,000 * 5/8 = 5,000원
> - 원래 면세 비율: 8,000 * 3/8 = 3,000원
>
> 할인의 경우에는 결제 요청 후 내부 서비스 통해서 할인 금액을 확보하고, PG사 통해서 실제 승인이 되면
> 확보했던 할인 금액을 확정 짓습니다.
>
> 따라서 클라이언트 입장에서는 프로모션이 적용될지 안될지 요청 당시에는 알 수 없기에 프로모션을 고려하지 않고
> 원래 결제 금액에 대한 면세공급가액을 요청하도록 하고, 프로모션이 적용되면 원래의 비율대로 할인금액을 안분하여
> 적용하도록 했습니다.
>
> 따라서 8,000원에 대해 면세공급가액 3,000원, 할인 1,000원이 적용되면, 할인 금액 1,000원에 대하여
> - 1,000 * 5/8 = 과세에 안분할 할인 금액 = 625원
> - 1,000 - 과세에 안분할 할인 금액 = 면세에 안분할 할인 금액 = 375원
>
> 이렇게 할인이 적용되고, 이 결과 조정된 금액의 구성은 아래와 같이 정리할 수 있습니다.
> - 요청 금액: 8,000원
> - 요청한 면세공급가액: 3,000원
> - 할인 금액: 1,000원
> - 실결제 금액: 7,000원
> - 조정된 면세공급가액 = 요청한 면세공급가액 3,000원 - 면세에 안분할 할인 금액 375원 = 2,625원
> - 과세표준(공급가액) = 7,000 - 2,625원 = 4,375원

다른 누가 제안했던 내용이 제가 정리한 내용과 동치인가요?

정리한 내용을 대한민국 세법, 판례, 국세청 의견 등을 기준으로 최대한 엄격하고 엄밀하고 꼼꼼하게 리뷰해주세요.

1. 원래 제안된 내용과 정리한 내용의 동치성 분석:

원래 제안된 내용과 정리한 내용은 기본적인 접근 방식에서 일치하지만, 몇 가지 중요한 차이점이 있습니다:

1. 면세공급가액에 대한 접근:
    - 원래 제안: 면세공급가액의 비율을 유지하기 위해 값을 줄이는 방식
    - 정리된 내용: 할인을 과세와 면세에 비율적으로 안분하여 적용하는 방식

    두 접근 모두 원래의 과세/면세 비율을 유지하려는 목적은 같지만, 구체적인 방법에서 차이가 있습니다.

2. 부가세에 대한 접근:
    - 원래 제안: 부가세를 고정값으로 유지
    - 정리된 내용: 부가세에 대한 명시적 언급 없음 (과세표준을 계산하는 것으로 보아 부가세는 이에 따라 변동될 것으로 추정됨)

    이 부분에서 두 접근 방식이 다릅니다.

3. 구체성:
    - 원래 제안: 일반적인 원칙만 제시
    - 정리된 내용: 구체적인 예시와 계산 방법을 상세히 설명

    정리된 내용이 더 구체적이고 실제 적용 방법을 명확히 보여줍니다.

결론적으로, 두 내용은 완전히 동일하지는 않지만, *면세공급가액의 처리에 있어서는 유사한 접근*을 취하고 있습니다.
부가세 처리에 대해서는 차이가 있으며, 정리된 내용이 더 상세하고 구체적인 방법을 제시하고 있습니다.

대한민국 세법, 판례, 국세청 의견 등을 기준으로 보면 다음과 같이 정리할 수 있습니다.

1. 과세/면세 거래의 구분:
    부가가치세법 제26조에 따르면, 재화 또는 용역의 공급에 대한 부가가치세 과세와 면세를 명확히 구분해야 합니다.
    정리된 내용에서 과세와 면세를 구분하여 처리하는 방식은 이 원칙에 부합합니다.

2. 할인의 처리:
    국세청 예규 및 판례에 따르면, *할인은 공급가액에서 차감되어야* 합니다.
    정리된 내용에서 할인을 과세와 면세에 안분하여 적용하는 방식은 이 원칙을 준수하고 있습니다.
    다만, 할인의 성격(예: 에누리, 판매장려금 등)에 따라 처리 방식이 달라질 수 있습니다.
    따라서 할인의 정확한 성격을 파악하는 것이 중요합니다.

3. 부가가치세 계산:
    부가가치세법 제29조에 따르면, 부가가치세는 공급가액에 10%를 적용하여 계산합니다.
    정리된 내용에서는 과세표준(공급가액)을 명확히 계산하고 있어, 이를 바탕으로 정확한 부가가치세 계산이 가능합니다.

4. 기록의 정확성:
    부가가치세법 시행령 제69조에 따르면, 사업자는 거래 내용을 사실대로 기록하고 관리해야 합니다.
    정리된 내용에서 상세한 계산 과정을 제시하는 것은 이 원칙에 부합합니다.

5. 영수증 발급:
    부가가치세법 제32조 및 동법 시행령 제73조에 따르면, 영수증에는 공급가액과 부가가치세액을 구분하여 기재해야 합니다.
    정리된 내용에서 과세표준과 면세공급가액을 명확히 구분하고 있어, 이를 바탕으로 정확한 영수증 발급이 가능합니다.

6. 안분 계산:
    국세청 예규 및 판례에 따르면, 과세와 면세가 혼합된 거래에서 공통되는 요소(예: 할인)는 합리적인 방법으로 안분해야 합니다.
    정리된 내용에서 할인을 과세와 면세 비율에 따라 안분하는 방식은 이 원칙에 부합합니다.

개선 필요 사항:
1. 부가가치세액의 명시적 계산: 과세표준(공급가액)을 계산한 후, 이에 대한 부가가치세액을 명확히 계산하여 제시해야 합니다.
2. 할인의 성격 명확화: 할인의 정확한 성격(에누리, 판매장려금 등)을 명시하고, 그에 따른 처리 방식을 설명해야 합니다.
3. 영수증 발급 예시: 계산된 금액을 바탕으로 실제 영수증 발급 예시를 제시하면 더욱 명확할 것입니다.

---
네, 맞습니다. 원래 제안에서 "면세공급가액의 비율을 유지하기 위해 값을 줄이는 방식"은 실질적으로 할인 금액을 안분하여 면세/과세에 적용하는 것과 동일한 결과를 가져옵니다. 이를 수식화하면 다음과 같습니다:

1. 원래 금액 구성:
   - 총 금액: $T$
   - 원래 면세공급가액: $E$
   - 원래 과세공급가액: $T - E$

2. 할인 후:
   - 할인 금액: $D$
   - 할인 후 총 금액: $T' = T - D$

3. 면세공급가액 비율 유지:

    **원래 면세 비율**:

    ${E}\div{T}$

    **할인 후 면세공급가액**:

    $E'$ = 할인 후 총 금액 * 원래 면세공급가액의 비율

    1. 할인 후 총 금액: $(T - D)$
    2. 원래 총 금액 대비 면세공급가액의 비율: $(E \div T)$
    3. 할인 후 총 금액에 원래의 면세 비율을 적용: 할인 후 총 금액 * 원래 총 금액 대비 면세공급가액의 비율

    **할인 적용한 면세공급가액**:

    $E'=\text{할인 후 총 금액}\times{\text{원래 면세공급가액의 비율}}$

    1. 할인 후 총 금액: $(T - D)$

    2. 원래 총 금액 대비 면세공급가액의 비율: $(E \div T)$

    이 두 항을 곱하는 것은, 할인 후 총 금액에 원래의 면세 비율을 적용하는 것을 의미합니다.

    = $T'\times{(E\div{T})}$

    = $(T - D)\times(E\div{T})$

    = $(T\times{(E\div{T})}) - (D\times{(E\div{T})})$

    = $(T\times{E\div{T}}) - (D\times{E\div{T}})$

    = $(E\times{T\div{T}}) - (D\times{E\div{T}})$

    = $(E\times{1}) - (D\times{E\div{T}})$

    = $E - (D\times{E\div{T}})$

4. 할인 금액의 안분:

     **면세에 안분된 할인**:

    $D\times{(E\div{T})}$

    **과세에 안분된 할인**:

    $D\times{((T - E)\div{T})}$

이 수식을 보면, "면세공급가액의 비율을 유지하기 위해 값을 줄이는 방식"은 결국 *할인 금액(D)을 원래의 면세/과세 비율에 따라 안분하여 적용하는 것*과 동일함을 알 수 있습니다.

예를 들어, 원래 제안에서:
- 총 금액이 10,000원
- 면세공급가액이 3,000원
- 할인이 1,000원 적용된다면

할인 후 면세공급가액은:
E' = (10,000 - 1,000) * (3,000 / 10,000) = 2,700원

이는 다음과 동일합니다:
원래 면세공급가액 - 면세에 안분된 할인 = 3,000 - (1,000 * 3,000 / 10,000) = 2,700원

원래의 순차적 계산 방식은  이러한 정리가 가능한 이유를 단계별로 설명해 드리겠습니다.

1. 원래의 순차적 계산 방식:
   1. 전체 금액에서 할인액을 뺀다: $T - D$
   2. 원래 면세공급가액의 비율을 계산한다: $E \div T$
   3. 할인 후 금액에 원래 면세공급가액 비율을 적용한다: $(T - D) \times (E \div T)$

2. 한 줄로 정리된 방식:

   "$\text{할인 후 총 금액} \times \text{원래 면세공급가액의 비율}$

   = $(T - D) \times (E \div T)$

이 두 방식이 동일한 결과를 내는 이유는 다음과 같습니다:

1. 비율의 불변성:
   - 할인은 전체 금액에 균등하게 적용됩니다.
   - 따라서 할인 전후의 면세공급가액과 과세공급가액의 비율은 변하지 않습니다.

2. 곱셈의 분배 법칙:
   - (T - D) *(E / T) = (T* E / T) - (D *E / T) = E - (D* E / T)

   이는 "원래 면세공급가액 - (할인액 * 원래 면세공급가액 비율)"과 동일합니다.

3. 비례의 원리:
   - 전체에 대한 할인이 각 부분에 비례하여 적용됩니다.
   - 면세공급가액의 감소 비율 = 전체 금액의 감소 비율

이러한 수학적 원리들로 인해, 복잡해 보이는 순차적 계산이 간단한 한 줄의 공식으로 정리될 수 있습니다.

실제 예시로 검증해보겠습니다:

총 금액(T) = 10,000원
면세공급가액(E) = 3,000원
할인액(D) = 1,000원

순차적 계산:
1) 할인 후 총 금액 = 10,000 - 1,000 = 9,000원
2) 원래 면세공급가액 비율 = 3,000 / 10,000 = 0.3
3) 할인 후 면세공급가액 = 9,000 * 0.3 = 2,700원

한 줄 공식:
할인 후 면세공급가액 = (T - D) *(E / T)
                    = (10,000 - 1,000)* (3,000 / 10,000)
                    = 9,000 * 0.3
                    = 2,700원

두 방식 모두 동일한 결과를 산출합니다. 이는 복잡한 과정을 거치지 않고도 정확한 결과를 얻을 수 있음을 보여줍니다.

### 순차적인 계산과 정리된 수식이 동치임을 증명

먼저, 두 방식을 수식으로 표현해보겠습니다:

1. 원래 방식 (할인 금액 안분 방식):

    조정된 면세공급가액 = E - (D * E / T)
    - E: 원래 면세공급가액
    - D: 할인 금액
    - T: 원래 총 금액

2. 새로운 방식 (할인 후 총액에 비율 적용):

   조정된 면세공급가액 = (T - D) * (E / T)

이 두 수식이 동일함을 증명해보겠습니다:

(T - D) *(E / T)

= (TE - DE) / T  (곱셈의 분배법칙 적용)

= TE/T - DE/T    (뺄셈의 분배법칙 적용)

= E - DE/T       (TE/T는 E와 같음)

= E - (D* E / T)

따라서 두 방식은 수학적으로 동일합니다.

이제 예시를 통해 자세히 설명해드리겠습니다:

주어진 정보:
- 요청 금액(T): 8,000원
- 요청한 면세공급가액(E): 3,000원
- 할인 금액(D): 1,000원

1. 원래 방식 (할인 금액 안분 방식):
   - 면세에 안분할 할인 금액 = D *(E / T) = 1,000* (3,000 / 8,000) = 375원
   - 조정된 면세공급가액 = E - (D * E / T) = 3,000 - 375 = 2,625원

2. 새로운 방식 (할인 후 총액에 비율 적용):
   - 할인 후 총액 = T - D = 8,000 - 1,000 = 7,000원
   - 원래 면세공급가액 비율 = E / T = 3,000 / 8,000 = 0.375
   - 조정된 면세공급가액 = (T - D) *(E / T) = 7,000* 0.375 = 2,625원

두 방식 모두 동일한 결과(2,625원)를 산출합니다.

이 두 방식이 동일한 결과를 내는 이유는 다음과 같습니다:

1. 비율의 보존:
   할인을 적용하더라도 전체 금액 대비 면세공급가액의 비율은 변하지 않습니다.

2. 선형성:
   할인은 전체 금액에 균등하게 적용되므로, 각 구성 요소(면세/과세)에도 동일한 비율로 적용됩니다.

3. 수학적 항등성:
   "전체에서 일부를 뺀 후 비율을 곱하는 것"과 "전체에 비율을 곱한 후 그 비율만큼의 할인을 빼는 것"은 수학적으로 동일한 연산입니다.

이러한 원리로 인해, 복잡해 보이는 할인 금액 안분 방식과 간단해 보이는 할인 후 총액 비율 적용 방식이 동일한 결과를 산출하게 됩니다. 두 방식 모두 정확하며, 상황에 따라 더 이해하기 쉽거나 계산하기 편한 방식을 선택할 수 있습니다.

---

위와 같이 유도될 수 있는 이유

시작 수식: $조정된 면세공급가액 = E - (D * E / T)$

유도 과정:

1) 먼저, 원래 수식의 우변에 $T/T$를 곱합니다. $T/T = 1$이므로 수식의 값은 변하지 않습니다.

   $E - (D * E / T) = (E * T/T) - (D * E / T)$

2) 오른쪽 항의 분모와 분자를 통일합니다.

   $= (ET/T) - (DE/T)$

3) 동류항으로 만들기 위해 괄호로 묶습니다.

   $= (ET - DE) / T$

4) 괄호 안의 식을 인수분해합니다.

   $= (T - D) * E / T$

5) 마지막으로, 분수의 곱셈 법칙을 적용하여 최종 형태를 얻습니다.

   $= (T - D) * (E / T)$

이렇게 해서 우리는 원래 수식 $E - (D * E / T)$에서 새로운 수식 $(T - D) * (E / T)$를 유도했습니다.

왜 이런 유도가 가능한지 설명드리겠습니다:

1) 수학적 동등성:
   각 단계에서 우리는 수학적으로 동등한 변형만을 수행했습니다. 따라서 원래 식의 값은 변하지 않습니다.

2) 분배 법칙의 역적용:
   $ET/T - DE/T$는 $(ET - DE) / T$와 동일합니다. 이는 분배 법칙을 역으로 적용한 것입니다.

3) 인수분해:
   $ET - DE$는 $E$를 공통인수로 갖습니다. 이를 인수분해하면 $E(T - D)$가 됩니다.

4) 비례의 원리:
   $E/T$는 원래 총액 대비 면세공급가액의 비율을 나타냅니다. $(T - D)$는 할인 후 총액입니다. 이 둘을 곱하는 것은 할인 후 총액에 원래의 면세 비율을 적용하는 것과 같습니다.

5) 경제적 의미:
   - $E - (D * E / T)$: "원래 면세공급가액에서 할인액 중 면세에 해당하는 부분을 뺀다"
   - $(T - D) * (E / T)$: "할인 후 총액에 원래 면세 비율을 적용한다"

   이 두 접근은 경제적으로 동일한 의미를 갖습니다.

이러한 수학적, 경제적 원리들로 인해 두 수식은 동일한 결과를 산출하며, 서로 유도가 가능합니다. 이는 복잡한 계산을 더 직관적이고 간단한 형태로 표현할 수 있게 해주며, 다양한 상황에서 유연하게 적용할 수 있는 장점을 제공합니다.

## 외국 결제와 세금

외화의 경우에도 면세공급가액이나 부가세 등을 계산해야 할까?
- 가령 A라는 사업자가 "something"이라는 상품을 USD 로 판매하고 있습니다.
- 이를 대한민국 고객이 구매한다고 할 때
  
1. 이때 세금은 어떻게 되는 걸까?
2. 10.50 dollar 상품이라고 할 때, 판매자는 면세공급가액이나 부가세를 설정해야 할까?
3. 부가세를 대한민국에 내야 할까?

```php
    public static function calculate($params)
    {
        $totalAmount = $params['amount'];
        $vatAmount = null;
        $taxFreeAmount = null;
        $supplyAmount = null;
        $discountAmount = null;
        $currency = 'KRW';

        if (!empty($params['currency'])) {
            $currency = $params['currency'];
        }

        if ($currency === 'KRW') {
            $totalAmount = intval($totalAmount);
        } else {
            $totalAmount = floatval($totalAmount);
        }

        if (isset($params['vat_amount'])) {
            $vatAmount = (int)$params['vat_amount'];
        }
        if (isset($params['supply_amount'])) {
            $supplyAmount = (int)$params['supply_amount'];
        }
        if (isset($params['tax_free'])) {
            $taxFreeAmount = (int)$params['tax_free'];
        }
```

---

한국의 부가가치세법에 따르면, 외화로 거래되는 재화나 용역의 공급에 대해서도 부가가치세가 적용될 수 있습니다.
하지만 구체적인 상황에 따라 처리 방법이 달라질 수 있습니다.

1. 국외 사업자의 경우:
   - 만약 A 사업자가 한국에 사업장이 없는 국외 사업자라면, 일반적으로 한국 부가가치세 납부 의무가 없습니다.
   - 하지만 최근 도입된 '전자적 용역에 대한 과세' 제도에 따라, 전자적 용역(앱, 소프트웨어 등)을 제공하는 국외 사업자는 한국 부가가치세를 납부해야 할 수 있습니다.

2. 국내 사업자의 경우:
   - A 사업자가 한국 내 사업장이 있는 경우, 외화로 판매하더라도 부가가치세를 납부해야 합니다.
   - 이 경우 외화 금액을 원화로 환산하여 부가가치세를 계산합니다.

3. 환율 적용:
   - 외화 거래의 경우, 거래 당시의 환율을 적용하여 원화로 환산한 후 세금을 계산합니다.
   - 일반적으로 거래일의 기준 환율이나 재정환율을 사용합니다.

4. 영세율 적용:
   - 수출이나 국외에서 제공되는 용역 등 특정 거래의 경우 영세율(0% 세율)이 적용될 수 있습니다.

이제 주어진 코드를 바탕으로 다양한 케이스를 계산해보겠습니다:

케이스 1: 국내 일반 과세 거래 (원화)

```php
$params = [
    'amount' => 11000,
    'currency' => 'KRW',
    'supply_amount' => 10000,
    'vat_amount' => 1000
];
$result = calculate($params);
```

설명:
- 총액 11,000원 중 공급가액은 10,000원, 부가세는 1,000원입니다.
- 이는 일반적인 10% 부가세가 적용된 경우입니다.

케이스 2: 국내 면세 거래 (원화)

```php
$params = [
    'amount' => 10000,
    'currency' => 'KRW',
    'tax_free' => 10000
];
$result = calculate($params);
```

설명:
- 총액 10,000원이 모두 면세 금액입니다.
- 면세 거래이므로 부가세가 없습니다.

케이스 3: 외화 거래 (USD, 부가세 적용)

```php
$params = [
    'amount' => 10.50,
    'currency' => 'USD',
    'supply_amount' => 9.55,
    'vat_amount' => 0.95
];
$result = calculate($params);
```

설명:
- 총액 $10.50 중 공급가액은 $9.55, 부가세는 $0.95입니다.
- 이는 외화로 거래되지만 부가세가 적용되는 경우입니다 (예: 국내 사업자의 외화 거래).

케이스 4: 외화 거래 (영세율 적용)

```php
$params = [
    'amount' => 10.50,
    'currency' => 'USD',
    'supply_amount' => 10.50,
    'vat_amount' => 0
];
$result = calculate($params);
```

설명:
- 총액 $10.50가 모두 공급가액이며, 부가세는 $0입니다.
- 이는 영세율이 적용되는 거래(예: 수출)의 경우입니다.

주의사항:
1. 이 코드는 기본적인 계산만을 수행합니다. 실제 상황에서는 더 복잡한 규칙이 적용될 수 있습니다.
2. 외화 거래의 경우, 실제 세금 신고 시에는 해당 거래일의 환율을 적용하여 원화로 환산해야 합니다.
3. 국가간 거래의 경우, 양국의 조세조약이나 특별 규정이 적용될 수 있으므로 전문가의 조언이 필요할 수 있습니다.

마지막으로, 10.50달러 상품의 경우:
- 만약 A 사업자가 한국 내 사업장이 있는 경우, 이 금액을 원화로 환산한 후 부가세를 계산해야 합니다.
- A 사업자가 국외 사업자이고 해당 상품이 전자적 용역이 아니라면, 일반적으로 한국 부가세를 납부할 필요가 없습니다.
- 구매자인 한국 고객은 별도로 부가세를 내지 않습니다. (단, 특정 상황에서는 구매자가 부가세를 신고하고 납부해야 할 수 있습니다.)

이러한 세금 문제는 복잡하고 상황에 따라 다르게 적용될 수 있으므로, 정확한 처리를 위해서는 세무 전문가의 조언을 받는 것이 좋습니다.
