# Go build

## `gcflags`

Go 언어에서 `gcflags`는 Go 컴파일러의 옵션을 설정하는 데 사용되는 플래그다.
이 플래그를 통해 컴파일 과정에서 다양한 최적화 옵션을 활성화하거나 비활성화할 수 있다.

## `gcflags` 사용 방법

`gcflags`는 `go build` 또는 `go run` 명령어와 함께 사용됩니다. 예를 들어, 최적화를 비활성화하고 인라이닝을 방지하려면 다음과 같이 명령어를 작성할 수 있습니다:

```bash
go build -gcflags='-N -l'
```

또는, 어셈블리 코드를 출력하고 싶다면:

```bash
go build -gcflags='-S'
```

## 주요 `gcflags` 옵션

- **-N**: 최적화를 비활성화합니다. 이 옵션은 컴파일러가 코드를 최적화하지 않도록 합니다. 디버깅을 용이하게 하기 위해 사용되며, 실행 속도보다는 컴파일 시간과 디버깅 정보의 정확성을 우선시합니다.

- **-l**: 인라이닝을 방지합니다. 인라이닝은 함수 호출을 함수 본문으로 대체하는 최적화 기법입니다. `-l` 옵션은 이러한 인라이닝을 방지하여, 함수 호출 스택을 보존하고 디버깅을 용이하게 합니다.

- **-m**: 컴파일 과정에서 적용되는 최적화 정보를 출력합니다. 이 옵션은 컴파일러가 어떤 최적화를 적용하고 있는지 확인하는 데 유용합니다.

- **-S**: 어셈블리 코드를 출력합니다. 이 옵션은 컴파일러가 생성하는 어셈블리 코드를 확인하고, 최적화 과정을 이해하는 데 도움이 됩니다.

## 작동 방식

`gcflags` 옵션들은 컴파일러에게 컴파일 과정에서 어떤 최적화를 적용할지, 적용하지 않을지를 지시합니다. 예를 들어, `-N` 옵션은 컴파일러에게 최적화를 수행하지 않도록 지시하며, `-l` 옵션은 인라이닝을 방지하도록 지시합니다. 이러한 옵션들은 컴파일러가 코드를 어떻게 최적화하고, 어떤 최적화를 적용하지 않을지를 결정하는 데 중요한 역할을 합니다.

`gcflags`를 사용하면, 개발자는 컴파일 과정을 세밀하게 제어할 수 있으며, 디버깅, 성능 측정, 그리고 최적화 전략 개발에 도움이 됩니다.

## Examples

### `-gcflags '-N -l'`

```bash
# 최적화를 비활성화하고 인라이닝을 방지
-gcflags '-N -l'
```
