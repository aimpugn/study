# Structure

## 파일과 디렉토리 구조

Rust 프로젝트는 `src` 디렉토리에 소스 코드를 포함하고, `Cargo.toml` 파일로 구성된다.
`main.rs`는 바이너리 크레이트의 진입점이며, `lib.rs`는 라이브러리 크레이트의 진입점이다.

`query_to_json.rs` 파일을 만들고 `mod query_to_json;`를 `main.rs`에 추가했다면, `query_to_json` 모듈을 생성한 것이다.
`query_to_json` 모듈 안의 항목을 사용하려면, 해당 항목(함수, 구조체 등)에 `pub` 키워드를 붙여야 한다.

## 디렉토리 구조와 모듈 사용

디렉토리를 모듈로 사용하려면, 해당 디렉토리 안에 `mod.rs` 파일을 생성한다.
예를 들어, `src/utils/` 디렉토리를 모듈로 사용하려면, `src/utils/mod.rs` 파일에서 모듈을 정의한다.

디렉토리에 있는 파일을 모듈로 사용할 때, `mod.rs`에서 `mod 파일이름;`을 사용하여 하위 모듈을 선언할 수 있다.
그리고 `pub` 키워드를 사용하여 모듈 또는 모듈 내 항목을 공개할 수 있다.

## 모듈과 `pub` 키워드

- **모듈**

    Rust에서 모듈은 코드를 그룹화하고, 가독성을 향상시키며, 재사용성을 높이는 방법을 제공한다.
    파일 또는 디렉토리로 구성될 수 있다.

    `mod` 키워드는 파일 또는 디렉토리를 현재 크레이트의 모듈로 선언하는 데 사용된다.
    모듈 시스템을 통해 코드를 논리적인 단위로 나누고, 네임스페이스를 제공한다.

- **`pub` 키워드**

    `pub` 키워드는 함수, 구조체, 열거형, 모듈 등이 공개적으로 접근 가능함을 나타낸다.
    모듈이나 크레이트 외부에서 접근하려면, 해당 항목은 `pub`으로 선언되어야 한다.

## Crate란?

Rust에서의 크레이트(crate)는 Rust 패키지를 의미한다.
크레이트는 라이브러리나 실행 가능한 프로그램을 만들기 위한 코드, 리소스, 메타데이터의 컬렉션이다.
크레이트는 컴파일의 단위이며, 크레이트 내에서 코드가 구성되고 관리된다.

크레이트는 두 가지 타입이 있다.
- 바이너리 크레이트: 실행 가능한 프로그램을 생성
- 라이브러리 크레이트: 재사용 가능한 코드를 포함하여 다른 크레이트에서 사용할 수 있다.

## 예시

```rust
// src/utils/mod.rs
pub mod query_to_json; // src/utils/query_to_json.rs 파일을 모듈로 선언
```

```rust
// src/main.rs
mod utils; // src/utils 디렉토리를 모듈로 선언

fn main() {
    // utils 모듈 내의 query_to_json 모듈 사용
    let json = utils::query_to_json::query_to_json("key=value");
}
```

Rust의 모듈 시스템과 `pub` 키워드는 코드를 논리적으로 구성하고, 접근 제어를 관리하는 강력한 메커니즘을 제공합니다. 이를 통해 크고 복잡한 프로젝트도 쉽게 관리할 수 있습니다.
