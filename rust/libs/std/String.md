# [std::string::String](https://doc.rust-lang.org/std/string/struct.String.html)

- [std::string::String](#stdstringstring)
    - [from\_utf8\_lossyì˜ ë™ìž‘ ì›ë¦¬](#from_utf8_lossyì˜-ë™ìž‘-ì›ë¦¬)
        - [ëŒ€ì•ˆì  ì ‘ê·¼ ë°©ì‹](#ëŒ€ì•ˆì -ì ‘ê·¼-ë°©ì‹)

## from_utf8_lossyì˜ ë™ìž‘ ì›ë¦¬

`String::from_utf8_lossy`ëŠ” ë°”ì´íŠ¸ ìŠ¬ë¼ì´ìŠ¤ë¥¼ UTF-8 ë¬¸ìžì—´ë¡œ ë³€í™˜í•˜ëŠ” í•¨ìˆ˜ìž…ë‹ˆë‹¤. ê·¸ ë™ìž‘ ì›ë¦¬ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:

- ìœ íš¨í•œ UTF-8 ì‹œí€€ìŠ¤ ê²½ìš°: ì •ìƒì ìœ¼ë¡œ UTF-8 ë¬¸ìžë¡œ ë³€í™˜ë©ë‹ˆë‹¤.

- ìž˜ëª»ëœ UTF-8 ì‹œí€€ìŠ¤ ê²½ìš°: U+FFFD REPLACEMENT CHARACTER (ï¿½)ë¡œ ëŒ€ì²´ë©ë‹ˆë‹¤.

- ì²˜ë¦¬ ê³¼ì •:
    - ë°”ì´íŠ¸ ìŠ¬ë¼ì´ìŠ¤ë¥¼ ìˆœíšŒí•˜ë©° UTF-8 ë””ì½”ë”©ì„ ì‹œë„í•©ë‹ˆë‹¤.
    - ìœ íš¨í•œ ì‹œí€€ìŠ¤ëŠ” ê·¸ëŒ€ë¡œ ìœ ì§€ë©ë‹ˆë‹¤.
    - ìž˜ëª»ëœ ì‹œí€€ìŠ¤ë¥¼ ë§Œë‚˜ë©´ í•´ë‹¹ ë¶€ë¶„ì„ ï¿½ ë¬¸ìžë¡œ ëŒ€ì²´í•˜ê³  ê³„ì† ì§„í–‰í•©ë‹ˆë‹¤.

```rust
use std::str::from_utf8_lossy;

fn main() {
    // ìœ íš¨í•œ UTF-8
    let valid = [240, 159, 146, 150];
    println!("Valid: {}", from_utf8_lossy(&valid));  // ì¶œë ¥: "ðŸ’–"

    // ìž˜ëª»ëœ UTF-8 í¬í•¨
    let invalid = [0, 159, 146, 150];
    println!("Invalid: {}", from_utf8_lossy(&invalid));  // ì¶œë ¥: "ï¿½ï¿½ï¿½ï¿½"

    // í˜¼í•©ëœ ê²½ìš°
    let mixed = [240, 159, 146, 150, 0, 65, 66, 67];
    println!("Mixed: {}", from_utf8_lossy(&mixed));  // ì¶œë ¥: "ðŸ’–ï¿½ABC"
}
```

`from_utf8_lossy`ë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

1. ì•ˆì „ì„±:
    - íŒ¨ë‹‰ ì—†ì´ í•­ìƒ ìœ íš¨í•œ UTF-8 ë¬¸ìžì—´ì„ ìƒì„±í•©ë‹ˆë‹¤.
    - ë°ì´í„° ì†ì‹¤ ê°€ëŠ¥ì„±ì„ ê°ìˆ˜í•˜ê³  í”„ë¡œê·¸ëž¨ì˜ ì•ˆì •ì„±ì„ ìš°ì„ ì‹œí•©ë‹ˆë‹¤.

2. ë°ì´í„° ë³´ì¡´:
    - ê°€ëŠ¥í•œ í•œ ë§Žì€ ì›ë³¸ ë°ì´í„°ë¥¼ ìœ ì§€í•˜ë ¤ê³  í•©ë‹ˆë‹¤.
    - ìž˜ëª»ëœ ë¶€ë¶„ë§Œ ëŒ€ì²´í•˜ê³  ë‚˜ë¨¸ì§€ëŠ” ë³´ì¡´í•©ë‹ˆë‹¤.

3. ë””ë²„ê¹… ìš©ì´ì„±:
    - `ï¿½` ë¬¸ìžì˜ ì¡´ìž¬ë¡œ ìž˜ëª»ëœ UTF-8 ì‹œí€€ìŠ¤ì˜ ìœ„ì¹˜ë¥¼ ì‰½ê²Œ íŒŒì•…í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

4. ì„±ëŠ¥:
    - ìµœì í™”ëœ êµ¬í˜„ìœ¼ë¡œ ëŒ€ë¶€ë¶„ì˜ ê²½ìš° íš¨ìœ¨ì ìž…ë‹ˆë‹¤.

### ëŒ€ì•ˆì  ì ‘ê·¼ ë°©ì‹

ë•Œì— ë”°ë¼ `from_utf8_lossy` ëŒ€ì‹  ë‹¤ë¥¸ ë°©ë²•ì„ ì„ íƒí•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤:

1. `std::str::from_utf8`: UTF-8 ê²€ì¦ë§Œ ìˆ˜í–‰í•˜ê³  ì˜¤ë¥˜ ì‹œ ì‹¤íŒ¨í•©ë‹ˆë‹¤.
2. `String::from_utf8`: ì†Œìœ ê¶Œì„ ê°€ì§„ Stringì„ ìƒì„±í•˜ë©°, ì‹¤íŒ¨ ì‹œ ì›ë³¸ ë°”ì´íŠ¸ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
3. ì§ì ‘ êµ¬í˜„: íŠ¹ì • ìš”êµ¬ì‚¬í•­ì— ë§žëŠ” ì‚¬ìš©ìž ì •ì˜ ë””ì½”ë”© ë¡œì§ì„ ë§Œë“­ë‹ˆë‹¤.

    ```rust
    fn custom_decode(bytes: &[u8]) -> String {
        bytes.iter().map(|&b| b as char).collect()
    }
    ```
